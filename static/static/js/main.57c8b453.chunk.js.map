{"version":3,"sources":["components/Player/player.module.css","components/Main/components/Music/components/Song/song.module.css","components/Main/components/Register/register.module.css","components/Main/components/Login/login.module.css","components/Header/header.module.css","components/Main/components/Forgot/forgot.module.css","components/Main/components/Upload/upload.module.css","components/Player/components/SoundBadge/soundBadge.module.css","components/Main/components/Status/status.module.css","components/Player/components/Timeline/timeline.module.css","components/Player/icons.svg","components/Main/components/Music/components/Song/icons.svg","components/Main/components/Music/music.module.css","components/Modal/modal.module.css","components/App/app.module.css","components/Main/main.module.css","components/App/bg.jpg","actions/login.js","components/Header/index.jsx","actions/error.js","components/Main/components/Status/index.jsx","components/Main/components/Login/index.jsx","components/Main/components/Register/index.jsx","components/Main/components/Forgot/index.jsx","actions/player.js","components/Main/components/Music/components/Song/index.jsx","components/Main/components/Music/index.jsx","components/Main/components/Upload/index.jsx","components/Main/routes.jsx","components/Main/index.jsx","components/Player/components/Timeline/index.jsx","components/Player/components/SoundBadge/index.jsx","components/Player/index.jsx","components/Modal/index.jsx","components/App/index.jsx","reducers/login.js","reducers/player.js","reducers/error.js","reducers/root.js","store/index.js","serviceWorker.js","index.jsx"],"names":["module","exports","player","wrapper","controls","control","icon","volume","volumeWrapper","volumeSlider","volumeBackground","volumeBar","track","cover","defaultCover","button","play","content","actions","action","info","title","author","register","main","inputWrapper","right","input","submit","link","login","header","inner","left","logoLink","logo","navWrapper","forgot","note","upload","file","fileInput","filename","soundBadge","titleContextContainer","truncate","status","body","item","timeline","progressWrapper","progressBackground","progressBar","timePassed","duration","__webpack_require__","p","music","songList","modal","message","app","container","modalWrapper","token","type","payload","Header","_this","this","e","preventDefault","_this$props","props","setToken","history","window","localStorage","removeItem","push","react_default","a","createElement","className","styles","react_router_dom","to","viewBox","d","onClick","logout","React","Component","connect","store","dispatch","withRouter","process","REACT_APP_API_URL","Status","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","disk","updateStatus","interval","setInterval","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","_this2","stop","clearInterval","setError","uri","headers","accept","content-type","fetch","method","then","r","json","Error","setState","_context3","t0","filesize","totalSpace","usedSpace","maxFileSize","errAction","Login","username","password","uuids","uuidv4","_this$uuids","_e$target","target","id","value","JSON","stringify","setItem","htmlFor","placeholder","onChange","onInput","bind","Register","email","retry","test","uuid","ref","Forgot","requestPasswordChange","Song","i","np","setNP","pause","setPause","_this$props2","edit","concat","icons","style","backgroundImage","xmlnsXlink","xlinkHref","defaultProps","nowPlaying","paused","songs","_ref","map","song","components_Song","key","Upload","name","files","dataTransfer","size","authorization","x-uploaded-filename","encodeURI","onDrop","onDragOver","routes","path","component","components_Status","exact","components_Music","components_Upload","components_Login","components_Register","components_Forgot","Main","route","react_router","slice","Timeline","moment","format","width","SoundBadge","Player","currentTime","loop","shuffle","muted","audio","createRef","setSongs","length","loadSong","current","document","_this$props3","Math","round","random","currentTarget","attributes","nodeValue","_this$props4","getBoundingClientRect","clientY","top","height","_this$state","data-t","onClickControl","fill","components_Timeline","role","onClickVolumeSlider","components_SoundBadge","src","url","onLoadedMetadata","onCanPlay","onTimeUpdate","onVolumeChange","onEnded","Modal","clearError","setTimeout","error","bg","components_Header","components_Main","components_Player","components_Modal","initialState","getItem","rootReducer","combineReducers","arguments","undefined","objectSpread","createStore","Boolean","location","hostname","match","ReactDOM","render","es","components_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"6EACAA,EAAAC,QAAA,CAAkBC,OAAA,uBAAAC,QAAA,wBAAAC,SAAA,yBAAAC,QAAA,wBAAAC,KAAA,qBAAAC,OAAA,uBAAAC,cAAA,8BAAAC,aAAA,6BAAAC,iBAAA,iCAAAC,UAAA,iDCAlBX,EAAAC,QAAA,CAAkBW,MAAA,oBAAAC,MAAA,oBAAAC,aAAA,2BAAAC,OAAA,qBAAAC,KAAA,mBAAAV,KAAA,mBAAAW,QAAA,sBAAAC,QAAA,sBAAAC,OAAA,qBAAAC,KAAA,mBAAAC,MAAA,oBAAAC,OAAA,yCCAlBtB,EAAAC,QAAA,CAAkBsB,SAAA,2BAAAF,MAAA,wBAAAG,KAAA,uBAAAC,aAAA,+BAAAC,MAAA,wBAAAC,MAAA,wBAAAC,OAAA,yBAAAC,KAAA,4CCAlB7B,EAAAC,QAAA,CAAkB6B,MAAA,qBAAAT,MAAA,qBAAAG,KAAA,oBAAAC,aAAA,4BAAAC,MAAA,qBAAAC,MAAA,qBAAAC,OAAA,sBAAAC,KAAA,yCCAlB7B,EAAAC,QAAA,CAAkB8B,OAAA,uBAAAC,MAAA,sBAAAC,KAAA,qBAAAP,MAAA,sBAAAQ,SAAA,yBAAAC,KAAA,qBAAAC,WAAA,2BAAAP,KAAA,uCCAlB7B,EAAAC,QAAA,CAAkBoC,OAAA,uBAAAhB,MAAA,sBAAAG,KAAA,qBAAAc,KAAA,qBAAAb,aAAA,6BAAAC,MAAA,sBAAAC,MAAA,sBAAAC,OAAA,yCCAlB5B,EAAAC,QAAA,CAAkBsC,OAAA,uBAAAlB,MAAA,sBAAAG,KAAA,qBAAAC,aAAA,6BAAAe,KAAA,qBAAAC,UAAA,0BAAAH,KAAA,qBAAAI,SAAA,6CCAlB1C,EAAAC,QAAA,CAAkB0C,WAAA,+BAAA9B,MAAA,0BAAA+B,sBAAA,0CAAAvB,MAAA,0BAAAC,OAAA,2BAAAuB,SAAA,+CCAlB7C,EAAAC,QAAA,CAAkB6C,OAAA,uBAAAzB,MAAA,sBAAA0B,KAAA,qBAAAC,KAAA,uCCAlBhD,EAAAC,QAAA,CAAkBgD,SAAA,2BAAAC,gBAAA,kCAAAC,mBAAA,qCAAAC,YAAA,8BAAAC,WAAA,6BAAAC,SAAA,6CCDlBtD,EAAAC,QAAiBsD,EAAAC,EAAuB,sDCAxCxD,EAAAC,QAAiBsD,EAAAC,EAAuB,uDCCxCxD,EAAAC,QAAA,CAAkBwD,MAAA,qBAAApC,MAAA,qBAAAqC,SAAA,0CCAlB1D,EAAAC,QAAA,CAAkB0D,MAAA,qBAAArD,KAAA,oBAAAsD,QAAA,yCCAlB5D,EAAAC,QAAA,CAAkB4D,IAAA,iBAAAC,UAAA,uBAAAC,aAAA,oDCAlB/D,EAAAC,QAAA,CAAkBuB,KAAA,qCCDlBxB,EAAAC,QAAiBsD,EAAAC,EAAuB,mOCKzBrC,EALA,SAAA6C,GAAK,MAAK,CACvBC,KAAM,YACNC,QAASF,qBCMLG,mLACK,IAAAC,EAAAC,KACP,OAAO,SAACC,GACNA,EAAEC,iBADU,IAAAC,EAGkBJ,EAAKK,MAA3BC,EAHIF,EAGJE,SAAUC,EAHNH,EAGMG,QAElBD,EAAS,IACTE,OAAOC,aAAaC,WAAW,SAC/BH,EAAQI,KAAK,4CAIR,IACCf,EAAUK,KAAKI,MAAfT,MAER,OACEgB,EAAAC,EAAAC,cAAA,UAAQC,UAAWC,IAAOrD,QACxBiD,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOpD,OACrBgD,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOnD,MACrB+C,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOlD,SAAUoD,GAAG,KACnCN,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOjD,KAAMoD,QAAQ,aACnCP,EAAAC,EAAAC,cAAA,QAAMM,EAAE,sIAGXxB,GACCgB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOhD,YACrB4C,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOvD,KAAMyD,GAAG,UAAjC,SACAN,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOvD,KAAMyD,GAAG,WAAjC,YAINN,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO1D,QACnBsC,GAASgB,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOvD,KAAMyD,GAAG,UAAjC,SACVtB,GAASgB,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOvD,KAAMyD,GAAG,UAAUG,QAASpB,KAAKqB,UAAzD,oBAlCDC,IAAMC,WA0DZC,cARS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMhE,MAAMkC,QAGM,SAAA+B,GAAQ,MAAK,CACtCrB,SAAU,SAAAV,GAAK,OAAI+B,EAAS5E,EAAO6C,OAGtB6B,CAA6CG,YAAW7B,6CC7DxDhD,EALA,SAAAyC,GAAO,MAAK,CACzBK,KAAM,oBACNC,QAASN,uBCMwBqC,8CAA3BC,+BAAoB,KAEtBC,cACJ,SAAAA,EAAY1B,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAA8B,IACjB/B,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAAD,GAAAK,KAAAnC,KAAMI,KAEDgC,MAAQ,CACXC,KAAM,MAJStC,sNASXC,KAAKsC,sBACXtC,KAAKuC,SAAWC,YAAWT,OAAAU,EAAA,EAAAV,CAAAW,EAAA9B,EAAA+B,KAAC,SAAAC,IAAA,OAAAF,EAAA9B,EAAAiC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACpBC,EAAKX,eADe,wBAAAQ,EAAAI,SAAAN,MAEzB,sJAIHO,cAAcnD,KAAKuC,gLAIXa,EAAapD,KAAKI,MAAlBgD,SAEFC,YAASxB,iBAETyB,EAAU,CACdC,OAAQ,iCACRC,eAAgB,sCAIgBC,MAAMJ,EAAK,CACzCK,OAAQ,MACRJ,YACCK,KAAK,SAAAC,GAAC,OAAIA,EAAEC,4BAHPtE,YAAS8C,gCAMT,IAAIyB,MAAMvE,WAGlBS,KAAK+D,SAAS,CAAE1B,2DAEhBe,EAASY,EAAAC,GAAE1E,sJAIN,IACC8C,EAASrC,KAAKoC,MAAdC,KAER,OACE1B,EAAAC,EAAAC,cAAA,WAASC,UAAWC,IAAOtC,QACzBkC,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,IAAO/D,OAAtB,kBACCqF,GACC1B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOrC,MACrBiC,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOpC,MAArB,qBAEEgC,EAAAC,EAAAC,cAAA,YAAOqD,IAAS7B,EAAK8B,cAEvBxD,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOpC,MAArB,oBAEEgC,EAAAC,EAAAC,cAAA,YAAOqD,IAAS7B,EAAK+B,aAEvBzD,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOpC,MAArB,uBAEEgC,EAAAC,EAAAC,cAAA,YAAOqD,IAAS7B,EAAKgC,wBAhEd/C,IAAMC,WAiFZC,cAAQ,KAJI,SAAAE,GAAQ,MAAK,CACtC0B,SAAU,SAAA7D,GAAO,OAAImC,EAAS4C,EAAU/E,OAG3BiC,CAAkCM,uCCjFdF,8CAA3BC,+BAAoB,KAEtB0C,cACJ,SAAAA,EAAYnE,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAAuE,IACjBxE,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAAwC,GAAApC,KAAAnC,KAAMI,KAEDgC,MAAQ,CACXoC,SAAU,GAAIC,SAAU,IAG1B1E,EAAK2E,MAAQ,CACXF,SAAUG,MAAUF,SAAUE,OARf5E,mFAYC,IAAAI,EACSH,KAAKI,MAAxBT,EADUQ,EACVR,MAAOW,EADGH,EACHG,QAEf,OAAIX,IACFW,EAAQI,KAAK,MACN,mCAMHT,GACNA,EAAEC,iBADO,IAAA0E,EAGsB5E,KAAK0E,MAA5BF,EAHCI,EAGDJ,SAAUC,EAHTG,EAGSH,SAHTI,EAKa5E,EAAE6E,OAAhBC,EALCF,EAKDE,GAAIC,EALHH,EAKGG,MACZ,OAAQD,GACN,KAAKP,EACHxE,KAAK+D,SAAS,CAAES,SAAUQ,IAC1B,MACF,KAAKP,EACHzE,KAAK+D,SAAS,CAAEU,SAAUO,2EAMpB/E,sGACVA,EAAEC,mBAEsCF,KAAKI,MAArCC,aAAUC,YAAS8C,eAEIpD,KAAKoC,MAA5BoC,aAAUC,aAEZpB,YAASxB,gBAETyB,EAAU,CACdC,OAAQ,iCACRC,eAAgB,sCAIiBC,MAAMJ,EAAK,CAC1CK,OAAQ,OACRJ,UACA5E,KAAMuG,KAAKC,UAAU,CAAEV,WAAUC,eAChCd,KAAK,SAAAC,GAAC,OAAIA,EAAEC,4BAJPtE,YAASI,iCAOT,IAAImE,MAAMvE,WAGlBc,EAASV,GACTY,OAAOC,aAAa2E,QAAQ,QAASxF,GACrCW,EAAQI,KAAK,uDAEb0C,EAASN,EAAAmB,GAAM1E,uJAIV,IACCmF,EAAU1E,KAAV0E,MAER,OACE/D,EAAAC,EAAAC,cAAA,WAASC,UAAWC,IAAOtD,OACzBkD,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,IAAO/D,OAAtB,SACA2D,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,IAAO5D,MACtBwD,EAAAC,EAAAC,cAAA,SAAOuE,QAASV,EAAMF,SAAU1D,UAAWC,IAAO3D,cAChDuD,EAAAC,EAAAC,cAAA,SACEkE,GAAIL,EAAMF,SACV1D,UAAWC,IAAOzD,MAClBsC,KAAK,OACLyF,YAAY,mBACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,SAAOuE,QAASV,EAAMD,SAAU3D,UAAWC,IAAO3D,cAChDuD,EAAAC,EAAAC,cAAA,SACEkE,GAAIL,EAAMD,SACV3D,UAAWC,IAAOzD,MAClBsC,KAAK,WACLyF,YAAY,WACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO3D,cACrBuD,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOvD,KAAMyD,GAAG,WAAjC,yBACAN,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO1D,OACrBsD,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOvD,KAAMyD,GAAG,aAAjC,oBACAN,EAAAC,EAAAC,cAAA,SACEC,UAAWC,IAAOxD,OAClBqC,KAAK,SACLoF,MAAM,QACN5D,QAASpB,KAAKvC,MAAM+H,KAAKxF,mBA3GrBsB,IAAMC,WAuIXC,cATS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMhE,MAAMkC,QAGM,SAAA+B,GAAQ,MAAK,CACtCrB,SAAU,SAAAV,GAAK,OAAI+B,EAAS5E,EAAO6C,KACnCyD,SAAU,SAAA7D,GAAO,OAAImC,EAAS4C,EAAU/E,OAG3BiC,CAA6CG,YAAW4C,uBC1IpC3C,8CAA3BC,+BAAoB,KAEtB4D,cACJ,SAAAA,EAAYrF,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAAyF,IACjB1F,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAA0D,GAAAtD,KAAAnC,KAAMI,KAEDgC,MAAQ,CACXoC,SAAU,GAAIkB,MAAO,GAAIjB,SAAU,GAAIkB,MAAO,IAGhD5F,EAAK2E,MAAQ,CACXF,SAAUG,MAAUe,MAAOf,MAAUF,SAAUE,MAAUgB,MAAOhB,OARjD5E,mFAYC,IAAAI,EACSH,KAAKI,MAAxBT,EADUQ,EACVR,MAAOW,EADGH,EACHG,QAEf,OAAIX,IACFW,EAAQI,KAAK,MACN,mCAMHT,GACNA,EAAEC,iBADO,IAAA0E,EAKL5E,KAAK0E,MADPF,EAJOI,EAIPJ,SAAUkB,EAJHd,EAIGc,MAAOjB,EAJVG,EAIUH,SAAUkB,EAJpBf,EAIoBe,MAJpBd,EAOa5E,EAAE6E,OAAhBC,EAPCF,EAODE,GAAIC,EAPHH,EAOGG,MACZ,OAAQD,GACN,KAAKP,EACHxE,KAAK+D,SAAS,CAAES,SAAUQ,IAC1B,MACF,KAAKU,EACH1F,KAAK+D,SAAS,CAAE2B,MAAOV,IACvB,MACF,KAAKP,EACHzE,KAAK+D,SAAS,CAAEU,SAAUO,IAC1B,MACF,KAAKW,EACH3F,KAAK+D,SAAS,CAAE4B,MAAOX,8EAMd/E,kGACbA,EAAEC,mBAE4BF,KAAKI,MAA3BE,YAAS8C,eAIbpD,KAAKoC,MADPoC,aAAUkB,UAAOjB,aAAUkB,UAGxB,6CAA6CC,KAAKF,0BACrDtC,EAAS,+CAIPqB,IAAakB,yBACfvC,EAAS,2DAILC,YAASxB,mBAETyB,EAAU,CACdC,OAAQ,iCACRC,eAAgB,wCAIgBC,MAAMJ,EAAK,CACzCK,OAAQ,OACRJ,UACA5E,KAAMuG,KAAKC,UAAU,CAAEV,WAAUkB,QAAOjB,eACvCd,KAAK,SAAAC,GAAC,OAAIA,EAAEC,6BAJPtE,cAASsG,4BAOT,IAAI/B,MAAMvE,WAGlBe,EAAQI,KAAK,6DAEb0C,EAASN,EAAAmB,GAAM1E,wJAIV,IACCmF,EAAU1E,KAAV0E,MAER,OACE/D,EAAAC,EAAAC,cAAA,WAASC,UAAWC,IAAO7D,UACzByD,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,IAAO/D,OAAtB,YACA2D,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,IAAOrC,MACtBiC,EAAAC,EAAAC,cAAA,SAAOuE,QAASV,EAAMF,SAAU1D,UAAWC,IAAO3D,cAChDuD,EAAAC,EAAAC,cAAA,SACEiF,IAAK9F,KAAKwE,SACVO,GAAIL,EAAMF,SACV1D,UAAWC,IAAOzD,MAClBsC,KAAK,OACLyF,YAAY,WACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,SAAOuE,QAASV,EAAMgB,MAAO5E,UAAWC,IAAO3D,cAC7CuD,EAAAC,EAAAC,cAAA,SACEiF,IAAK9F,KAAK0F,MACVX,GAAIL,EAAMgB,MACV5E,UAAWC,IAAOzD,MAClBsC,KAAK,QACLyF,YAAY,QACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,SAAOuE,QAASV,EAAMD,SAAU3D,UAAWC,IAAO3D,cAChDuD,EAAAC,EAAAC,cAAA,SACEiF,IAAK9F,KAAKyE,SACVM,GAAIL,EAAMD,SACV3D,UAAWC,IAAOzD,MAClBsC,KAAK,WACLyF,YAAY,WACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,SAAOuE,QAASV,EAAMiB,MAAO7E,UAAWC,IAAO3D,cAC7CuD,EAAAC,EAAAC,cAAA,SACEiF,IAAK9F,KAAK2F,MACVZ,GAAIL,EAAMiB,MACV7E,UAAWC,IAAOzD,MAClBsC,KAAK,WACLyF,YAAY,mBACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO3D,cACrBuD,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOvD,KAAMyD,GAAG,UAAjC,yBACAN,EAAAC,EAAAC,cAAA,SACEC,UAAWC,IAAOxD,OAClBqC,KAAK,SACLoF,MAAM,WACN5D,QAASpB,KAAK9C,SAASsI,KAAKxF,kBAjJnBsB,IAAMC,WA0KdC,cARS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMhE,MAAMkC,QAGM,SAAA+B,GAAQ,MAAK,CACtC0B,SAAU,SAAA7D,GAAO,OAAImC,EAAS4C,EAAU/E,OAG3BiC,CAA6CG,YAAW8D,uBC5KpC7D,8CAA3BC,+BAAoB,KAEtBkE,cACJ,SAAAA,EAAY3F,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAA+F,IACjBhG,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAAgE,GAAA5D,KAAAnC,KAAMI,KAEDgC,MAAQ,CACXsD,MAAO,IAGT3F,EAAK2E,MAAQ,CACXgB,MAAOf,OARQ5E,mFAYC,IAAAI,EACSH,KAAKI,MAAxBT,EADUQ,EACVR,MAAOW,EADGH,EACHG,QAEf,OAAIX,IACFW,EAAQI,KAAK,MACN,mCAMHT,GACNA,EAAEC,iBAEFF,KAAK+D,SAAS,CAAE2B,MAAOzF,EAAE6E,OAAOE,8FAGN/E,sFAC1BA,EAAEC,iBAEMkD,EAAapD,KAAKI,MAAlBgD,SAEAsC,EAAU1F,KAAKoC,MAAfsD,MAEH,6CAA6CE,KAAKF,0BACrDtC,EAAS,mDAILC,YAASxB,iBAETyB,EAAU,CACdC,OAAQ,iCACRC,eAAgB,uCAIUC,MAAMJ,EAAK,CACnCK,OAAQ,OACRJ,UACA5E,KAAMuG,KAAKC,UAAU,CAAEQ,YACtB/B,KAAK,SAAAC,GAAC,OAAIA,EAAEC,0BAJPtE,YAMR6D,EAAS7D,qDAET6D,EAASN,EAAAmB,GAAM1E,uJAIV,IACCmF,EAAU1E,KAAV0E,MAER,OACE/D,EAAAC,EAAAC,cAAA,WAASC,UAAWC,IAAO/C,QACzB2C,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,IAAO/D,OAAtB,UACA2D,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,IAAO5D,MACtBwD,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO9C,MACrB0C,EAAAC,EAAAC,cAAA,wFACAF,EAAAC,EAAAC,cAAA,kEAEFF,EAAAC,EAAAC,cAAA,SAAOuE,QAASV,EAAMgB,MAAO5E,UAAWC,IAAO3D,cAC7CuD,EAAAC,EAAAC,cAAA,SACEiF,IAAK9F,KAAK0F,MACVX,GAAIL,EAAMgB,MACV5E,UAAWC,IAAOzD,MAClBsC,KAAK,QACLyF,YAAY,QACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO3D,cACrBuD,EAAAC,EAAAC,cAAA,SACEC,UAAWC,IAAOxD,OAClBqC,KAAK,SACLoF,MAAM,0BACN5D,QAASpB,KAAKgG,sBAAsBR,KAAKxF,kBAxFlCsB,IAAMC,WAiHZC,cARS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMhE,MAAMkC,QAGM,SAAA+B,GAAQ,MAAK,CACtC0B,SAAU,SAAA7D,GAAO,OAAImC,EAAS4C,EAAU/E,OAG3BiC,CAA6CG,YAAWoE,IC5H1DlJ,EACA,YADAA,EAEM,SAFNA,GAGA,YAQEC,GALA,SAAC8C,EAAMoF,GAAP,MAAkB,CAC/BpF,OACAC,QAASmF,4CCCLiB,qLACM,IAAA9F,EAGJH,KAAKI,MADP8F,EAFM/F,EAEN+F,EAAGC,EAFGhG,EAEHgG,GAAIC,EAFDjG,EAECiG,MAAOC,EAFRlG,EAEQkG,MAAOC,EAFfnG,EAEemG,SAGnBJ,IAAMC,EAKVC,EAAMF,GAJJI,GAAUD,oCAOL,IAAAE,EAGHvG,KAAKI,MADPnD,EAFKsJ,EAELtJ,OAAQD,EAFHuJ,EAEGvJ,MAAOR,EAFV+J,EAEU/J,MAAOgK,EAFjBD,EAEiBC,KAAMN,EAFvBK,EAEuBL,EAAGC,EAF1BI,EAE0BJ,GAAIE,EAF9BE,EAE8BF,MAG/B1J,EAAI,GAAA8J,OAAMC,KAAN,KAAAD,OAAiBP,IAAMC,GAAQE,EAAmB,OAAV,SAElD,OACE1F,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOxE,OACrBoE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOvE,MAAOmK,MAAO,CAAEC,gBAAiBpK,EAAK,OAAAiK,OAAUjK,EAAV,KAAqB,MAC9EA,GACAmE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOtE,cACrBkE,EAAAC,EAAAC,cAAA,OAAKgG,WAAW,+BAA+BC,UAAS,GAAAL,OAAKC,KAAL,aAG5D/F,EAAAC,EAAAC,cAAA,UACEC,UAAS,GAAA2F,OAAK1F,KAAOrE,OAAZ,KAAA+J,OAAsB1F,KAAOpE,MACtCiD,KAAK,SACLwB,QAASpB,KAAKoB,QAAQoE,KAAKxF,OAE3BW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9E,MACrB0E,EAAAC,EAAAC,cAAA,OAAKgG,WAAW,+BAA+BC,UAAWnK,OAIhEgE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOnE,SACrB+D,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/D,OAAQA,GAC/B2D,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9D,QAASA,IAElC0D,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOlE,SACrB8D,EAAAC,EAAAC,cAAA,UAAQC,UAAS,GAAA2F,OAAK1F,KAAOrE,OAAZ,KAAA+J,OAAsB1F,KAAOjE,QAAU8C,KAAK,UAC3De,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9E,MACrB0E,EAAAC,EAAAC,cAAA,OAAKgG,WAAW,+BAA+BC,UAAS,GAAAL,OAAKC,KAAL,aAG3DF,GACC7F,EAAAC,EAAAC,cAAA,UAAQC,UAAS,GAAA2F,OAAK1F,KAAOrE,OAAZ,KAAA+J,OAAsB1F,KAAOjE,QAAU8C,KAAK,UAC3De,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9E,MACrB0E,EAAAC,EAAAC,cAAA,OAAKgG,WAAW,+BAA+BC,UAAS,GAAAL,OAAKC,KAAL,sBApDrDpF,IAAMC,WA8DzB0E,GAAKc,aAAe,CAClBvK,MAAO,KACPgK,MAAM,GAeR,IAUehF,eAVS,SAAAC,GAAK,MAAK,CAChC0E,GAAI1E,EAAM5F,OAAOmL,WACjBX,MAAO5E,EAAM5F,OAAOoL,SAGK,SAAAvF,GAAQ,MAAK,CACtC0E,MAAO,SAAAD,GAAE,OAAIzE,EAAS5E,GAAOD,EAAyBsJ,KACtDG,SAAU,SAAAW,GAAM,OAAIvF,EAAS5E,GAAOD,GAAmBoK,OAG1CzF,CAA6CyE,wBCnE7CzE,eAJS,SAAAC,GAAK,MAAK,CAChCyF,MAAOzF,EAAM5F,OAAOqL,QAGP1F,CAxBD,SAAA2F,GAAA,IAAGD,EAAHC,EAAGD,MAAH,OACZvG,EAAAC,EAAAC,cAAA,WAASC,UAAWC,KAAO3B,OACzBuB,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,KAAO/D,OAAtB,OACA2D,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO1B,UACpB6H,EAAME,IAAI,SAACC,EAAMnB,GAAP,OACTvF,EAAAC,EAAAC,cAACyG,GAAD,CAAMC,IAAKF,EAAKxB,KAAM5I,OAAQoK,EAAKpK,OAAQD,MAAOqK,EAAKrK,MAAOR,MAAO6K,EAAK7K,MAAO0J,EAAGA,iCCHzDtE,8CAA3BC,iCAAoB,MAEtB2F,eACJ,SAAAA,EAAYpH,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAAwH,IACjBzH,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAAyF,GAAArF,KAAAnC,KAAMI,KAEDsE,MAAQ,CACXvG,KAAMwG,OAGR5E,EAAKqC,MAAQ,CACXqF,KAAM,IARS1H,mFAYC,IAAAI,EACSH,KAAKI,MAAxBT,EADUQ,EACVR,MAAOW,EADGH,EACHG,QAEf,QAAKX,IACHW,EAAQI,KAAK,MACN,oCAMFT,GACP,IAAM9B,EAAO8B,EAAE6E,OAAO4C,MAAM,GAE5B1H,KAAK+D,SAAS,CAAE0D,KAAMtJ,EAAKsJ,OAC3BzH,KAAK9B,OAAOC,kCAGP8B,GACL,GAAIA,EAAE0H,aAAaD,MAAO,CACxB,IAAMvJ,EAAO8B,EAAE0H,aAAaD,MAAM,GAElC1H,KAAK+D,SAAS,CAAE0D,KAAMtJ,EAAKsJ,OAC3BzH,KAAK9B,OAAOC,2EAIHA,0FACiB6B,KAAKI,MAAzBT,UAAOyD,eAEXjF,EAAKyJ,KAAO,iCACdxE,EAAS,sFAIO,cAAdjF,EAAKyB,4BACPwD,EAAS,+FAILC,YAASxB,iBAETyB,EAAU,CACdC,OAAQ,iCACRC,eAAgB,aAChBqE,cAAa,UAAApB,OAAY9G,GACzBmI,sBAAuBC,UAAU5J,EAAKsJ,0BAINhE,MAAMJ,EAAK,CACzCK,OAAQ,MACRJ,UACA5E,KAAMP,IACLwF,KAAK,SAAAC,GAAC,OAAIA,EAAEC,6BAJPtE,cAASsG,4BAOT,IAAI/B,MAAMvE,WAGlB6D,EAAS7D,qDAET6D,EAASN,EAAAmB,GAAM1E,uJAIV,IACCkI,EAASzH,KAAKoC,MAAdqF,KAEA/C,EAAU1E,KAAV0E,MAER,OACE/D,EAAAC,EAAAC,cAAA,WACEC,UAAWC,KAAO7C,OAClB8J,OAAQhI,KAAKgI,OAAOxC,KAAKxF,MACzBiI,WAAY,SAAAhI,GAAC,OAAIA,EAAEC,mBAEnBS,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,KAAO/D,OAAtB,iCACA2D,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,KAAO5D,MACtBwD,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO3D,cACrBuD,EAAAC,EAAAC,cAAA,SAAOC,UAAWC,KAAO5C,KAAMiH,QAASV,EAAMvG,MAC5CwC,EAAAC,EAAAC,cAAA,SACEC,UAAWC,KAAO3C,UAClB2G,GAAIL,EAAMvG,KACVyB,KAAK,OACL2D,OAAO,aACP+B,SAAUtF,KAAKsF,SAASE,KAAKxF,QAE/BW,EAAAC,EAAAC,cAAA,0CAGH4G,GAAQ9G,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,KAAO1C,UAAWoJ,GACzC9G,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9C,MACrB0C,EAAAC,EAAAC,cAAA,wFA1GSS,IAAMC,WAkIZC,eARS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMhE,MAAMkC,QAGM,SAAA+B,GAAQ,MAAK,CACtC0B,SAAU,SAAA7D,GAAO,OAAImC,EAAS4C,EAAU/E,OAG3BiC,CAA6CG,YAAW6F,KCzGxDU,GA5BA,CACb,CACEC,KAAM,IACNC,UAAW,kBAAMzH,EAAAC,EAAAC,cAACwH,EAAD,OACjBC,OAAO,GAET,CACEH,KAAM,SACNC,UAAW,kBAAMzH,EAAAC,EAAAC,cAAC0H,GAAD,QAEnB,CACEJ,KAAM,UACNC,UAAW,kBAAMzH,EAAAC,EAAAC,cAAC2H,GAAD,QAEnB,CACEL,KAAM,SACNC,UAAW,kBAAMzH,EAAAC,EAAAC,cAAC4H,EAAD,QAEnB,CACEN,KAAM,YACNC,UAAW,kBAAMzH,EAAAC,EAAAC,cAAC6H,EAAD,QAEnB,CACEP,KAAM,UACNC,UAAW,kBAAMzH,EAAAC,EAAAC,cAAC8H,EAAD,6BCbNC,GAbF,kBACXjI,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO5D,MACpB+K,GAAOd,IAAI,SAAAyB,GAAK,OACflI,EAAAC,EAAAC,cAACiI,EAAA,EAAD,CACEvB,IAAKsB,EAAMV,KAAKY,MAAM,GACtBZ,KAAMU,EAAMV,KACZC,UAAWS,EAAMT,UACjBE,MAAOO,EAAMP,oDCUNU,GAjBE,SAAA7B,GAAA,IAAGnI,EAAHmI,EAAGnI,WAAYC,EAAfkI,EAAelI,SAAf,OACf0B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOnC,UACrB+B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/B,YAAaiK,KAAoB,IAAbjK,GAAmBkK,OAAO,UACrEvI,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOlC,iBACrB8B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOjC,oBACrB6B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOhC,YAAa4H,MAAO,CAAEwC,MAAK,GAAA1C,OAAKzH,EAAaC,EAAW,IAA7B,UAGtD0B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9B,UAAWgK,KAAkB,IAAXhK,GAAiBiK,OAAO,gCCT/DE,GAAa,SAAAjC,GAAA,IAAGlK,EAAHkK,EAAGlK,OAAQD,EAAXmK,EAAWnK,MAAOR,EAAlB2K,EAAkB3K,MAAlB,OACjBmE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOzC,YACrBqC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOvE,MAAOmK,MAAO,CAAEC,gBAAe,OAAAH,OAASjK,EAAT,QACtDmE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOxC,uBACrBoC,EAAAC,EAAAC,cAAA,QAAMC,UAAS,GAAA2F,OAAK1F,KAAO/D,MAAZ,KAAAyJ,OAAqB1F,KAAOvC,WAAaxB,GACxD2D,EAAAC,EAAAC,cAAA,QAAMC,UAAS,GAAA2F,OAAK1F,KAAO9D,OAAZ,KAAAwJ,OAAsB1F,KAAOvC,WAAavB,MAK/DmM,GAAWrC,aAAe,CACxB9J,OAAQ,YACRD,MAAO,WACPR,MAAO,IASM4M,oDCfoBxH,8CAA3BC,iCAAoB,MAEtBwH,eACJ,SAAAA,EAAYjJ,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAAqJ,IACjBtJ,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAAsH,GAAAlH,KAAAnC,KAAMI,KAEDgC,MAAQ,CACXiF,KAAM,GACNiC,YAAa,EACbrK,SAAU,EACVsK,MAAM,EACNC,SAAS,EACTC,OAAO,EACPvN,OAAQ,GAGV6D,EAAK2J,MAAQC,sBAbI5J,0NAiBqBC,KAAKI,MAAnCT,UAAOiK,aAAUxG,aAEnBC,YAASxB,iBAETyB,EAAU,CACdC,OAAQ,iCACRC,eAAgB,mBAChBqE,cAAa,UAAApB,OAAY9G,sBAIQ8D,MAAMJ,EAAK,CAC1CK,OAAQ,MACRJ,YACCK,KAAK,SAAAC,GAAC,OAAIA,EAAEC,4BAHPtE,YAAS2H,iCAMT,IAAIpD,MAAMvE,WAGlBqK,EAAS1C,qDAET9D,EAASN,EAAAmB,GAAE1E,wMAIUwD,wFACM/C,KAAKI,MAA1B8G,UAAOf,OAAIE,UAEXgB,EAASrH,KAAKoC,MAAdiF,KAEHH,EAAM2C,2DAIP9G,EAAKoD,KAAOA,kCACRnG,KAAK8J,SAAS5C,EAAMf,GAAIN,iDAI5B9C,EAAKsD,QAAUA,sBACXqD,EAAQ1J,KAAK0J,MAAMK,SAErB1D,0BACFqD,EAAMrD,QACN2D,SAAShN,MAAQ,oCAInB0M,EAAM/M,OACNqN,SAAShN,MAAT,GAAAyJ,OAAoBY,EAAKpK,OAAzB,OAAAwJ,OAAqCY,EAAKrK,oJAI7BiD,GACfD,KAAK+D,SAAS,CAAE9E,SAAUgB,EAAE6E,OAAO7F,6CAG3BgB,GAAG,IACHqG,EAAatG,KAAKI,MAAlBkG,SAEAe,EAASrH,KAAKoC,MAAdiF,KAERpH,EAAE6E,OAAOnI,OAET2J,GAAS,GACT0D,SAAShN,MAAT,GAAAyJ,OAAoBY,EAAKpK,OAAzB,OAAAwJ,OAAqCY,EAAKrK,4CAG/BiD,GACXD,KAAK+D,SAAS,CAAEuF,YAAarJ,EAAE6E,OAAOwE,qDAGzBrJ,GACbD,KAAK+D,SAAS,CAAE7H,OAAQ+D,EAAE6E,OAAO5I,2CAGzB,IAAA+N,EACqBjK,KAAKI,MAA1B8G,EADA+C,EACA/C,MAAOf,EADP8D,EACO9D,GAAIC,EADX6D,EACW7D,MACCpG,KAAKoC,MAAjBoH,QAGNpD,EAAM8D,KAAKC,MAAMD,KAAKE,UAAYlD,EAAM2C,OAAS,KAI/C1D,EAAKe,EAAM2C,OAAS,GACtBzD,EAAMD,EAAK,0CAIAlG,GACb,IAAML,EAAOK,EAAEoK,cAAcC,WAAW,UAAUC,UADlCC,EAKZxK,KAAKI,MADP8G,EAJcsD,EAIdtD,MAAOf,EAJOqE,EAIPrE,GAAIC,EAJGoE,EAIHpE,MAAOC,EAJJmE,EAIInE,MAAOC,EAJXkE,EAIWlE,SAG3B,OAAQ1G,GACN,IAAK,OACCuG,EAAK,GACPC,EAAMD,EAAK,GAEb,MAEF,IAAK,OACH,IAAY,IAARA,EAEF,YADAC,GAAc,IAARD,EAAY,EAAIA,GAIxBG,GAAUD,GACV,MAEF,IAAK,OACCF,EAAKe,EAAM2C,OAAS,GACtBzD,EAAMD,EAAK,GAEb,MAEF,IAAK,OACHnG,KAAK+D,SAAS,SAAAhB,GAAI,MAAK,CAAEwG,MAAOxG,EAAKwG,QACrC,MAEF,IAAK,OACHvJ,KAAK+D,SAAS,SAAAhB,GAAI,MAAK,CAAEyG,SAAUzG,EAAKyG,WACxC,MAEF,IAAK,OACHxJ,KAAK+D,SAAS,SAAAhB,GAAI,MAAK,CAAE0G,OAAQ1G,EAAK0G,sDAOxBxJ,GAClB,IAAM2D,EAAI3D,EAAEoK,cAAcI,wBAC1BzK,KAAK0J,MAAMK,QAAQ7N,OAAS,GAAK+D,EAAEyK,QAAU9G,EAAE+G,KAAO/G,EAAEgH,gFAG3C/E,gGACe7F,KAAKI,MAAzBT,UAAOyD,aAETC,YAASxB,yBAA+BgE,GAExCvC,EAAU,CACdC,OAAQ,iCACRC,eAAgB,mBAChBqE,cAAa,UAAApB,OAAY9G,sBAIO8D,MAAMJ,EAAK,CACzCK,OAAQ,MACRJ,YACCK,KAAK,SAAAC,GAAC,OAAIA,EAAEC,4BAHPtE,YAAS8H,gCAMT,IAAIvD,MAAMvE,WAGlBS,KAAK+D,SAAS,CAAEsD,2DAEhBjE,EAASY,EAAAC,GAAE1E,uJAIN,IACC8G,EAAUrG,KAAKI,MAAfiG,MADDwE,EAIH7K,KAAKoC,MADPiF,EAHKwD,EAGLxD,KAAMiC,EAHDuB,EAGCvB,YAAarK,EAHd4L,EAGc5L,SAAUwK,EAHxBoB,EAGwBpB,MAAOF,EAH/BsB,EAG+BtB,KAAMrN,EAHrC2O,EAGqC3O,OAAQsN,EAH7CqB,EAG6CrB,QAGpD,OACE7I,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOlF,QACrB8E,EAAAC,EAAAC,cAAA,WAASC,UAAWC,KAAOjF,SACzB6E,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOhF,UACrB4E,EAAAC,EAAAC,cAAA,UAAQjB,KAAK,SAASkB,UAAWC,KAAO/E,QAAS8O,SAAO,OAAO1J,QAASpB,KAAK+K,eAAevF,KAAKxF,OAC/FW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9E,MACrB0E,EAAAC,EAAAC,cAAA,OAAKgG,WAAW,+BAA+BC,UAAS,GAAAL,OAAKC,KAAL,aAG5D/F,EAAAC,EAAAC,cAAA,UAAQjB,KAAK,SAASkB,UAAWC,KAAO/E,QAAS8O,SAAO,OAAO1J,QAASpB,KAAK+K,eAAevF,KAAKxF,OAC/FW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9E,MACrB0E,EAAAC,EAAAC,cAAA,OAAKgG,WAAW,+BAA+BC,UAAS,GAAAL,OAAKC,KAAL,KAAAD,OAAcJ,EAAQ,OAAS,aAG3F1F,EAAAC,EAAAC,cAAA,UAAQjB,KAAK,SAASkB,UAAWC,KAAO/E,QAAS8O,SAAO,OAAO1J,QAASpB,KAAK+K,eAAevF,KAAKxF,OAC/FW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9E,MACrB0E,EAAAC,EAAAC,cAAA,OAAKgG,WAAW,+BAA+BC,UAAS,GAAAL,OAAKC,KAAL,aAG5D/F,EAAAC,EAAAC,cAAA,UAAQjB,KAAK,SAASkB,UAAWC,KAAO/E,QAAS8O,SAAO,OAAO1J,QAASpB,KAAK+K,eAAevF,KAAKxF,OAC/FW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9E,MACrB0E,EAAAC,EAAAC,cAAA,OAAKgG,WAAW,+BAA+BC,UAAS,GAAAL,OAAKC,KAAL,WAAqBC,MAAO,CAAEqE,KAAMzB,EAAO,kBAAoB,QAG3H5I,EAAAC,EAAAC,cAAA,UAAQjB,KAAK,SAASkB,UAAWC,KAAO/E,QAAS8O,SAAO,OAAO1J,QAASpB,KAAK+K,eAAevF,KAAKxF,OAC/FW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9E,MACrB0E,EAAAC,EAAAC,cAAA,OAAKgG,WAAW,+BAA+BC,UAAS,GAAAL,OAAKC,KAAL,YAAsBC,MAAO,CAAEqE,KAAMxB,EAAU,kBAAoB,SAIjI7I,EAAAC,EAAAC,cAACoK,GAAD,CAAUjM,WAAYsK,EAAarK,SAAUA,GAAY,IACzD0B,EAAAC,EAAAC,cAAA,OAAKC,UAAS,GAAA2F,OAAK1F,KAAOhF,SAAZ,KAAA0K,OAAwB1F,KAAO7E,SAC3CyE,EAAAC,EAAAC,cAAA,UAAQjB,KAAK,SAASkB,UAAWC,KAAO/E,QAAS8O,SAAO,OAAO1J,QAASpB,KAAK+K,eAAevF,KAAKxF,OAC/FW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9E,MACrB0E,EAAAC,EAAAC,cAAA,OAAKgG,WAAW,+BAA+BC,UAAS,GAAAL,OAAKC,KAAL,KAAAD,OAAcgD,EAAQ,OAAS,cAG3F9I,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO5E,eACrBwE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO3E,aAAc8O,KAAK,eAAe9J,QAASpB,KAAKmL,oBAAoB3F,KAAKxF,OAC9FW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO1E,mBACvBsE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOzE,UAAWqK,MAAO,CAAEiE,OAAM,GAAAnE,OAAK,IAAMvK,EAAX,WAIvDyE,EAAAC,EAAAC,cAACuK,GAAD,CAAYnO,OAAQoK,EAAKpK,OAAQD,MAAOqK,EAAKrK,MAAOR,MAAO6K,EAAK7K,QAChEmE,EAAAC,EAAAC,cAAA,SACEiF,IAAK9F,KAAK0J,MACV2B,IAAKhE,EAAKiE,IACV7B,MAAOA,EACPF,KAAMA,EACNgC,iBAAkBvL,KAAKuL,iBAAiB/F,KAAKxF,MAC7CwL,UAAWxL,KAAKwL,UAAUhG,KAAKxF,MAC/ByL,aAAczL,KAAKyL,aAAajG,KAAKxF,MACrC0L,eAAgB1L,KAAK0L,eAAelG,KAAKxF,MACzC2L,QAAS3L,KAAK2L,QAAQnG,KAAKxF,iBAtPlBsB,IAAMC,WA4RZC,eAdS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMhE,MAAMkC,MACnBuH,MAAOzF,EAAM5F,OAAOqL,MACpBf,GAAI1E,EAAM5F,OAAOmL,WACjBX,MAAO5E,EAAM5F,OAAOoL,SAGK,SAAAvF,GAAQ,MAAK,CACtCkI,SAAU,SAAA1C,GAAK,OAAIxF,EAAS5E,GAAOD,EAAmBqK,KACtDd,MAAO,SAAAD,GAAE,OAAIzE,EAAS5E,GAAOD,EAAyBsJ,KACtDG,SAAU,SAAAD,GAAK,OAAI3E,EAAS5E,GAAOD,GAAmBwJ,KACtDjD,SAAU,SAAA7D,GAAO,OAAImC,EAAS4C,EAAU/E,OAG3BiC,CAA6C6H,wBCnStDuC,+LACgB,IACVC,EAAe7L,KAAKI,MAApByL,WAERC,WAAW,WACTD,KACC,sCAGI,IACCE,EAAU/L,KAAKI,MAAf2L,MAER,OACEpL,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOzB,OACrBqB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9E,KAAMiF,QAAQ,aACnCP,EAAAC,EAAAC,cAAA,QAAMM,EAAE,+GAEVR,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOxB,SACrBoB,EAAAC,EAAAC,cAAA,YAAOkL,YAlBGzK,IAAMC,WAkCXC,eAAQ,KAJI,SAAAE,GAAQ,MAAK,CACtCmK,WAAY,kBAAMnK,EAAS5E,EAAO,QAGrB0E,CAAkCoK,4CCHlCpK,eALS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMhE,MAAMkC,MACnBoM,MAAOtK,EAAMsK,MAAMxM,UAGNiC,CAzBH,SAAA2F,GAAA,IAAGxH,EAAHwH,EAAGxH,MAAOoM,EAAV5E,EAAU4E,MAAV,OACVpL,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOvB,IAAKmH,MAAO,CAAEC,gBAAe,OAAAH,OAASuF,KAAT,OAClDrL,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,KAAOtB,WACtBkB,EAAAC,EAAAC,cAACG,EAAA,EAAD,KACEL,EAAAC,EAAAC,cAACoL,EAAD,MACAtL,EAAAC,EAAAC,cAACqL,GAAD,OAEDvM,GAASgB,EAAAC,EAAAC,cAACsL,GAAD,OAEZxL,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOrB,cACpBqM,GAASpL,EAAAC,EAAAC,cAACuL,GAAD,CAAOL,MAAOA,0BCvBxBM,GAAe,CACnB1M,MAAOY,OAAOC,aAAa8L,QAAQ,UAAY,ICD3CD,GAAe,CACnBnF,MAAO,GACPF,YAAa,EACbC,QAAQ,GCHJoF,GAAe,CACnB9M,QAAS,ICQIgN,GAJKC,aAAgB,CAClC/O,MHFa,WAAwC,IAA9B2E,EAA8BqK,UAAA5C,OAAA,QAAA6C,IAAAD,UAAA,GAAAA,UAAA,GAAtBJ,GAAcvP,EAAQ2P,UAAA5C,OAAA,EAAA4C,UAAA,QAAAC,EACrD,OAAQ5P,EAAO8C,MACb,IAAK,YACH,OAAOmC,OAAA4K,GAAA,EAAA5K,CAAA,GAAKK,EAAZ,CAAmBzC,MAAO7C,EAAO+C,UACnC,QACE,OAAOuC,IGHJvG,OFAM,WAAwC,IAA9BuG,EAA8BqK,UAAA5C,OAAA,QAAA6C,IAAAD,UAAA,GAAAA,UAAA,GAAtBJ,GAAcvP,EAAQ2P,UAAA5C,OAAA,EAAA4C,UAAA,QAAAC,EACrD,OAAQ5P,EAAO8C,MACb,IAAK,YACH,OAAOmC,OAAA4K,GAAA,EAAA5K,CAAA,GAAKK,EAAZ,CAAmB8E,MAAOpK,EAAO+C,UACnC,IAAK,SACH,OAAOkC,OAAA4K,GAAA,EAAA5K,CAAA,GAAKK,EAAZ,CAAmB4E,WAAYlK,EAAO+C,UACxC,IAAK,YACH,OAAOkC,OAAA4K,GAAA,EAAA5K,CAAA,GAAKK,EAAZ,CAAmB6E,OAAQnK,EAAO+C,UACpC,QACE,OAAOuC,IETI2J,MDFF,WAAwC,IAA9B3J,EAA8BqK,UAAA5C,OAAA,QAAA6C,IAAAD,UAAA,GAAAA,UAAA,GAAtBJ,GAAcvP,EAAQ2P,UAAA5C,OAAA,EAAA4C,UAAA,QAAAC,EACrD,OAAQ5P,EAAO8C,MACb,IAAK,oBACH,OAAOmC,OAAA4K,GAAA,EAAA5K,CAAA,GAAKK,EAAZ,CAAmB7C,QAASzC,EAAO+C,UACrC,QACE,OAAOuC,MEJEX,GAFDmL,aAAYL,ICSNM,QACW,cAA7BtM,OAAOuM,SAASC,UAEe,UAA7BxM,OAAOuM,SAASC,UAEhBxM,OAAOuM,SAASC,SAASC,MACvB,iECTNC,IAASC,OACPvM,EAAAC,EAAAC,cAACsM,EAAA,EAAD,CAAU1L,MAAOA,IACfd,EAAAC,EAAAC,cAACuM,GAAD,OAEFpD,SAASqD,eAAe,SDoHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM7J,KAAK,SAAA8J,GACjCA,EAAaC","file":"static/js/main.57c8b453.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"player_player__35Gch\",\"wrapper\":\"player_wrapper__2pvXA\",\"controls\":\"player_controls__yrmwU\",\"control\":\"player_control__1GAJR\",\"icon\":\"player_icon__2LOrm\",\"volume\":\"player_volume__3Swwg\",\"volumeWrapper\":\"player_volumeWrapper__1fz4y\",\"volumeSlider\":\"player_volumeSlider__1bdID\",\"volumeBackground\":\"player_volumeBackground__1nr9H\",\"volumeBar\":\"player_volumeBar__64T8Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"track\":\"song_track__RX6bx\",\"cover\":\"song_cover__1Z4fR\",\"defaultCover\":\"song_defaultCover__1Scdp\",\"button\":\"song_button__sSeHU\",\"play\":\"song_play__3MQc2\",\"icon\":\"song_icon__3i7ba\",\"content\":\"song_content__TWzaj\",\"actions\":\"song_actions__2A91g\",\"action\":\"song_action__Dd0CG\",\"info\":\"song_info__jIaQd\",\"title\":\"song_title__2OYyJ\",\"author\":\"song_author__2GBdg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"register\":\"register_register__3K1Qz\",\"title\":\"register_title__1qn8q\",\"main\":\"register_main__wdjIV\",\"inputWrapper\":\"register_inputWrapper__3hxjc\",\"right\":\"register_right__6B6O5\",\"input\":\"register_input__285Xz\",\"submit\":\"register_submit__pfce4\",\"link\":\"register_link__KC47u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__KNSyK\",\"title\":\"login_title__2BrJb\",\"main\":\"login_main__3gDUL\",\"inputWrapper\":\"login_inputWrapper__PxK70\",\"right\":\"login_right__2EU-W\",\"input\":\"login_input__3Z4uP\",\"submit\":\"login_submit__3z0zh\",\"link\":\"login_link__QwjVM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__3w3xx\",\"inner\":\"header_inner__ueAE6\",\"left\":\"header_left__oqI23\",\"right\":\"header_right__2pdo2\",\"logoLink\":\"header_logoLink__MRkg5\",\"logo\":\"header_logo__2Sn9n\",\"navWrapper\":\"header_navWrapper__32fBU\",\"link\":\"header_link__3JPaZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forgot\":\"forgot_forgot__6N7KH\",\"title\":\"forgot_title__3VwzE\",\"main\":\"forgot_main__3wV8l\",\"note\":\"forgot_note__1WMHf\",\"inputWrapper\":\"forgot_inputWrapper__3NOri\",\"right\":\"forgot_right__gOi91\",\"input\":\"forgot_input__2hnXW\",\"submit\":\"forgot_submit__mizzt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"upload\":\"upload_upload__2gDVd\",\"title\":\"upload_title__26joS\",\"main\":\"upload_main__QlYCT\",\"inputWrapper\":\"upload_inputWrapper__2faF0\",\"file\":\"upload_file__HK228\",\"fileInput\":\"upload_fileInput__3OG6N\",\"note\":\"upload_note__1Kiz-\",\"filename\":\"upload_filename__1sd5q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"soundBadge\":\"soundBadge_soundBadge__hUvOb\",\"cover\":\"soundBadge_cover__3DUfa\",\"titleContextContainer\":\"soundBadge_titleContextContainer__8tE46\",\"title\":\"soundBadge_title__3Wt33\",\"author\":\"soundBadge_author__2z1MH\",\"truncate\":\"soundBadge_truncate__3U-6n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"status_status__1dbQM\",\"title\":\"status_title__2RHYm\",\"body\":\"status_body__3W00t\",\"item\":\"status_item__2fj3D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeline\":\"timeline_timeline__3ng4V\",\"progressWrapper\":\"timeline_progressWrapper__2Mxxn\",\"progressBackground\":\"timeline_progressBackground__VsvSl\",\"progressBar\":\"timeline_progressBar__2sPc6\",\"timePassed\":\"timeline_timePassed__pmNyr\",\"duration\":\"timeline_duration__1I6eB\"};","module.exports = __webpack_public_path__ + \"static/media/icons.174b8195.svg\";","module.exports = __webpack_public_path__ + \"static/media/icons.6b9d14e4.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"music_music__2H0ii\",\"title\":\"music_title__1Kqou\",\"songList\":\"music_songList__1p17f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1Zq7Y\",\"icon\":\"modal_icon__1gGCi\",\"message\":\"modal_message__1c0cU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__12nIj\",\"container\":\"app_container__6cU4e\",\"modalWrapper\":\"app_modalWrapper__pg4fn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main_main__3rTl_\"};","module.exports = __webpack_public_path__ + \"static/media/bg.983361a2.jpg\";","const action = token => ({\n  type: 'SET_TOKEN',\n  payload: token,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport action from '../../actions/login';\n\nimport styles from './header.module.css';\n\nclass Header extends React.Component {\n  logout() {\n    return (e) => {\n      e.preventDefault();\n\n      const { setToken, history } = this.props;\n\n      setToken('');\n      window.localStorage.removeItem('token');\n      history.push('/login');\n    };\n  }\n\n  render() {\n    const { token } = this.props;\n\n    return (\n      <header className={styles.header}>\n        <div className={styles.inner}>\n          <div className={styles.left}>\n            <Link className={styles.logoLink} to=\"/\">\n              <svg className={styles.logo} viewBox=\"0 0 24 24\">\n                <path d=\"M12,1C7,1 3,5 3,10V17A3,3 0 0,0 6,20H9V12H5V10A7,7 0 0,1 12,3A7,7 0 0,1 19,10V12H15V20H18A3,3 0 0,0 21,17V10C21,5 16.97,1 12,1Z\" />\n              </svg>\n            </Link>\n            {token && (\n              <nav className={styles.navWrapper}>\n                <Link className={styles.link} to=\"/music\">Music</Link>\n                <Link className={styles.link} to=\"/upload\">Upload</Link>\n              </nav>\n            )}\n          </div>\n          <div className={styles.right}>\n            {!token && <Link className={styles.link} to=\"/login\">Login</Link>}\n            {token && <Link className={styles.link} to=\"?logout\" onClick={this.logout()}>Logout</Link>}\n          </div>\n        </div>\n      </header>\n    );\n  }\n}\n\nHeader.propTypes = {\n  token: PropTypes.string.isRequired,\n  setToken: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setToken: token => dispatch(action(token)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header));\n","const action = message => ({\n  type: 'SET_ERROR_MESSAGE',\n  payload: message,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport filesize from 'filesize';\nimport errAction from '../../../../actions/error';\n\nimport styles from './status.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Status extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      disk: null,\n    };\n  }\n\n  async componentDidMount() {\n    await this.updateStatus();\n    this.interval = setInterval(async () => {\n      await this.updateStatus();\n    }, 300000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  async updateStatus() {\n    const { setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/status`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, disk } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!disk) {\n        throw new Error(message);\n      }\n\n      this.setState({ disk });\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { disk } = this.state;\n\n    return (\n      <section className={styles.status}>\n        <h1 className={styles.title}>Storage Status</h1>\n        {disk && (\n          <div className={styles.body}>\n            <p className={styles.item}>\n              Total Space:&ensp;\n              <span>{filesize(disk.totalSpace)}</span>\n            </p>\n            <p className={styles.item}>\n              Used Space:&ensp;\n              <span>{filesize(disk.usedSpace)}</span>\n            </p>\n            <p className={styles.item}>\n              Max File Size:&ensp;\n              <span>{filesize(disk.maxFileSize)}</span>\n            </p>\n          </div>\n        )}\n      </section>\n    );\n  }\n}\n\nStatus.propTypes = {\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(null, mapDispatchToProps)(Status);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport action from '../../../../actions/login';\nimport errAction from '../../../../actions/error';\n\nimport styles from './login.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '', password: '',\n    };\n\n    this.uuids = {\n      username: uuidv4(), password: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  onInput(e) {\n    e.preventDefault();\n\n    const { username, password } = this.uuids;\n\n    const { id, value } = e.target;\n    switch (id) {\n      case username:\n        this.setState({ username: value });\n        break;\n      case password:\n        this.setState({ password: value });\n        break;\n      default:\n    }\n  }\n\n  async login(e) {\n    e.preventDefault();\n\n    const { setToken, history, setError } = this.props;\n\n    const { username, password } = this.state;\n\n    const uri = `${REACT_APP_API_URL}/api/login`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, token } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ username, password }),\n      }).then(r => r.json());\n\n      if (!token) {\n        throw new Error(message);\n      }\n\n      setToken(token);\n      window.localStorage.setItem('token', token);\n      history.push('/');\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.login}>\n        <h1 className={styles.title}>Login</h1>\n        <form className={styles.main}>\n          <label htmlFor={uuids.username} className={styles.inputWrapper}>\n            <input\n              id={uuids.username}\n              className={styles.input}\n              type=\"text\"\n              placeholder=\"Username / Email\"\n              onChange={this.onInput.bind(this)}\n            />\n          </label>\n          <label htmlFor={uuids.password} className={styles.inputWrapper}>\n            <input\n              id={uuids.password}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={this.onInput.bind(this)}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <Link className={styles.link} to=\"/forgot\">Forgot your password?</Link>\n            <div className={styles.right}>\n              <Link className={styles.link} to=\"/register\">Need an account?</Link>\n              <input\n                className={styles.submit}\n                type=\"submit\"\n                value=\"Login\"\n                onClick={this.login.bind(this)}\n              />\n            </div>\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nLogin.propTypes = {\n  token: PropTypes.string.isRequired,\n  setToken: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setToken: token => dispatch(action(token)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Login));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\n\nimport styles from './register.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '', email: '', password: '', retry: '',\n    };\n\n    this.uuids = {\n      username: uuidv4(), email: uuidv4(), password: uuidv4(), retry: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  onInput(e) {\n    e.preventDefault();\n\n    const {\n      username, email, password, retry,\n    } = this.uuids;\n\n    const { id, value } = e.target;\n    switch (id) {\n      case username:\n        this.setState({ username: value });\n        break;\n      case email:\n        this.setState({ email: value });\n        break;\n      case password:\n        this.setState({ password: value });\n        break;\n      case retry:\n        this.setState({ retry: value });\n        break;\n      default:\n    }\n  }\n\n  async register(e) {\n    e.preventDefault();\n\n    const { history, setError } = this.props;\n\n    const {\n      username, email, password, retry,\n    } = this.state;\n\n    if (!/^\\w+[\\w-.]*@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$/.test(email)) {\n      setError('Invalid email.');\n      return;\n    }\n\n    if (password !== retry) {\n      setError('Passwords don\\'t match.');\n      return;\n    }\n\n    const uri = `${REACT_APP_API_URL}/api/register`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, uuid } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ username, email, password }),\n      }).then(r => r.json());\n\n      if (!uuid) {\n        throw new Error(message);\n      }\n\n      history.push('/login');\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.register}>\n        <h1 className={styles.title}>Register</h1>\n        <form className={styles.body}>\n          <label htmlFor={uuids.username} className={styles.inputWrapper}>\n            <input\n              ref={this.username}\n              id={uuids.username}\n              className={styles.input}\n              type=\"text\"\n              placeholder=\"Username\"\n              onChange={this.onInput.bind(this)}\n            />\n          </label>\n          <label htmlFor={uuids.email} className={styles.inputWrapper}>\n            <input\n              ref={this.email}\n              id={uuids.email}\n              className={styles.input}\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={this.onInput.bind(this)}\n            />\n          </label>\n          <label htmlFor={uuids.password} className={styles.inputWrapper}>\n            <input\n              ref={this.password}\n              id={uuids.password}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={this.onInput.bind(this)}\n            />\n          </label>\n          <label htmlFor={uuids.retry} className={styles.inputWrapper}>\n            <input\n              ref={this.retry}\n              id={uuids.retry}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Re-type Password\"\n              onChange={this.onInput.bind(this)}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <Link className={styles.link} to=\"/login\">Already have account?</Link>\n            <input\n              className={styles.submit}\n              type=\"submit\"\n              value=\"Register\"\n              onClick={this.register.bind(this)}\n            />\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nRegister.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Register));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\n\nimport styles from './forgot.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Forgot extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n    };\n\n    this.uuids = {\n      email: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  onInput(e) {\n    e.preventDefault();\n\n    this.setState({ email: e.target.value });\n  }\n\n  async requestPasswordChange(e) {\n    e.preventDefault();\n\n    const { setError } = this.props;\n\n    const { email } = this.state;\n\n    if (!/^\\w+[\\w-.]*@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$/.test(email)) {\n      setError('Invalid email.');\n      return;\n    }\n\n    const uri = `${REACT_APP_API_URL}/api/forgot`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ email }),\n      }).then(r => r.json());\n\n      setError(message);\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.forgot}>\n        <h1 className={styles.title}>Forgot</h1>\n        <form className={styles.main}>\n          <div className={styles.note}>\n            <p>To request a new password please enter your account email in the box below.</p>\n            <p>We will send you an email with further instructions.</p>\n          </div>\n          <label htmlFor={uuids.email} className={styles.inputWrapper}>\n            <input\n              ref={this.email}\n              id={uuids.email}\n              className={styles.input}\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={this.onInput.bind(this)}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <input\n              className={styles.submit}\n              type=\"submit\"\n              value=\"Request Password Change\"\n              onClick={this.requestPasswordChange.bind(this)}\n            />\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nForgot.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Forgot));\n","export const actions = {\n  SET_SONGS: 'SET_SONGS',\n  SET_NOW_PLAYING: 'SET_NP',\n  SET_PAUSE: 'SET_PAUSE',\n};\n\nconst action = (type, value) => ({\n  type,\n  payload: value,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\n\nimport styles from './song.module.css';\n\nimport icons from './icons.svg';\n\nclass Song extends React.Component {\n  onClick() {\n    const {\n      i, np, setNP, pause, setPause,\n    } = this.props;\n\n    if (i === np) {\n      setPause(!pause);\n      return;\n    }\n\n    setNP(i);\n  }\n\n  render() {\n    const {\n      author, title, cover, edit, i, np, pause,\n    } = this.props;\n\n    const play = `${icons}#${((i === np) && !pause) ? 'pause' : 'play'}`;\n\n    return (\n      <div className={styles.track}>\n        <div className={styles.cover} style={{ backgroundImage: cover ? `url(${cover})` : '' }}>\n          {!cover && (\n            <svg className={styles.defaultCover}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#cover`} />\n            </svg>\n          )}\n          <button\n            className={`${styles.button} ${styles.play}`}\n            type=\"button\"\n            onClick={this.onClick.bind(this)}\n          >\n            <svg className={styles.icon}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={play} />\n            </svg>\n          </button>\n        </div>\n        <div className={styles.content}>\n          <div className={styles.title}>{title}</div>\n          <div className={styles.author}>{author}</div>\n        </div>\n        <div className={styles.actions}>\n          <button className={`${styles.button} ${styles.action}`} type=\"button\">\n            <svg className={styles.icon}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#like`} />\n            </svg>\n          </button>\n          {edit && (\n            <button className={`${styles.button} ${styles.action}`} type=\"button\">\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#edit`} />\n              </svg>\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nSong.defaultProps = {\n  cover: null,\n  edit: false,\n};\n\nSong.propTypes = {\n  author: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  cover: PropTypes.string,\n  i: PropTypes.number.isRequired,\n  edit: PropTypes.bool,\n  np: PropTypes.number.isRequired,\n  setNP: PropTypes.func.isRequired,\n  pause: PropTypes.bool.isRequired,\n  setPause: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  np: store.player.nowPlaying,\n  pause: store.player.paused,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setNP: np => dispatch(action(actions.SET_NOW_PLAYING, np)),\n  setPause: paused => dispatch(action(actions.SET_PAUSE, paused)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Song);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Song from './components/Song';\n\nimport styles from './music.module.css';\n\nconst Music = ({ songs }) => (\n  <section className={styles.music}>\n    <h1 className={styles.title}>All</h1>\n    <div className={styles.songList}>\n      {songs.map((song, i) => (\n        <Song key={song.uuid} author={song.author} title={song.title} cover={song.cover} i={i} />\n      ))}\n    </div>\n  </section>\n);\n\nMusic.propTypes = {\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n  })).isRequired,\n};\n\nconst mapStateToProps = store => ({\n  songs: store.player.songs,\n});\n\nexport default connect(mapStateToProps)(Music);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\n\nimport styles from './upload.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.uuids = {\n      file: uuidv4(),\n    };\n\n    this.state = {\n      name: '',\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (!token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  onChange(e) {\n    const file = e.target.files[0];\n\n    this.setState({ name: file.name });\n    this.upload(file);\n  }\n\n  onDrop(e) {\n    if (e.dataTransfer.files) {\n      const file = e.dataTransfer.files[0];\n\n      this.setState({ name: file.name });\n      this.upload(file);\n    }\n  }\n\n  async upload(file) {\n    const { token, setError } = this.props;\n\n    if (file.size > 10 * 1024 * 1024) {\n      setError('File too large. Your audio file may not exceed 10 MB.');\n      return;\n    }\n\n    if (file.type !== 'audio/mp3') {\n      setError('Unsupported type. Your audio file has to be in MP3 format.');\n      return;\n    }\n\n    const uri = `${REACT_APP_API_URL}/api/songs`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'audio/mpeg',\n      authorization: `Bearer ${token}`,\n      'x-uploaded-filename': encodeURI(file.name),\n    };\n\n    try {\n      const { message, uuid } = await fetch(uri, {\n        method: 'PUT',\n        headers,\n        body: file,\n      }).then(r => r.json());\n\n      if (!uuid) {\n        throw new Error(message);\n      }\n\n      setError(message); // Temporary error\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { name } = this.state;\n\n    const { uuids } = this;\n\n    return (\n      <section\n        className={styles.upload}\n        onDrop={this.onDrop.bind(this)}\n        onDragOver={e => e.preventDefault()}\n      >\n        <h1 className={styles.title}>Drag and drop your track here</h1>\n        <form className={styles.main}>\n          <div className={styles.inputWrapper}>\n            <label className={styles.file} htmlFor={uuids.file}>\n              <input\n                className={styles.fileInput}\n                id={uuids.file}\n                type=\"file\"\n                accept=\"audio/mpeg\"\n                onChange={this.onChange.bind(this)}\n              />\n              <span>or choose file to upload</span>\n            </label>\n          </div>\n          {name && <p className={styles.filename}>{name}</p>}\n          <div className={styles.note}>\n            <p>Your audio file may not exceed 10 MB and has to be in MP3 format.</p>\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nUpload.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Upload));\n","import React from 'react';\nimport Status from './components/Status';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Forgot from './components/Forgot';\nimport Music from './components/Music';\nimport Upload from './components/Upload';\n\nconst routes = [\n  {\n    path: '/',\n    component: () => <Status />,\n    exact: true,\n  },\n  {\n    path: '/music',\n    component: () => <Music />,\n  },\n  {\n    path: '/upload',\n    component: () => <Upload />,\n  },\n  {\n    path: '/login',\n    component: () => <Login />,\n  },\n  {\n    path: '/register',\n    component: () => <Register />,\n  },\n  {\n    path: '/forgot',\n    component: () => <Forgot />,\n  },\n];\n\nexport default routes;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport routes from './routes';\n\nimport styles from './main.module.css';\n\nconst Main = () => (\n  <div className={styles.main}>\n    {routes.map(route => (\n      <Route\n        key={route.path.slice(1)}\n        path={route.path}\n        component={route.component}\n        exact={route.exact}\n      />\n    ))}\n  </div>\n);\n\nexport default Main;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport styles from './timeline.module.css';\n\nconst Timeline = ({ timePassed, duration }) => (\n  <div className={styles.timeline}>\n    <div className={styles.timePassed}>{moment(timePassed * 1000).format('mm:ss')}</div>\n    <div className={styles.progressWrapper}>\n      <div className={styles.progressBackground}>\n        <div className={styles.progressBar} style={{ width: `${timePassed / duration * 100}%` }} />\n      </div>\n    </div>\n    <div className={styles.duration}>{moment(duration * 1000).format('mm:ss')}</div>\n  </div>\n);\n\nTimeline.propTypes = {\n  timePassed: PropTypes.number.isRequired,\n  duration: PropTypes.number.isRequired,\n};\n\nexport default Timeline;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './soundBadge.module.css';\n\nconst SoundBadge = ({ author, title, cover }) => (\n  <div className={styles.soundBadge}>\n    <div className={styles.cover} style={{ backgroundImage: `url(${cover})` }} />\n    <div className={styles.titleContextContainer}>\n      <span className={`${styles.title} ${styles.truncate}`}>{title}</span>\n      <span className={`${styles.author} ${styles.truncate}`}>{author}</span>\n    </div>\n  </div>\n);\n\nSoundBadge.defaultProps = {\n  author: 'No Author',\n  title: 'No Title',\n  cover: '',\n};\n\nSoundBadge.propTypes = {\n  author: PropTypes.string,\n  title: PropTypes.string,\n  cover: PropTypes.string,\n};\n\nexport default SoundBadge;\n","import React, { createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../actions/player';\nimport errAction from '../../actions/error';\nimport Timeline from './components/Timeline';\nimport SoundBadge from './components/SoundBadge';\n\nimport styles from './player.module.css';\n\nimport icons from './icons.svg';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Player extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      song: {},\n      currentTime: 0,\n      duration: 0,\n      loop: false,\n      shuffle: false,\n      muted: false,\n      volume: 1,\n    };\n\n    this.audio = createRef();\n  }\n\n  async componentDidMount() {\n    const { token, setSongs, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/songs`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, songs } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!songs) {\n        throw new Error(message);\n      }\n\n      setSongs(songs);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  async componentDidUpdate(prev) {\n    const { songs, np, pause } = this.props;\n\n    const { song } = this.state;\n\n    if (!songs.length) {\n      return;\n    }\n\n    if (prev.np !== np) {\n      await this.loadSong(songs[np].uuid);\n      return;\n    }\n\n    if (prev.pause !== pause) {\n      const audio = this.audio.current;\n\n      if (pause) {\n        audio.pause();\n        document.title = 'Moosik';\n        return;\n      }\n\n      audio.play();\n      document.title = `${song.author} - ${song.title}`;\n    }\n  }\n\n  onLoadedMetadata(e) {\n    this.setState({ duration: e.target.duration });\n  }\n\n  onCanPlay(e) {\n    const { setPause } = this.props;\n\n    const { song } = this.state;\n\n    e.target.play();\n\n    setPause(false);\n    document.title = `${song.author} - ${song.title}`;\n  }\n\n  onTimeUpdate(e) {\n    this.setState({ currentTime: e.target.currentTime });\n  }\n\n  onVolumeChange(e) {\n    this.setState({ volume: e.target.volume });\n  }\n\n  onEnded() {\n    const { songs, np, setNP } = this.props;\n    const { shuffle } = this.state;\n\n    if (shuffle) {\n      setNP(Math.round(Math.random() * (songs.length - 1)));\n      return;\n    }\n\n    if (np < songs.length - 1) {\n      setNP(np + 1);\n    }\n  }\n\n  onClickControl(e) {\n    const type = e.currentTarget.attributes['data-t'].nodeValue;\n\n    const {\n      songs, np, setNP, pause, setPause,\n    } = this.props;\n\n    switch (type) {\n      case 'prev': {\n        if (np > 0) {\n          setNP(np - 1);\n        }\n        break;\n      }\n      case 'play': {\n        if (np === -1) {\n          setNP(np === -1 ? 0 : np);\n          return;\n        }\n\n        setPause(!pause);\n        break;\n      }\n      case 'next': {\n        if (np < songs.length - 1) {\n          setNP(np + 1);\n        }\n        break;\n      }\n      case 'loop': {\n        this.setState(prev => ({ loop: !prev.loop }));\n        break;\n      }\n      case 'shuf': {\n        this.setState(prev => ({ shuffle: !prev.shuffle }));\n        break;\n      }\n      case 'mute': {\n        this.setState(prev => ({ muted: !prev.muted }));\n        break;\n      }\n      default:\n    }\n  }\n\n  onClickVolumeSlider(e) {\n    const r = e.currentTarget.getBoundingClientRect();\n    this.audio.current.volume = 1 - (e.clientY - r.top) / r.height;\n  }\n\n  async loadSong(uuid) {\n    const { token, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/songs/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, song } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!song) {\n        throw new Error(message);\n      }\n\n      this.setState({ song });\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { pause } = this.props;\n    const {\n      song, currentTime, duration, muted, loop, volume, shuffle,\n    } = this.state;\n\n    return (\n      <div className={styles.player}>\n        <section className={styles.wrapper}>\n          <div className={styles.controls}>\n            <button type=\"button\" className={styles.control} data-t=\"prev\" onClick={this.onClickControl.bind(this)}>\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#prev`} />\n              </svg>\n            </button>\n            <button type=\"button\" className={styles.control} data-t=\"play\" onClick={this.onClickControl.bind(this)}>\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#${pause ? 'play' : 'pause'}`} />\n              </svg>\n            </button>\n            <button type=\"button\" className={styles.control} data-t=\"next\" onClick={this.onClickControl.bind(this)}>\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#next`} />\n              </svg>\n            </button>\n            <button type=\"button\" className={styles.control} data-t=\"loop\" onClick={this.onClickControl.bind(this)}>\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#repeat`} style={{ fill: loop ? 'var(--red-dark)' : '' }} />\n              </svg>\n            </button>\n            <button type=\"button\" className={styles.control} data-t=\"shuf\" onClick={this.onClickControl.bind(this)}>\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#shuffle`} style={{ fill: shuffle ? 'var(--red-dark)' : '' }} />\n              </svg>\n            </button>\n          </div>\n          <Timeline timePassed={currentTime} duration={duration || 0} />\n          <div className={`${styles.controls} ${styles.volume}`}>\n            <button type=\"button\" className={styles.control} data-t=\"mute\" onClick={this.onClickControl.bind(this)}>\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#${muted ? 'mute' : 'volume'}`} />\n              </svg>\n            </button>\n            <div className={styles.volumeWrapper}>\n              <div className={styles.volumeSlider} role=\"presentation\" onClick={this.onClickVolumeSlider.bind(this)}>\n                <div className={styles.volumeBackground} />\n                <div className={styles.volumeBar} style={{ height: `${100 * volume}%` }} />\n              </div>\n            </div>\n          </div>\n          <SoundBadge author={song.author} title={song.title} cover={song.cover} />\n          <audio\n            ref={this.audio}\n            src={song.url}\n            muted={muted}\n            loop={loop}\n            onLoadedMetadata={this.onLoadedMetadata.bind(this)}\n            onCanPlay={this.onCanPlay.bind(this)}\n            onTimeUpdate={this.onTimeUpdate.bind(this)}\n            onVolumeChange={this.onVolumeChange.bind(this)}\n            onEnded={this.onEnded.bind(this)}\n          />\n        </section>\n      </div>\n    );\n  }\n}\n\nPlayer.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n  np: PropTypes.number.isRequired,\n  setNP: PropTypes.func.isRequired,\n  pause: PropTypes.bool.isRequired,\n  setPause: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n  np: store.player.nowPlaying,\n  pause: store.player.paused,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n  setNP: np => dispatch(action(actions.SET_NOW_PLAYING, np)),\n  setPause: pause => dispatch(action(actions.SET_PAUSE, pause)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Player);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action from '../../actions/error';\n\nimport styles from './modal.module.css';\n\nclass Modal extends React.Component {\n  componentDidMount() {\n    const { clearError } = this.props;\n\n    setTimeout(() => {\n      clearError();\n    }, 5000);\n  }\n\n  render() {\n    const { error } = this.props;\n\n    return (\n      <div className={styles.modal}>\n        <svg className={styles.icon} viewBox=\"0 0 24 24\">\n          <path d=\"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\" />\n        </svg>\n        <div className={styles.message}>\n          <span>{error}</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  error: PropTypes.string.isRequired,\n  clearError: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => ({\n  clearError: () => dispatch(action('')),\n});\n\nexport default connect(null, mapDispatchToProps)(Modal);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport Header from '../Header';\nimport Main from '../Main';\nimport Player from '../Player';\nimport Modal from '../Modal';\n\nimport styles from './app.module.css';\n\nimport bg from './bg.jpg';\n\nconst App = ({ token, error }) => (\n  <div className={styles.app} style={{ backgroundImage: `url(${bg})` }}>\n    <main className={styles.container}>\n      <BrowserRouter>\n        <Header />\n        <Main />\n      </BrowserRouter>\n      {token && <Player />}\n    </main>\n    <div className={styles.modalWrapper}>\n      {error && <Modal error={error} />}\n    </div>\n  </div>\n);\n\nApp.propTypes = {\n  token: PropTypes.string.isRequired,\n  error: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  error: store.error.message,\n});\n\nexport default connect(mapStateToProps)(App);\n","const initialState = {\n  token: window.localStorage.getItem('token') || '',\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_TOKEN':\n      return { ...state, token: action.payload };\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  songs: [],\n  nowPlaying: -1,\n  paused: true,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_SONGS':\n      return { ...state, songs: action.payload };\n    case 'SET_NP':\n      return { ...state, nowPlaying: action.payload };\n    case 'SET_PAUSE':\n      return { ...state, paused: action.payload };\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  message: '',\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_ERROR_MESSAGE':\n      return { ...state, message: action.payload };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport login from './login';\nimport player from './player';\nimport error from './error';\n\nconst rootReducer = combineReducers({\n  login, player, error,\n});\n\nexport default rootReducer;\n","import { createStore } from 'redux';\nimport rootReducer from '../reducers/root';\n\nconst store = createStore(rootReducer);\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/App';\nimport store from './store';\nimport * as serviceWorker from './serviceWorker';\n\nimport './layouts/default.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}