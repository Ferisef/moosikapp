{"version":3,"sources":["components/Player/player.module.css","components/Main/components/Music/components/Song/song.module.css","components/Main/components/Register/register.module.css","components/Main/components/Login/login.module.css","components/Header/header.module.css","components/Main/components/Upload/upload.module.css","components/Main/components/Forgot/forgot.module.css","components/Main/components/Upload/components/SongEdit/songEdit.module.css","components/Player/components/SoundBadge/soundBadge.module.css","components/Main/components/Status/status.module.css","components/Player/components/Timeline/timeline.module.css","components/Player/icons.svg","components/Main/components/Music/components/Song/icons.svg","components/Main/components/Music/components/Find/find.module.css","components/Main/components/Music/components/Nav/nav.module.css","components/Modal/modal.module.css","components/App/app.module.css","components/Main/components/Music/music.module.css","components/Main/main.module.css","components/App/bg.jpg","actions/login.js","components/Header/index.jsx","actions/error.js","components/Main/components/Status/index.jsx","components/Main/components/Login/index.jsx","components/Main/components/Register/index.jsx","components/Main/components/Forgot/index.jsx","components/Main/components/Music/components/Nav/index.jsx","actions/player.js","components/Main/components/Music/components/Song/index.jsx","components/Main/components/Music/components/All/index.jsx","components/Main/components/Music/components/Favorites/index.jsx","components/Main/components/Music/components/Find/index.jsx","components/Main/components/Music/routes.jsx","components/Main/components/Music/index.jsx","components/Main/components/Upload/components/SongEdit/index.jsx","components/Main/components/Upload/index.jsx","components/Main/routes.jsx","components/Main/index.jsx","components/Player/components/Timeline/index.jsx","components/Player/components/SoundBadge/index.jsx","components/Player/index.jsx","components/Modal/index.jsx","components/App/index.jsx","reducers/login.js","reducers/player.js","reducers/error.js","reducers/root.js","store/index.js","serviceWorker.js","index.jsx"],"names":["module","exports","player","wrapper","controls","control","icon","volume","volumeWrapper","volumeSlider","volumeBackground","volumeBar","track","cover","defaultCover","button","play","content","actions","action","info","title","author","register","main","inputWrapper","right","input","submit","link","login","inner","left","logoLink","logo","navWrapper","container","dragOver","progressWrapper","progressBar","uploader","file","fileInput","note","fileName","forgot","songEdit","soundBadge","titleContextContainer","truncate","status","body","item","timeline","progressBackground","timePassed","duration","__webpack_require__","p","findBox","active","modal","message","app","modalWrapper","token","type","payload","Header","_this","this","e","preventDefault","_this$props","props","setToken","history","window","localStorage","removeItem","push","react_default","a","createElement","className","styles","react_router_dom","to","viewBox","d","onClick","logout","React","Component","connect","store","dispatch","withRouter","process","REACT_APP_API_URL","Status","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","disk","updateStatus","interval","setInterval","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","_this2","stop","clearInterval","setError","uri","headers","accept","content-type","fetch","method","then","r","json","Error","setState","_context3","t0","filesize","totalSpace","usedSpace","maxFileSize","errAction","Login","username","password","uuids","uuidv4","_this$uuids","_e$target","target","id","value","JSON","stringify","setItem","htmlFor","placeholder","onChange","onInput","bind","Register","email","retry","test","uuid","ref","Forgot","requestPasswordChange","Nav","_ref","items","map","key","toLowerCase","concat","location","pathname","path","Song","favorite","index","np","setNP","pause","setPause","deleteFromFavorite","addToFavorite","authorization","_context2","_this$props4","edit","icons","style","backgroundImage","xmlnsXlink","xlinkHref","onPlayClick","decodeURI","onLikeClick","fill","defaultProps","nowPlaying","paused","All","setSongs","songs","Fragment","song","i","components_Song","Favorites","Find","query","findSongs","routes","component","components_All","exact","components_Favorites","components_Find","navItems","Music","components_Nav","route","react_router","slice","Upload","encodeURI","_this$uuids2","update","progress","songUuid","files","name","upload","dataTransfer","_this$props2","size","xhr","XMLHttpRequest","open","setRequestHeader","onload","_JSON$parse","parse","response","onerror","onprogress","loaded","total","send","_this$state","onDrop","onDragOver","onDragLeave","width","SongEdit","components_Status","components_Music","components_Upload","components_Login","components_Register","components_Forgot","Main","Timeline","moment","format","SoundBadge","Player","currentTime","loop","shuffle","muted","audio","createRef","length","loadSong","current","document","Math","round","random","currentTarget","attributes","nodeValue","_this$props3","getBoundingClientRect","clientY","top","height","data-t","onClickControl","components_Timeline","role","onClickVolumeSlider","components_SoundBadge","src","url","onLoadedMetadata","onCanPlay","onTimeUpdate","onVolumeChange","onEnded","Modal","clearError","setTimeout","error","bg","components_Header","components_Main","components_Player","components_Modal","initialState","getItem","rootReducer","combineReducers","arguments","undefined","objectSpread","createStore","Boolean","hostname","match","ReactDOM","render","es","components_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"mFACAA,EAAAC,QAAA,CAAkBC,OAAA,uBAAAC,QAAA,wBAAAC,SAAA,yBAAAC,QAAA,wBAAAC,KAAA,qBAAAC,OAAA,uBAAAC,cAAA,8BAAAC,aAAA,6BAAAC,iBAAA,iCAAAC,UAAA,6CCAlBX,EAAAC,QAAA,CAAkBW,MAAA,oBAAAC,MAAA,oBAAAC,aAAA,2BAAAC,OAAA,qBAAAC,KAAA,mBAAAV,KAAA,mBAAAW,QAAA,sBAAAC,QAAA,sBAAAC,OAAA,qBAAAC,KAAA,mBAAAC,MAAA,oBAAAC,OAAA,wCCAlBtB,EAAAC,QAAA,CAAkBsB,SAAA,2BAAAF,MAAA,wBAAAG,KAAA,uBAAAC,aAAA,+BAAAC,MAAA,wBAAAC,MAAA,wBAAAC,OAAA,yBAAAC,KAAA,4CCAlB7B,EAAAC,QAAA,CAAkB6B,MAAA,qBAAAT,MAAA,qBAAAG,KAAA,oBAAAC,aAAA,4BAAAC,MAAA,qBAAAC,MAAA,qBAAAC,OAAA,sBAAAC,KAAA,wCCAlB7B,EAAAC,QAAA,CAAkBE,QAAA,wBAAA4B,MAAA,sBAAAC,KAAA,qBAAAN,MAAA,sBAAAO,SAAA,yBAAAC,KAAA,qBAAAC,WAAA,2BAAAN,KAAA,uCCAlB7B,EAAAC,QAAA,CAAkBmC,UAAA,0BAAAC,SAAA,yBAAAC,gBAAA,gCAAAC,YAAA,4BAAAlB,MAAA,sBAAAmB,SAAA,yBAAAf,aAAA,6BAAAgB,KAAA,qBAAAC,UAAA,0BAAAC,KAAA,qBAAAC,SAAA,2CCAlB5C,EAAAC,QAAA,CAAkB4C,OAAA,uBAAAxB,MAAA,sBAAAG,KAAA,qBAAAmB,KAAA,qBAAAlB,aAAA,6BAAAC,MAAA,sBAAAC,MAAA,sBAAAC,OAAA,2CCAlB5B,EAAAC,QAAA,CAAkB6C,SAAA,2BAAArB,aAAA,+BAAAE,MAAA,wBAAAC,OAAA,2CCAlB5B,EAAAC,QAAA,CAAkB8C,WAAA,+BAAAlC,MAAA,0BAAAmC,sBAAA,0CAAA3B,MAAA,0BAAAC,OAAA,2BAAA2B,SAAA,+CCAlBjD,EAAAC,QAAA,CAAkBiD,OAAA,uBAAA7B,MAAA,sBAAA8B,KAAA,qBAAAC,KAAA,uCCAlBpD,EAAAC,QAAA,CAAkBoD,SAAA,2BAAAf,gBAAA,kCAAAgB,mBAAA,qCAAAf,YAAA,8BAAAgB,WAAA,6BAAAC,SAAA,6CCDlBxD,EAAAC,QAAiBwD,EAAAC,EAAuB,sDCAxC1D,EAAAC,QAAiBwD,EAAAC,EAAuB,mDCCxC1D,EAAAC,QAAA,CAAkB0D,QAAA,sBAAAlC,aAAA,2BAAAE,MAAA,oBAAAZ,OAAA,2CCAlBf,EAAAC,QAAA,CAAkBE,QAAA,qBAAAiD,KAAA,kBAAAQ,OAAA,sCCAlB5D,EAAAC,QAAA,CAAkB4D,MAAA,qBAAAvD,KAAA,oBAAAwD,QAAA,yCCAlB9D,EAAAC,QAAA,CAAkB8D,IAAA,iBAAA3B,UAAA,uBAAA4B,aAAA,gDCAlBhE,EAAAC,QAAA,CAAkBE,QAAA,uBAAAiC,UAAA,+CCAlBpC,EAAAC,QAAA,CAAkBmC,UAAA,0CCDlBpC,EAAAC,QAAiBwD,EAAAC,EAAuB,mOCKzBvC,EALA,SAAA8C,GAAK,MAAK,CACvBC,KAAM,YACNC,QAASF,qBCMLG,mLACK,IAAAC,EAAAC,KACP,OAAO,SAACC,GACNA,EAAEC,iBADU,IAAAC,EAGkBJ,EAAKK,MAA3BC,EAHIF,EAGJE,SAAUC,EAHNH,EAGMG,QAElBD,EAAS,IACTE,OAAOC,aAAaC,WAAW,SAC/BH,EAAQI,KAAK,4CAIR,IACCf,EAAUK,KAAKI,MAAfT,MAER,OACEgB,EAAAC,EAAAC,cAAA,UAAQC,UAAWC,IAAOlF,SACxB8E,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOtD,OACrBkD,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOrD,MACrBiD,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOpD,SAAUsD,GAAG,KACnCN,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOnD,KAAMsD,QAAQ,aACnCP,EAAAC,EAAAC,cAAA,QAAMM,EAAE,sIAGXxB,GACCgB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOlD,YACrB8C,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOxD,KAAM0D,GAAG,UAAjC,SACAN,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOxD,KAAM0D,GAAG,WAAjC,YAINN,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO3D,QACnBuC,GAASgB,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOxD,KAAM0D,GAAG,UAAjC,SACVtB,GAASgB,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOxD,KAAM0D,GAAG,UAAUG,QAASpB,KAAKqB,UAAzD,oBAlCDC,IAAMC,WA0DZC,cARS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMjE,MAAMmC,QAGM,SAAA+B,GAAQ,MAAK,CACtCrB,SAAU,SAAAV,GAAK,OAAI+B,EAAS7E,EAAO8C,OAGtB6B,CAA6CG,YAAW7B,4CC7DxDjD,EALA,SAAA2C,GAAO,MAAK,CACzBI,KAAM,oBACNC,QAASL,uBCMwBoC,8CAA3BC,+BAAoB,KAEtBC,cACJ,SAAAA,EAAY1B,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAA8B,IACjB/B,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAAD,GAAAK,KAAAnC,KAAMI,KAEDgC,MAAQ,CACXC,KAAM,MAJStC,sNASXC,KAAKsC,sBACXtC,KAAKuC,SAAWC,YAAWT,OAAAU,EAAA,EAAAV,CAAAW,EAAA9B,EAAA+B,KAAC,SAAAC,IAAA,OAAAF,EAAA9B,EAAAiC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACpBC,EAAKX,eADe,wBAAAQ,EAAAI,SAAAN,MAEzB,sJAIHO,cAAcnD,KAAKuC,gLAIXa,EAAapD,KAAKI,MAAlBgD,SAEFC,YAASxB,iBAETyB,EAAU,CACdC,OAAQ,iCACRC,eAAgB,sCAIgBC,MAAMJ,EAAK,CACzCK,OAAQ,MACRJ,YACCK,KAAK,SAAAC,GAAC,OAAIA,EAAEC,4BAHPrE,YAAS6C,gCAMT,IAAIyB,MAAMtE,WAGlBQ,KAAK+D,SAAS,CAAE1B,2DAEhBe,EAASY,EAAAC,GAAEzE,sJAIN,IACC6C,EAASrC,KAAKoC,MAAdC,KAER,OACE1B,EAAAC,EAAAC,cAAA,WAASC,UAAWC,IAAOnC,QACzB+B,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,IAAOhE,OAAtB,kBACCsF,GACC1B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOlC,MACrB8B,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOjC,MAArB,qBAEE6B,EAAAC,EAAAC,cAAA,YAAOqD,IAAS7B,EAAK8B,cAEvBxD,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOjC,MAArB,oBAEE6B,EAAAC,EAAAC,cAAA,YAAOqD,IAAS7B,EAAK+B,aAEvBzD,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,IAAOjC,MAArB,uBAEE6B,EAAAC,EAAAC,cAAA,YAAOqD,IAAS7B,EAAKgC,wBAhEd/C,IAAMC,WAiFZC,cAAQ,KAJI,SAAAE,GAAQ,MAAK,CACtC0B,SAAU,SAAA5D,GAAO,OAAIkC,EAAS4C,EAAU9E,OAG3BgC,CAAkCM,uCCjFdF,8CAA3BC,+BAAoB,KAEtB0C,cACJ,SAAAA,EAAYnE,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAAuE,IACjBxE,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAAwC,GAAApC,KAAAnC,KAAMI,KAEDgC,MAAQ,CACXoC,SAAU,GAAIC,SAAU,IAG1B1E,EAAK2E,MAAQ,CACXF,SAAUG,MAAUF,SAAUE,OARf5E,mFAYC,IAAAI,EACSH,KAAKI,MAAxBT,EADUQ,EACVR,MAAOW,EADGH,EACHG,QAEf,OAAIX,IACFW,EAAQI,KAAK,MACN,mCAMHT,GACNA,EAAEC,iBADO,IAAA0E,EAGsB5E,KAAK0E,MAA5BF,EAHCI,EAGDJ,SAAUC,EAHTG,EAGSH,SAHTI,EAKa5E,EAAE6E,OAAhBC,EALCF,EAKDE,GAAIC,EALHH,EAKGG,MACZ,OAAQD,GACN,KAAKP,EACHxE,KAAK+D,SAAS,CAAES,SAAUQ,IAC1B,MACF,KAAKP,EACHzE,KAAK+D,SAAS,CAAEU,SAAUO,2EAMpB/E,sGACVA,EAAEC,mBAEsCF,KAAKI,MAArCC,aAAUC,YAAS8C,eAEIpD,KAAKoC,MAA5BoC,aAAUC,aAEZpB,YAASxB,gBAETyB,EAAU,CACdC,OAAQ,iCACRC,eAAgB,sCAIiBC,MAAMJ,EAAK,CAC1CK,OAAQ,OACRJ,UACAzE,KAAMoG,KAAKC,UAAU,CAAEV,WAAUC,eAChCd,KAAK,SAAAC,GAAC,OAAIA,EAAEC,4BAJPrE,YAASG,iCAOT,IAAImE,MAAMtE,WAGlBa,EAASV,GACTY,OAAOC,aAAa2E,QAAQ,QAASxF,GACrCW,EAAQI,KAAK,uDAEb0C,EAASN,EAAAmB,GAAMzE,uJAIV,IACCkF,EAAU1E,KAAV0E,MAER,OACE/D,EAAAC,EAAAC,cAAA,WAASC,UAAWC,IAAOvD,OACzBmD,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,IAAOhE,OAAtB,SACA4D,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,IAAO7D,MACtByD,EAAAC,EAAAC,cAAA,SAAOuE,QAASV,EAAMF,SAAU1D,UAAWC,IAAO5D,cAChDwD,EAAAC,EAAAC,cAAA,SACEkE,GAAIL,EAAMF,SACV1D,UAAWC,IAAO1D,MAClBuC,KAAK,OACLyF,YAAY,mBACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,SAAOuE,QAASV,EAAMD,SAAU3D,UAAWC,IAAO5D,cAChDwD,EAAAC,EAAAC,cAAA,SACEkE,GAAIL,EAAMD,SACV3D,UAAWC,IAAO1D,MAClBuC,KAAK,WACLyF,YAAY,WACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO5D,cACrBwD,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOxD,KAAM0D,GAAG,WAAjC,yBACAN,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO3D,OACrBuD,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOxD,KAAM0D,GAAG,aAAjC,oBACAN,EAAAC,EAAAC,cAAA,SACEC,UAAWC,IAAOzD,OAClBsC,KAAK,SACLoF,MAAM,QACN5D,QAASpB,KAAKxC,MAAMgI,KAAKxF,mBA3GrBsB,IAAMC,WAuIXC,cATS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMjE,MAAMmC,QAGM,SAAA+B,GAAQ,MAAK,CACtCrB,SAAU,SAAAV,GAAK,OAAI+B,EAAS7E,EAAO8C,KACnCyD,SAAU,SAAA5D,GAAO,OAAIkC,EAAS4C,EAAU9E,OAG3BgC,CAA6CG,YAAW4C,uBC1IpC3C,8CAA3BC,+BAAoB,KAEtB4D,cACJ,SAAAA,EAAYrF,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAAyF,IACjB1F,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAA0D,GAAAtD,KAAAnC,KAAMI,KAEDgC,MAAQ,CACXoC,SAAU,GAAIkB,MAAO,GAAIjB,SAAU,GAAIkB,MAAO,IAGhD5F,EAAK2E,MAAQ,CACXF,SAAUG,MAAUe,MAAOf,MAAUF,SAAUE,MAAUgB,MAAOhB,OARjD5E,mFAYC,IAAAI,EACSH,KAAKI,MAAxBT,EADUQ,EACVR,MAAOW,EADGH,EACHG,QAEf,OAAIX,IACFW,EAAQI,KAAK,MACN,mCAMHT,GACNA,EAAEC,iBADO,IAAA0E,EAKL5E,KAAK0E,MADPF,EAJOI,EAIPJ,SAAUkB,EAJHd,EAIGc,MAAOjB,EAJVG,EAIUH,SAAUkB,EAJpBf,EAIoBe,MAJpBd,EAOa5E,EAAE6E,OAAhBC,EAPCF,EAODE,GAAIC,EAPHH,EAOGG,MACZ,OAAQD,GACN,KAAKP,EACHxE,KAAK+D,SAAS,CAAES,SAAUQ,IAC1B,MACF,KAAKU,EACH1F,KAAK+D,SAAS,CAAE2B,MAAOV,IACvB,MACF,KAAKP,EACHzE,KAAK+D,SAAS,CAAEU,SAAUO,IAC1B,MACF,KAAKW,EACH3F,KAAK+D,SAAS,CAAE4B,MAAOX,8EAMd/E,kGACbA,EAAEC,mBAE4BF,KAAKI,MAA3BE,YAAS8C,eAIbpD,KAAKoC,MADPoC,aAAUkB,UAAOjB,aAAUkB,UAGxB,6CAA6CC,KAAKF,0BACrDtC,EAAS,+CAIPqB,IAAakB,yBACfvC,EAAS,2DAILC,YAASxB,mBAETyB,EAAU,CACdC,OAAQ,iCACRC,eAAgB,wCAIgBC,MAAMJ,EAAK,CACzCK,OAAQ,OACRJ,UACAzE,KAAMoG,KAAKC,UAAU,CAAEV,WAAUkB,QAAOjB,eACvCd,KAAK,SAAAC,GAAC,OAAIA,EAAEC,6BAJPrE,cAASqG,4BAOT,IAAI/B,MAAMtE,WAGlBc,EAAQI,KAAK,6DAEb0C,EAASN,EAAAmB,GAAMzE,wJAIV,IACCkF,EAAU1E,KAAV0E,MAER,OACE/D,EAAAC,EAAAC,cAAA,WAASC,UAAWC,IAAO9D,UACzB0D,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,IAAOhE,OAAtB,YACA4D,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,IAAOlC,MACtB8B,EAAAC,EAAAC,cAAA,SAAOuE,QAASV,EAAMF,SAAU1D,UAAWC,IAAO5D,cAChDwD,EAAAC,EAAAC,cAAA,SACEiF,IAAK9F,KAAKwE,SACVO,GAAIL,EAAMF,SACV1D,UAAWC,IAAO1D,MAClBuC,KAAK,OACLyF,YAAY,WACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,SAAOuE,QAASV,EAAMgB,MAAO5E,UAAWC,IAAO5D,cAC7CwD,EAAAC,EAAAC,cAAA,SACEiF,IAAK9F,KAAK0F,MACVX,GAAIL,EAAMgB,MACV5E,UAAWC,IAAO1D,MAClBuC,KAAK,QACLyF,YAAY,QACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,SAAOuE,QAASV,EAAMD,SAAU3D,UAAWC,IAAO5D,cAChDwD,EAAAC,EAAAC,cAAA,SACEiF,IAAK9F,KAAKyE,SACVM,GAAIL,EAAMD,SACV3D,UAAWC,IAAO1D,MAClBuC,KAAK,WACLyF,YAAY,WACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,SAAOuE,QAASV,EAAMiB,MAAO7E,UAAWC,IAAO5D,cAC7CwD,EAAAC,EAAAC,cAAA,SACEiF,IAAK9F,KAAK2F,MACVZ,GAAIL,EAAMiB,MACV7E,UAAWC,IAAO1D,MAClBuC,KAAK,WACLyF,YAAY,mBACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO5D,cACrBwD,EAAAC,EAAAC,cAACG,EAAA,EAAD,CAAMF,UAAWC,IAAOxD,KAAM0D,GAAG,UAAjC,yBACAN,EAAAC,EAAAC,cAAA,SACEC,UAAWC,IAAOzD,OAClBsC,KAAK,SACLoF,MAAM,WACN5D,QAASpB,KAAK/C,SAASuI,KAAKxF,kBAjJnBsB,IAAMC,WA0KdC,cARS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMjE,MAAMmC,QAGM,SAAA+B,GAAQ,MAAK,CACtC0B,SAAU,SAAA5D,GAAO,OAAIkC,EAAS4C,EAAU9E,OAG3BgC,CAA6CG,YAAW8D,uBC5KpC7D,8CAA3BC,+BAAoB,KAEtBkE,cACJ,SAAAA,EAAY3F,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAA+F,IACjBhG,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAAgE,GAAA5D,KAAAnC,KAAMI,KAEDgC,MAAQ,CACXsD,MAAO,IAGT3F,EAAK2E,MAAQ,CACXgB,MAAOf,OARQ5E,mFAYC,IAAAI,EACSH,KAAKI,MAAxBT,EADUQ,EACVR,MAAOW,EADGH,EACHG,QAEf,OAAIX,IACFW,EAAQI,KAAK,MACN,mCAMHT,GACNA,EAAEC,iBAEFF,KAAK+D,SAAS,CAAE2B,MAAOzF,EAAE6E,OAAOE,8FAGN/E,sFAC1BA,EAAEC,iBAEMkD,EAAapD,KAAKI,MAAlBgD,SAEAsC,EAAU1F,KAAKoC,MAAfsD,MAEH,6CAA6CE,KAAKF,0BACrDtC,EAAS,mDAILC,YAASxB,iBAETyB,EAAU,CACdC,OAAQ,iCACRC,eAAgB,uCAIUC,MAAMJ,EAAK,CACnCK,OAAQ,OACRJ,UACAzE,KAAMoG,KAAKC,UAAU,CAAEQ,YACtB/B,KAAK,SAAAC,GAAC,OAAIA,EAAEC,0BAJPrE,YAMR4D,EAAS5D,qDAET4D,EAASN,EAAAmB,GAAMzE,uJAIV,IACCkF,EAAU1E,KAAV0E,MAER,OACE/D,EAAAC,EAAAC,cAAA,WAASC,UAAWC,IAAOxC,QACzBoC,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,IAAOhE,OAAtB,UACA4D,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,IAAO7D,MACtByD,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO1C,MACrBsC,EAAAC,EAAAC,cAAA,wFACAF,EAAAC,EAAAC,cAAA,kEAEFF,EAAAC,EAAAC,cAAA,SAAOuE,QAASV,EAAMgB,MAAO5E,UAAWC,IAAO5D,cAC7CwD,EAAAC,EAAAC,cAAA,SACEiF,IAAK9F,KAAK0F,MACVX,GAAIL,EAAMgB,MACV5E,UAAWC,IAAO1D,MAClBuC,KAAK,QACLyF,YAAY,QACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAO5D,cACrBwD,EAAAC,EAAAC,cAAA,SACEC,UAAWC,IAAOzD,OAClBsC,KAAK,SACLoF,MAAM,0BACN5D,QAASpB,KAAKgG,sBAAsBR,KAAKxF,kBAxFlCsB,IAAMC,WAiHZC,cARS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMjE,MAAMmC,QAGM,SAAA+B,GAAQ,MAAK,CACtC0B,SAAU,SAAA5D,GAAO,OAAIkC,EAAS4C,EAAU9E,OAG3BgC,CAA6CG,YAAWoE,qBCjGxDE,GArBH,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,MAAH,OACVxF,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAOlF,SACpBsK,GAASA,EAAMC,IAAI,SAAAtH,GAAI,OACtB6B,EAAAC,EAAAC,cAACG,EAAA,EAAD,CACEqF,IAAKvH,EAAK/B,MAAMuJ,cAChBxF,UAAS,GAAAyF,OAAKxF,IAAOjC,KAAZ,KAAAyH,OAAoBhG,OAAOiG,SAASC,WAAa3H,EAAK4H,KAAO3F,IAAOzB,OAAS,IACtF2B,GAAInC,EAAK4H,MAER5H,EAAK/B,WCdDH,GACA,YADAA,GAEM,SAFNA,GAGA,YAQEC,GALA,SAAC+C,EAAMoF,GAAP,MAAkB,CAC/BpF,OACAC,QAASmF,+CCEwBpD,8CAA3BC,iCAAoB,MAEtB8E,eACJ,SAAAA,EAAYvG,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAA2G,IACjB5G,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAA4E,GAAAxE,KAAAnC,KAAMI,KAEDgC,MAAQ,CACXwE,SAAUxG,EAAMwG,UAJD7G,6EAQL,IAAAI,EAGRH,KAAKI,MADPyG,EAFU1G,EAEV0G,MAAOC,EAFG3G,EAEH2G,GAAIC,EAFD5G,EAEC4G,MAAOC,EAFR7G,EAEQ6G,MAAOC,EAFf9G,EAEe8G,SAGvBJ,IAAUC,EAKdC,EAAMF,GAJJI,GAAUD,qJAQShH,KAAKoC,MAAlBwE,yCAGA5G,KAAKkH,6EAIPlH,KAAKmH,+RAIuBnH,KAAKI,MAA/ByF,SAAMlG,UAAOyD,aAEfC,YAASxB,6BAAmCgE,GAE5CvC,EAAU,CACdC,OAAQ,iCACRC,eAAgB,mBAChB4D,cAAa,UAAAb,OAAY5G,sBAIC8D,MAAMJ,EAAK,CACnCK,OAAQ,OACRJ,YACCK,KAAK,SAAAC,GAAC,OAAIA,EAAEC,yBAHPrE,YAKRQ,KAAK+D,SAAS,CAAE6C,UAAU,IAC1BxD,EAAS5D,qDAET4D,EAASiE,EAAApD,GAAEzE,qSAKqBQ,KAAKI,MAA/ByF,SAAMlG,UAAOyD,aAEfC,YAASxB,6BAAmCgE,GAE5CvC,EAAU,CACdC,OAAQ,iCACRC,eAAgB,mBAChB4D,cAAa,UAAAb,OAAY5G,sBAIA8D,MAAMJ,EAAK,CAClCK,OAAQ,SACRJ,+BAGa,QALP1E,8BAMA,IAAIkF,MAAM,6BAGlB9D,KAAK+D,SAAS,CAAE6C,UAAU,IAC1BxD,EAAS,+FAETA,EAASY,EAAAC,GAAEzE,sJAIN,IAAA8H,EAGHtH,KAAKI,MADPpD,EAFKsK,EAELtK,OAAQD,EAFHuK,EAEGvK,MAAOR,EAFV+K,EAEU/K,MAAOgL,EAFjBD,EAEiBC,KAAMV,EAFvBS,EAEuBT,MAAOC,EAF9BQ,EAE8BR,GAAIE,EAFlCM,EAEkCN,MAGjCJ,EAAa5G,KAAKoC,MAAlBwE,SAEFlK,EAAI,GAAA6J,OAAMiB,KAAN,KAAAjB,OAAiBM,IAAUC,GAAQE,EAAmB,OAAV,SAEtD,OACErG,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOzE,OACrBqE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOxE,MAAOkL,MAAO,CAAEC,gBAAiBnL,EAAK,OAAAgK,OAAUhK,EAAV,KAAqB,MAC9EA,GACAoE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOvE,cACrBmE,EAAAC,EAAAC,cAAA,OAAK8G,WAAW,+BAA+BC,UAAS,GAAArB,OAAKiB,KAAL,aAG5D7G,EAAAC,EAAAC,cAAA,UACEC,UAAS,GAAAyF,OAAKxF,KAAOtE,OAAZ,KAAA8J,OAAsBxF,KAAOrE,MACtCkD,KAAK,SACLwB,QAASpB,KAAK6H,YAAYrC,KAAKxF,OAE/BW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/E,MACrB2E,EAAAC,EAAAC,cAAA,OAAK8G,WAAW,+BAA+BC,UAAWlL,OAIhEiE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOpE,SACrBgE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOhE,OAAQ+K,UAAU/K,IACzC4D,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/D,QAAS8K,UAAU9K,KAE5C2D,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOnE,SACrB+D,EAAAC,EAAAC,cAAA,UACEC,UAAS,GAAAyF,OAAKxF,KAAOtE,OAAZ,kBAAA8J,OACPxF,KAAOlE,QACT+C,KAAK,SACLwB,QAASpB,KAAK+H,YAAYvC,KAAKxF,OAE/BW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/E,KAAMyL,MAAO,CAAEO,KAAMpB,EAAW,aAAe,KACpEjG,EAAAC,EAAAC,cAAA,OAAK8G,WAAW,+BAA+BC,UAAS,GAAArB,OAAKiB,KAAL,aAG3DD,GACC5G,EAAAC,EAAAC,cAAA,UAAQC,UAAS,GAAAyF,OAAKxF,KAAOtE,OAAZ,KAAA8J,OAAsBxF,KAAOlE,QAAU+C,KAAK,UAC3De,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/E,MACrB2E,EAAAC,EAAAC,cAAA,OAAK8G,WAAW,+BAA+BC,UAAS,GAAArB,OAAKiB,KAAL,sBAlIrDlG,IAAMC,WA4IzBoF,GAAKsB,aAAe,CAClB1L,MAAO,KACPgL,MAAM,EACNX,UAAU,GAmBZ,IAYepF,eAZS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMjE,MAAMmC,MACnBmH,GAAIrF,EAAM7F,OAAOsM,WACjBlB,MAAOvF,EAAM7F,OAAOuM,SAGK,SAAAzG,GAAQ,MAAK,CACtCqF,MAAO,SAAAD,GAAE,OAAIpF,EAAS7E,GAAOD,GAAyBkK,KACtDG,SAAU,SAAAkB,GAAM,OAAIzG,EAAS7E,GAAOD,GAAmBuL,KACvD/E,SAAU,SAAA5D,GAAO,OAAIkC,EAAS4C,EAAU9E,OAG3BgC,CAA6CmF,OCnLzB/E,8CAA3BC,iCAAoB,MAEtBuG,sUAEoCpI,KAAKI,MAAnCT,UAAO0I,aAAUjF,aAEnBC,YAASxB,iBAETyB,EAAU,CACdC,OAAQ,iCACRC,eAAgB,mBAChB4D,cAAa,UAAAb,OAAY5G,sBAIQ8D,MAAMJ,EAAK,CAC1CK,OAAQ,MACRJ,YACCK,KAAK,SAAAC,GAAC,OAAIA,EAAEC,4BAHPrE,YAAS8I,iCAMT,IAAIxE,MAAMtE,WAGlB6I,EAASC,qDAETlF,EAASN,EAAAmB,GAAEzE,sJAIN,IACC8I,EAAUtI,KAAKI,MAAfkI,MAER,OACE3H,EAAAC,EAAAC,cAAAF,EAAAC,EAAA2H,SAAA,KACGD,EAAMlC,IAAI,SAACoC,EAAMC,GAAP,OACT9H,EAAAC,EAAAC,cAAC6H,GAAD,CACErC,IAAKmC,EAAK3C,KACVA,KAAM2C,EAAK3C,KACX7I,OAAQwL,EAAKxL,OACbD,MAAOyL,EAAKzL,MACZR,MAAOiM,EAAKjM,MACZqK,SAAU4B,EAAK5B,SACfC,MAAO4B,cAzCDnH,IAAMC,WAwETC,eAVS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMjE,MAAMmC,MACnB2I,MAAO7G,EAAM7F,OAAO0M,QAGK,SAAA5G,GAAQ,MAAK,CACtC2G,SAAU,SAAAC,GAAK,OAAI5G,EAAS7E,GAAOD,GAAmB0L,KACtDlF,SAAU,SAAA5D,GAAO,OAAIkC,EAAS4C,EAAU9E,OAG3BgC,CAA6C4G,OC1EzBxG,8CAA3BC,iCAAoB,MAEtB8G,sUAEoC3I,KAAKI,MAAnCT,UAAO0I,aAAUjF,aAEnBC,YAASxB,qBAETyB,EAAU,CACdC,OAAQ,iCACRC,eAAgB,mBAChB4D,cAAa,UAAAb,OAAY5G,aAGM8D,MAAMJ,EAAK,CAC1CK,OAAQ,MACRJ,YACCK,KAAK,SAAAC,GAAC,OAAIA,EAAEC,4BAHPrE,YAAS8I,kCAMflF,EAAS5D,8BAIX6I,EAASC,uIAGF,IACCA,EAAUtI,KAAKI,MAAfkI,MAER,OACE3H,EAAAC,EAAAC,cAAAF,EAAAC,EAAA2H,SAAA,KACGD,EAAMlC,IAAI,SAACoC,EAAMC,GAAP,OACT9H,EAAAC,EAAAC,cAAC6H,GAAD,CACErC,IAAKmC,EAAK3C,KACVA,KAAM2C,EAAK3C,KACX7I,OAAQwL,EAAKxL,OACbD,MAAOyL,EAAKzL,MACZR,MAAOiM,EAAKjM,MACZsK,MAAO4B,cArCKnH,IAAMC,WAoEfC,eAVS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMjE,MAAMmC,MACnB2I,MAAO7G,EAAM7F,OAAO0M,QAGK,SAAA5G,GAAQ,MAAK,CACtC2G,SAAU,SAAAC,GAAK,OAAI5G,EAAS7E,GAAOD,GAAmB0L,KACtDlF,SAAU,SAAA5D,GAAO,OAAIkC,EAAS4C,EAAU9E,OAG3BgC,CAA6CmH,2BCpEzB/G,8CAA3BC,iCAAoB,MAEtB+G,eACJ,SAAAA,EAAYxI,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAA4I,IACjB7I,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAA6G,GAAAzG,KAAAnC,KAAMI,KAEDgC,MAAQ,CACXyG,MAAO,IAJQ9I,4LASTsI,EAAarI,KAAKI,MAAlBiI,UAEC,sIAGHpI,GACND,KAAK+D,SAAS,CAAE8E,MAAO5I,EAAE6E,OAAOE,qLAIMhF,KAAKI,MAAnCT,UAAO0I,aAAUjF,aAEjByF,EAAU7I,KAAKoC,MAAfyG,MAEFxF,YAASxB,oCAA0CgH,GAEnDvF,EAAU,CACdC,OAAQ,iCACRC,eAAgB,mBAChB4D,cAAa,UAAAb,OAAY5G,sBAIQ8D,MAAMJ,EAAK,CAC1CK,OAAQ,MACRJ,YACCK,KAAK,SAAAC,GAAC,OAAIA,EAAEC,4BAHPrE,YAAS8I,iCAMT,IAAIxE,MAAMtE,WAGlB6I,EAASC,qDAETlF,EAASiE,EAAApD,GAAEzE,sJAIN,IACC8I,EAAUtI,KAAKI,MAAfkI,MAER,OACE3H,EAAAC,EAAAC,cAAAF,EAAAC,EAAA2H,SAAA,KACE5H,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO1B,SACrBsB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO5D,cACrBwD,EAAAC,EAAAC,cAAA,SACEC,UAAWC,KAAO1D,MAClBuC,KAAK,OACLyF,YAAY,eACZC,SAAUtF,KAAKuF,QAAQC,KAAKxF,SAGhCW,EAAAC,EAAAC,cAAA,UACEC,UAAWC,KAAOtE,OAClBmD,KAAK,SACLwB,QAASpB,KAAK8I,UAAUtD,KAAKxF,OAH/B,SAQFW,EAAAC,EAAAC,cAAA,WACGyH,EAAMlC,IAAI,SAACoC,EAAMC,GAAP,OACT9H,EAAAC,EAAAC,cAAC6H,GAAD,CACErC,IAAKmC,EAAK3C,KACVA,KAAM2C,EAAK3C,KACX7I,OAAQwL,EAAKxL,OACbD,MAAOyL,EAAKzL,MACZR,MAAOiM,EAAKjM,MACZqK,SAAU4B,EAAK5B,SACfC,MAAO4B,eA/EFnH,IAAMC,WA+GVC,eAVS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMjE,MAAMmC,MACnB2I,MAAO7G,EAAM7F,OAAO0M,QAGK,SAAA5G,GAAQ,MAAK,CACtC2G,SAAU,SAAAC,GAAK,OAAI5G,EAAS7E,GAAOD,GAAmB0L,KACtDlF,SAAU,SAAA5D,GAAO,OAAIkC,EAAS4C,EAAU9E,OAG3BgC,CAA6CoH,ICrG7CG,GAhBA,CACb,CACErC,KAAM,SACNsC,UAAW,kBAAMrI,EAAAC,EAAAC,cAACoI,GAAD,OACjBC,OAAO,GAET,CACExC,KAAM,mBACNsC,UAAW,kBAAMrI,EAAAC,EAAAC,cAACsI,GAAD,QAEnB,CACEzC,KAAM,cACNsC,UAAW,kBAAMrI,EAAAC,EAAAC,cAACuI,GAAD,6BCTfC,GAAW,CACf,CACEtM,MAAO,MACP2J,KAAM,UAER,CACE3J,MAAO,SACP2J,KAAM,eAER,CACE3J,MAAO,QACP2J,KAAM,qBAoBK4C,GAhBD,kBACZ3I,EAAAC,EAAAC,cAAA,WAASC,UAAWC,KAAOlF,SACzB8E,EAAAC,EAAAC,cAAC0I,GAAD,CAAKpD,MAAOkD,KACZ1I,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOjD,WACpBiL,GAAO3C,IAAI,SAAAoD,GAAK,OACf7I,EAAAC,EAAAC,cAAC4I,EAAA,EAAD,CACEpD,IAAKmD,EAAM9C,KAAKgD,MAAM,GACtBhD,KAAM8C,EAAM9C,KACZsC,UAAWQ,EAAMR,UACjBE,MAAOM,EAAMN,oCCvBYtH,8CAA3BC,iCAAoB,MAEtB8H,eACJ,SAAAA,EAAYvJ,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAA2J,IACjB5J,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAA4H,GAAAxH,KAAAnC,KAAMI,KAEDsE,MAAQ,CACX1H,OAAQ2H,MACR5H,MAAO4H,OAGT5E,EAAKqC,MAAQ,CACXpF,OAAQ,GACRD,MAAO,IAVQgD,wEAcVE,GAAG,IAAA2E,EACgB5E,KAAK0E,MAAvB1H,EADE4H,EACF5H,OAAQD,EADN6H,EACM7H,MADN8H,EAGY5E,EAAE6E,OAAhBC,EAHEF,EAGFE,GAAIC,EAHFH,EAGEG,MAEZ,OAAQD,GACN,KAAK/H,EACHgD,KAAK+D,SAAS,CAAE/G,OAAQgI,IACxB,MACF,KAAKjI,EACHiD,KAAK+D,SAAS,CAAEhH,MAAOiI,mLAOOhF,KAAKI,MAA/BT,UAAOkG,SAAMzC,eAEKpD,KAAKoC,MAAvBpF,WAAQD,UAEVsG,YAASxB,yBAA+BgE,GAExCvC,EAAU,CACdC,OAAQ,iCACRC,eAAgB,mBAChB4D,cAAa,UAAAb,OAAY5G,IAGrBd,EAAO,GAET7B,IACF6B,EAAK7B,OAAS4M,UAAU5M,IAGtBD,IACF8B,EAAK9B,MAAQ6M,UAAU7M,uBAIS0G,MAAMJ,EAAK,CACzCK,OAAQ,QACRJ,UACAzE,KAAMoG,KAAKC,UAAUrG,KACpB8E,KAAK,SAAAC,GAAC,OAAIA,EAAEC,6BAJPrE,cAASgJ,6BAOfpF,EAAS5D,8BAIX4D,EAAS5D,qDAET4D,EAASN,EAAAmB,GAAEzE,sJAIN,IAAAqK,EACmB7J,KAAK0E,MAAvB1H,EADD6M,EACC7M,OAAQD,EADT8M,EACS9M,MAEhB,OACE4D,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOvC,UACrBmC,EAAAC,EAAAC,cAAA,SAAOuE,QAASpI,EAAQ8D,UAAWC,KAAO5D,cACxCwD,EAAAC,EAAAC,cAAA,SACEkE,GAAI/H,EACJ8D,UAAWC,KAAO1D,MAClBuC,KAAK,OACLyF,YAAY,SACZC,SAAUtF,KAAKsF,SAASE,KAAKxF,SAGjCW,EAAAC,EAAAC,cAAA,SAAOuE,QAASrI,EAAO+D,UAAWC,KAAO5D,cACvCwD,EAAAC,EAAAC,cAAA,SACEkE,GAAIhI,EACJ+D,UAAWC,KAAO1D,MAClBuC,KAAK,OACLyF,YAAY,QACZC,SAAUtF,KAAKsF,SAASE,KAAKxF,SAGjCW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO5D,cACrBwD,EAAAC,EAAAC,cAAA,UACEC,UAAWC,KAAOzD,OAClBsC,KAAK,SACLwB,QAASpB,KAAK8J,OAAOtE,KAAKxF,OAH5B,mBAhGWsB,IAAMC,WA2HZC,eARS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMjE,MAAMmC,QAGM,SAAA+B,GAAQ,MAAK,CACtC0B,SAAU,SAAA5D,GAAO,OAAIkC,EAAS4C,EAAU9E,OAG3BgC,CAA6CG,YAAWgI,4BC5HpC/H,8CAA3BC,iCAAoB,MAEtB8H,eACJ,SAAAA,EAAYvJ,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAA2J,IACjB5J,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAA4H,GAAAxH,KAAAnC,KAAMI,KAEDsE,MAAQ,CACXvG,KAAMwG,OAGR5E,EAAKqC,MAAQ,CACX9D,SAAU,GACVyL,SAAU,EACVhM,UAAU,EACViM,SAAU,IAXKjK,mFAeC,IAAAI,EACSH,KAAKI,MAAxBT,EADUQ,EACVR,MAAOW,EADGH,EACHG,QAEf,QAAKX,IACHW,EAAQI,KAAK,MACN,oCAMFT,GACP,IAAM9B,EAAO8B,EAAE6E,OAAOmF,MAAM,GAE5BjK,KAAK+D,SAAS,CAAEzF,SAAUH,EAAK+L,OAC/BlK,KAAKmK,OAAOhM,kCAGP8B,GAGL,GAFAA,EAAEC,iBAEED,EAAEmK,aAAaH,MAAO,CACxB,IAAM9L,EAAO8B,EAAEmK,aAAaH,MAAM,GAElCjK,KAAK+D,SAAS,CAAEzF,SAAUH,EAAK+L,KAAMnM,UAAU,IAC/CiC,KAAKmK,OAAOhM,uCAIL8B,GACTA,EAAEC,iBAEFF,KAAK+D,SAAS,CAAEhG,UAAU,wCAGhBkC,GACVA,EAAEC,iBAEFF,KAAK+D,SAAS,CAAEhG,UAAU,mCAGrBI,GAAM,IAAA8E,EAAAjD,KAAAqK,EACiBrK,KAAKI,MAAzBT,EADG0K,EACH1K,MAAOyD,EADJiH,EACIjH,SAEf,GAAIjF,EAAKmM,KAAO,SACdlH,EAAS,8DAIX,GAAkB,cAAdjF,EAAKyB,KAAT,CAKA,IAAM2K,EAAM,IAAIC,eAEhBD,EAAIE,KAAK,OAAT,GAAAlE,OAAoB1E,GAApB,eAEA0I,EAAIG,iBAAiB,SAAU,kCAC/BH,EAAIG,iBAAiB,eAAgB,cACrCH,EAAIG,iBAAiB,gBAArB,UAAAnE,OAAgD5G,IAEhD4K,EAAII,OAAS,WAAM,IAAAC,EACS3F,KAAK4F,MAAMN,EAAIO,UAAjCtL,EADSoL,EACTpL,QAASqG,EADA+E,EACA/E,KAEE,MAAf0E,EAAI3L,OAKRwE,EAAS5D,GAJPyD,EAAKc,SAAS,CAAEiG,SAAUnE,KAO9B0E,EAAIQ,QAAU,kBAAM3H,EAAS,2BAE7BmH,EAAIJ,OAAOa,WAAa,SAAC/K,GAAM,IACrBgL,EAAwBhL,EAAxBgL,OAAQC,EAAgBjL,EAAhBiL,MAEH,UAFmBjL,EAATL,KAOvBqD,EAAKc,SAAS,CAAEgG,SAAUkB,EAASC,IAJjC9H,EAAS,UAMbmH,EAAIY,KAAKhN,QAnCPiF,EAAS,+FAsCJ,IAAAgI,EAGHpL,KAAKoC,MADP9D,EAFK8M,EAEL9M,SAAU0L,EAFLoB,EAEKpB,SAAUjM,EAFfqN,EAEerN,SAAUgM,EAFzBqB,EAEyBrB,SAGxB5L,EAAS6B,KAAK0E,MAAdvG,KAER,OACEwC,EAAAC,EAAAC,cAAA,WACEC,UAAS,GAAAyF,OAAKxF,KAAOjD,UAAZ,KAAAyI,OAAyBxI,EAAWgD,KAAOhD,SAAW,IAC/DsN,OAAQrL,KAAKqL,OAAO7F,KAAKxF,MACzBsL,WAAYtL,KAAKsL,WAAW9F,KAAKxF,MACjCuL,YAAavL,KAAKuL,YAAY/F,KAAKxF,OAEnCW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/C,iBACrB2C,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9C,YAAawJ,MAAO,CAAE+D,MAAK,GAAAjF,OAAgB,IAAXwD,EAAL,SAEpDpJ,EAAAC,EAAAC,cAAA,MAAIC,UAAWC,KAAOhE,OAAtB,iCACA4D,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO7C,UACrByC,EAAAC,EAAAC,cAAA,SAAOC,UAAWC,KAAO5C,KAAMiH,QAASjH,GACtCwC,EAAAC,EAAAC,cAAA,SACEC,UAAWC,KAAO3C,UAClB2G,GAAI5G,EACJyB,KAAK,OACL2D,OAAO,aACP+B,SAAUtF,KAAKsF,SAASE,KAAKxF,QAE/BW,EAAAC,EAAAC,cAAA,yCAEDvC,GAAYqC,EAAAC,EAAAC,cAAA,KAAGC,UAAWC,KAAOzC,UAAWA,GAC7CqC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO1C,MACrBsC,EAAAC,EAAAC,cAAA,gFAGU,IAAbkJ,GAAkBC,GAAYrJ,EAAAC,EAAAC,cAAC4K,GAAD,CAAU5F,KAAMmE,YA1IlC1I,IAAMC,WAgKZC,eARS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMjE,MAAMmC,QAGM,SAAA+B,GAAQ,MAAK,CACtC0B,SAAU,SAAA5D,GAAO,OAAIkC,EAAS4C,EAAU9E,OAG3BgC,CAA6CG,YAAWgI,KCxIxDZ,GA5BA,CACb,CACErC,KAAM,IACNsC,UAAW,kBAAMrI,EAAAC,EAAAC,cAAC6K,EAAD,OACjBxC,OAAO,GAET,CACExC,KAAM,SACNsC,UAAW,kBAAMrI,EAAAC,EAAAC,cAAC8K,GAAD,QAEnB,CACEjF,KAAM,UACNsC,UAAW,kBAAMrI,EAAAC,EAAAC,cAAC+K,GAAD,QAEnB,CACElF,KAAM,SACNsC,UAAW,kBAAMrI,EAAAC,EAAAC,cAACgL,EAAD,QAEnB,CACEnF,KAAM,YACNsC,UAAW,kBAAMrI,EAAAC,EAAAC,cAACiL,EAAD,QAEnB,CACEpF,KAAM,UACNsC,UAAW,kBAAMrI,EAAAC,EAAAC,cAACkL,EAAD,6BCbNC,GAbF,kBACXrL,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOjD,WACpBiL,GAAO3C,IAAI,SAAAoD,GAAK,OACf7I,EAAAC,EAAAC,cAAC4I,EAAA,EAAD,CACEpD,IAAKmD,EAAM9C,KAAKgD,MAAM,GACtBhD,KAAM8C,EAAM9C,KACZsC,UAAWQ,EAAMR,UACjBE,MAAOM,EAAMN,oDCUN+C,GAjBE,SAAA/F,GAAA,IAAGjH,EAAHiH,EAAGjH,WAAYC,EAAfgH,EAAehH,SAAf,OACfyB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOhC,UACrB4B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9B,YAAaiN,KAAoB,IAAbjN,GAAmBkN,OAAO,UACrExL,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/C,iBACrB2C,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/B,oBACrB2B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO9C,YAAawJ,MAAO,CAAE+D,MAAK,GAAAjF,OAAKtH,EAAaC,EAAW,IAA7B,UAGtDyB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO7B,UAAWgN,KAAkB,IAAXhN,GAAiBiN,OAAO,gCCT/DC,GAAa,SAAAlG,GAAA,IAAGlJ,EAAHkJ,EAAGlJ,OAAQD,EAAXmJ,EAAWnJ,MAAOR,EAAlB2J,EAAkB3J,MAAlB,OACjBoE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOtC,YACrBkC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOxE,MAAOkL,MAAO,CAAEC,gBAAe,OAAAnB,OAAShK,EAAT,QACtDoE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOrC,uBACrBiC,EAAAC,EAAAC,cAAA,QAAMC,UAAS,GAAAyF,OAAKxF,KAAOhE,MAAZ,KAAAwJ,OAAqBxF,KAAOpC,WAAa5B,GACxD4D,EAAAC,EAAAC,cAAA,QAAMC,UAAS,GAAAyF,OAAKxF,KAAO/D,OAAZ,KAAAuJ,OAAsBxF,KAAOpC,WAAa3B,MAK/DoP,GAAWnE,aAAe,CACxBjL,OAAQ,YACRD,MAAO,WACPR,MAAO,IASM6P,qDCfoBxK,8CAA3BC,iCAAoB,MAEtBwK,eACJ,SAAAA,EAAYjM,GAAO,IAAAL,EAAA,OAAAgC,OAAAC,EAAA,EAAAD,CAAA/B,KAAAqM,IACjBtM,EAAAgC,OAAAE,EAAA,EAAAF,CAAA/B,KAAA+B,OAAAG,EAAA,EAAAH,CAAAsK,GAAAlK,KAAAnC,KAAMI,KAEDgC,MAAQ,CACXoG,KAAM,GACN8D,YAAa,EACbpN,SAAU,EACVqN,MAAM,EACNC,SAAS,EACTC,OAAO,EACPxQ,OAAQ,GAGV8D,EAAK2M,MAAQC,sBAbI5M,0HAgBMgD,wFACM/C,KAAKI,MAA1BkI,UAAOxB,OAAIE,UAEXwB,EAASxI,KAAKoC,MAAdoG,KAEHF,EAAMsE,2DAIP7J,EAAK+D,KAAOA,kCACR9G,KAAK6M,SAASvE,EAAMxB,GAAIjB,iDAI5B9C,EAAKiE,QAAUA,sBACX0F,EAAQ1M,KAAK0M,MAAMI,SAErB9F,0BACF0F,EAAM1F,QACN+F,SAAShQ,MAAQ,oCAInB2P,EAAMhQ,OACNqQ,SAAShQ,MAAT,GAAAwJ,OAAoBiC,EAAKxL,OAAzB,OAAAuJ,OAAqCiC,EAAKzL,oJAI7BkD,GACfD,KAAK+D,SAAS,CAAE7E,SAAUe,EAAE6E,OAAO5F,6CAG3Be,GAAG,IACHgH,EAAajH,KAAKI,MAAlB6G,SAEAuB,EAASxI,KAAKoC,MAAdoG,KAERvI,EAAE6E,OAAOpI,OAETuK,GAAS,GACT8F,SAAShQ,MAAT,GAAAwJ,OAAoBiC,EAAKxL,OAAzB,OAAAuJ,OAAqCiC,EAAKzL,4CAG/BkD,GACXD,KAAK+D,SAAS,CAAEuI,YAAarM,EAAE6E,OAAOwH,qDAGzBrM,GACbD,KAAK+D,SAAS,CAAE9H,OAAQgE,EAAE6E,OAAO7I,2CAGzB,IAAAoO,EACqBrK,KAAKI,MAA1BkI,EADA+B,EACA/B,MAAOxB,EADPuD,EACOvD,GAAIC,EADXsD,EACWtD,MACC/G,KAAKoC,MAAjBoK,QAGNzF,EAAMiG,KAAKC,MAAMD,KAAKE,UAAY5E,EAAMsE,OAAS,KAI/C9F,EAAKwB,EAAMsE,OAAS,GACtB7F,EAAMD,EAAK,0CAIA7G,GACb,IAAML,EAAOK,EAAEkN,cAAcC,WAAW,UAAUC,UADlCC,EAKZtN,KAAKI,MADPkI,EAJcgF,EAIdhF,MAAOxB,EAJOwG,EAIPxG,GAAIC,EAJGuG,EAIHvG,MAAOC,EAJJsG,EAIItG,MAAOC,EAJXqG,EAIWrG,SAG3B,OAAQrH,GACN,IAAK,OACCkH,EAAK,GACPC,EAAMD,EAAK,GAEb,MAEF,IAAK,OACH,IAAY,IAARA,EAEF,YADAC,GAAc,IAARD,EAAY,EAAIA,GAIxBG,GAAUD,GACV,MAEF,IAAK,OACCF,EAAKwB,EAAMsE,OAAS,GACtB7F,EAAMD,EAAK,GAEb,MAEF,IAAK,OACH9G,KAAK+D,SAAS,SAAAhB,GAAI,MAAK,CAAEwJ,MAAOxJ,EAAKwJ,QACrC,MAEF,IAAK,OACHvM,KAAK+D,SAAS,SAAAhB,GAAI,MAAK,CAAEyJ,SAAUzJ,EAAKyJ,WACxC,MAEF,IAAK,OACHxM,KAAK+D,SAAS,SAAAhB,GAAI,MAAK,CAAE0J,OAAQ1J,EAAK0J,sDAOxBxM,GAClB,IAAM2D,EAAI3D,EAAEkN,cAAcI,wBAC1BvN,KAAK0M,MAAMI,QAAQ7Q,OAAS,GAAKgE,EAAEuN,QAAU5J,EAAE6J,KAAO7J,EAAE8J,gFAG3C7H,gGACe7F,KAAKI,MAAzBT,UAAOyD,aAETC,YAASxB,yBAA+BgE,GAExCvC,EAAU,CACdC,OAAQ,iCACRC,eAAgB,mBAChB4D,cAAa,UAAAb,OAAY5G,sBAIO8D,MAAMJ,EAAK,CACzCK,OAAQ,MACRJ,YACCK,KAAK,SAAAC,GAAC,OAAIA,EAAEC,4BAHPrE,YAASgJ,gCAMT,IAAI1E,MAAMtE,WAGlBQ,KAAK+D,SAAS,CAAEyE,2DAEhBpF,EAASiE,EAAApD,GAAEzE,uJAIN,IACCwH,EAAUhH,KAAKI,MAAf4G,MADDoE,EAIHpL,KAAKoC,MADPoG,EAHK4C,EAGL5C,KAAM8D,EAHDlB,EAGCkB,YAAapN,EAHdkM,EAGclM,SAAUuN,EAHxBrB,EAGwBqB,MAAOF,EAH/BnB,EAG+BmB,KAAMtQ,EAHrCmP,EAGqCnP,OAAQuQ,EAH7CpB,EAG6CoB,QAGpD,OACE7L,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOnF,QACrB+E,EAAAC,EAAAC,cAAA,WAASC,UAAWC,KAAOlF,SACzB8E,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOjF,UACrB6E,EAAAC,EAAAC,cAAA,UAAQjB,KAAK,SAASkB,UAAWC,KAAOhF,QAAS4R,SAAO,OAAOvM,QAASpB,KAAK4N,eAAepI,KAAKxF,OAC/FW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/E,MACrB2E,EAAAC,EAAAC,cAAA,OAAK8G,WAAW,+BAA+BC,UAAS,GAAArB,OAAKiB,KAAL,aAG5D7G,EAAAC,EAAAC,cAAA,UAAQjB,KAAK,SAASkB,UAAWC,KAAOhF,QAAS4R,SAAO,OAAOvM,QAASpB,KAAK4N,eAAepI,KAAKxF,OAC/FW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/E,MACrB2E,EAAAC,EAAAC,cAAA,OAAK8G,WAAW,+BAA+BC,UAAS,GAAArB,OAAKiB,KAAL,KAAAjB,OAAcS,EAAQ,OAAS,aAG3FrG,EAAAC,EAAAC,cAAA,UAAQjB,KAAK,SAASkB,UAAWC,KAAOhF,QAAS4R,SAAO,OAAOvM,QAASpB,KAAK4N,eAAepI,KAAKxF,OAC/FW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/E,MACrB2E,EAAAC,EAAAC,cAAA,OAAK8G,WAAW,+BAA+BC,UAAS,GAAArB,OAAKiB,KAAL,aAG5D7G,EAAAC,EAAAC,cAAA,UAAQjB,KAAK,SAASkB,UAAWC,KAAOhF,QAAS4R,SAAO,OAAOvM,QAASpB,KAAK4N,eAAepI,KAAKxF,OAC/FW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/E,MACrB2E,EAAAC,EAAAC,cAAA,OAAK8G,WAAW,+BAA+BC,UAAS,GAAArB,OAAKiB,KAAL,WAAqBC,MAAO,CAAEO,KAAMuE,EAAO,kBAAoB,QAG3H5L,EAAAC,EAAAC,cAAA,UAAQjB,KAAK,SAASkB,UAAWC,KAAOhF,QAAS4R,SAAO,OAAOvM,QAASpB,KAAK4N,eAAepI,KAAKxF,OAC/FW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/E,MACrB2E,EAAAC,EAAAC,cAAA,OAAK8G,WAAW,+BAA+BC,UAAS,GAAArB,OAAKiB,KAAL,YAAsBC,MAAO,CAAEO,KAAMwE,EAAU,kBAAoB,SAIjI7L,EAAAC,EAAAC,cAACgN,GAAD,CAAU5O,WAAYqN,EAAapN,SAAUA,GAAY,IACzDyB,EAAAC,EAAAC,cAAA,OAAKC,UAAS,GAAAyF,OAAKxF,KAAOjF,SAAZ,KAAAyK,OAAwBxF,KAAO9E,SAC3C0E,EAAAC,EAAAC,cAAA,UAAQjB,KAAK,SAASkB,UAAWC,KAAOhF,QAAS4R,SAAO,OAAOvM,QAASpB,KAAK4N,eAAepI,KAAKxF,OAC/FW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/E,MACrB2E,EAAAC,EAAAC,cAAA,OAAK8G,WAAW,+BAA+BC,UAAS,GAAArB,OAAKiB,KAAL,KAAAjB,OAAckG,EAAQ,OAAS,cAG3F9L,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO7E,eACrByE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO5E,aAAc2R,KAAK,eAAe1M,QAASpB,KAAK+N,oBAAoBvI,KAAKxF,OAC9FW,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO3E,mBACvBuE,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO1E,UAAWoL,MAAO,CAAEiG,OAAM,GAAAnH,OAAK,IAAMtK,EAAX,WAIvD0E,EAAAC,EAAAC,cAACmN,GAAD,CAAYhR,OAAQwL,EAAKxL,OAAQD,MAAOyL,EAAKzL,MAAOR,MAAOiM,EAAKjM,QAChEoE,EAAAC,EAAAC,cAAA,SACEiF,IAAK9F,KAAK0M,MACVuB,IAAKzF,EAAK0F,IACVzB,MAAOA,EACPF,KAAMA,EACN4B,iBAAkBnO,KAAKmO,iBAAiB3I,KAAKxF,MAC7CoO,UAAWpO,KAAKoO,UAAU5I,KAAKxF,MAC/BqO,aAAcrO,KAAKqO,aAAa7I,KAAKxF,MACrCsO,eAAgBtO,KAAKsO,eAAe9I,KAAKxF,MACzCuO,QAASvO,KAAKuO,QAAQ/I,KAAKxF,iBA3NlBsB,IAAMC,WA+PZC,eAbS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMjE,MAAMmC,MACnB2I,MAAO7G,EAAM7F,OAAO0M,MACpBxB,GAAIrF,EAAM7F,OAAOsM,WACjBlB,MAAOvF,EAAM7F,OAAOuM,SAGK,SAAAzG,GAAQ,MAAK,CACtCqF,MAAO,SAAAD,GAAE,OAAIpF,EAAS7E,GAAOD,GAAyBkK,KACtDG,SAAU,SAAAD,GAAK,OAAItF,EAAS7E,GAAOD,GAAmBoK,KACtD5D,SAAU,SAAA5D,GAAO,OAAIkC,EAAS4C,EAAU9E,OAG3BgC,CAA6C6K,wBCtQtDmC,+LACgB,IACVC,EAAezO,KAAKI,MAApBqO,WAERC,WAAW,WACTD,KACC,sCAGI,IACCE,EAAU3O,KAAKI,MAAfuO,MAER,OACEhO,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOxB,OACrBoB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAO/E,KAAMkF,QAAQ,aACnCP,EAAAC,EAAAC,cAAA,QAAMM,EAAE,+GAEVR,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOvB,SACrBmB,EAAAC,EAAAC,cAAA,YAAO8N,YAlBGrN,IAAMC,WAkCXC,eAAQ,KAJI,SAAAE,GAAQ,MAAK,CACtC+M,WAAY,kBAAM/M,EAAS7E,EAAO,QAGrB2E,CAAkCgN,4CCHlChN,eALS,SAAAC,GAAK,MAAK,CAChC9B,MAAO8B,EAAMjE,MAAMmC,MACnBgP,MAAOlN,EAAMkN,MAAMnP,UAGNgC,CAzBH,SAAA0E,GAAA,IAAGvG,EAAHuG,EAAGvG,MAAOgP,EAAVzI,EAAUyI,MAAV,OACVhO,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOtB,IAAKgI,MAAO,CAAEC,gBAAe,OAAAnB,OAASqI,KAAT,OAClDjO,EAAAC,EAAAC,cAAA,QAAMC,UAAWC,KAAOjD,WACtB6C,EAAAC,EAAAC,cAACG,EAAA,EAAD,KACEL,EAAAC,EAAAC,cAACgO,EAAD,MACAlO,EAAAC,EAAAC,cAACiO,GAAD,OAEDnP,GAASgB,EAAAC,EAAAC,cAACkO,GAAD,OAEZpO,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,KAAOrB,cACpBiP,GAAShO,EAAAC,EAAAC,cAACmO,GAAD,CAAOL,MAAOA,0BCvBxBM,GAAe,CACnBtP,MAAOY,OAAOC,aAAa0O,QAAQ,UAAY,ICD3CD,GAAe,CACnB3G,MAAO,GACPJ,YAAa,EACbC,QAAQ,GCHJ8G,GAAe,CACnBzP,QAAS,ICQI2P,GAJKC,aAAgB,CAClC5R,MHFa,WAAwC,IAA9B4E,EAA8BiN,UAAAzC,OAAA,QAAA0C,IAAAD,UAAA,GAAAA,UAAA,GAAtBJ,GAAcpS,EAAQwS,UAAAzC,OAAA,EAAAyC,UAAA,QAAAC,EACrD,OAAQzS,EAAO+C,MACb,IAAK,YACH,OAAOmC,OAAAwN,GAAA,EAAAxN,CAAA,GAAKK,EAAZ,CAAmBzC,MAAO9C,EAAOgD,UACnC,QACE,OAAOuC,IGHJxG,OFAM,WAAwC,IAA9BwG,EAA8BiN,UAAAzC,OAAA,QAAA0C,IAAAD,UAAA,GAAAA,UAAA,GAAtBJ,GAAcpS,EAAQwS,UAAAzC,OAAA,EAAAyC,UAAA,QAAAC,EACrD,OAAQzS,EAAO+C,MACb,IAAK,YACH,OAAOmC,OAAAwN,GAAA,EAAAxN,CAAA,GAAKK,EAAZ,CAAmBkG,MAAOzL,EAAOgD,UACnC,IAAK,SACH,OAAOkC,OAAAwN,GAAA,EAAAxN,CAAA,GAAKK,EAAZ,CAAmB8F,WAAYrL,EAAOgD,UACxC,IAAK,YACH,OAAOkC,OAAAwN,GAAA,EAAAxN,CAAA,GAAKK,EAAZ,CAAmB+F,OAAQtL,EAAOgD,UACpC,QACE,OAAOuC,IETIuM,MDFF,WAAwC,IAA9BvM,EAA8BiN,UAAAzC,OAAA,QAAA0C,IAAAD,UAAA,GAAAA,UAAA,GAAtBJ,GAAcpS,EAAQwS,UAAAzC,OAAA,EAAAyC,UAAA,QAAAC,EACrD,OAAQzS,EAAO+C,MACb,IAAK,oBACH,OAAOmC,OAAAwN,GAAA,EAAAxN,CAAA,GAAKK,EAAZ,CAAmB5C,QAAS3C,EAAOgD,UACrC,QACE,OAAOuC,MEJEX,GAFD+N,aAAYL,ICSNM,QACW,cAA7BlP,OAAOiG,SAASkJ,UAEe,UAA7BnP,OAAOiG,SAASkJ,UAEhBnP,OAAOiG,SAASkJ,SAASC,MACvB,iECTNC,IAASC,OACPlP,EAAAC,EAAAC,cAACiP,EAAA,EAAD,CAAUrO,MAAOA,IACfd,EAAAC,EAAAC,cAACkP,GAAD,OAEFhD,SAASiD,eAAe,SDoHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMxM,KAAK,SAAAyM,GACjCA,EAAaC","file":"static/js/main.4b0b4f8d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"player_player__35Gch\",\"wrapper\":\"player_wrapper__2pvXA\",\"controls\":\"player_controls__yrmwU\",\"control\":\"player_control__1GAJR\",\"icon\":\"player_icon__2LOrm\",\"volume\":\"player_volume__3Swwg\",\"volumeWrapper\":\"player_volumeWrapper__1fz4y\",\"volumeSlider\":\"player_volumeSlider__1bdID\",\"volumeBackground\":\"player_volumeBackground__1nr9H\",\"volumeBar\":\"player_volumeBar__64T8Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"track\":\"song_track__RX6bx\",\"cover\":\"song_cover__1Z4fR\",\"defaultCover\":\"song_defaultCover__1Scdp\",\"button\":\"song_button__sSeHU\",\"play\":\"song_play__3MQc2\",\"icon\":\"song_icon__3i7ba\",\"content\":\"song_content__TWzaj\",\"actions\":\"song_actions__2A91g\",\"action\":\"song_action__Dd0CG\",\"info\":\"song_info__jIaQd\",\"title\":\"song_title__2OYyJ\",\"author\":\"song_author__2GBdg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"register\":\"register_register__3K1Qz\",\"title\":\"register_title__1qn8q\",\"main\":\"register_main__wdjIV\",\"inputWrapper\":\"register_inputWrapper__3hxjc\",\"right\":\"register_right__6B6O5\",\"input\":\"register_input__285Xz\",\"submit\":\"register_submit__pfce4\",\"link\":\"register_link__KC47u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__KNSyK\",\"title\":\"login_title__2BrJb\",\"main\":\"login_main__3gDUL\",\"inputWrapper\":\"login_inputWrapper__PxK70\",\"right\":\"login_right__2EU-W\",\"input\":\"login_input__3Z4uP\",\"submit\":\"login_submit__3z0zh\",\"link\":\"login_link__QwjVM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"header_wrapper__2srQ8\",\"inner\":\"header_inner__ueAE6\",\"left\":\"header_left__oqI23\",\"right\":\"header_right__2pdo2\",\"logoLink\":\"header_logoLink__MRkg5\",\"logo\":\"header_logo__2Sn9n\",\"navWrapper\":\"header_navWrapper__32fBU\",\"link\":\"header_link__3JPaZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"upload_container__YcEjX\",\"dragOver\":\"upload_dragOver__wH7zX\",\"progressWrapper\":\"upload_progressWrapper__3k9Tq\",\"progressBar\":\"upload_progressBar__2tvxH\",\"title\":\"upload_title__26joS\",\"uploader\":\"upload_uploader__3OEAH\",\"inputWrapper\":\"upload_inputWrapper__2faF0\",\"file\":\"upload_file__HK228\",\"fileInput\":\"upload_fileInput__3OG6N\",\"note\":\"upload_note__1Kiz-\",\"fileName\":\"upload_fileName__3XDdK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forgot\":\"forgot_forgot__6N7KH\",\"title\":\"forgot_title__3VwzE\",\"main\":\"forgot_main__3wV8l\",\"note\":\"forgot_note__1WMHf\",\"inputWrapper\":\"forgot_inputWrapper__3NOri\",\"right\":\"forgot_right__gOi91\",\"input\":\"forgot_input__2hnXW\",\"submit\":\"forgot_submit__mizzt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"songEdit\":\"songEdit_songEdit__3tT4a\",\"inputWrapper\":\"songEdit_inputWrapper__aeef0\",\"input\":\"songEdit_input__3VVXi\",\"submit\":\"songEdit_submit__3Px4L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"soundBadge\":\"soundBadge_soundBadge__hUvOb\",\"cover\":\"soundBadge_cover__3DUfa\",\"titleContextContainer\":\"soundBadge_titleContextContainer__8tE46\",\"title\":\"soundBadge_title__3Wt33\",\"author\":\"soundBadge_author__2z1MH\",\"truncate\":\"soundBadge_truncate__3U-6n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"status_status__1dbQM\",\"title\":\"status_title__2RHYm\",\"body\":\"status_body__3W00t\",\"item\":\"status_item__2fj3D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeline\":\"timeline_timeline__3ng4V\",\"progressWrapper\":\"timeline_progressWrapper__2Mxxn\",\"progressBackground\":\"timeline_progressBackground__VsvSl\",\"progressBar\":\"timeline_progressBar__2sPc6\",\"timePassed\":\"timeline_timePassed__pmNyr\",\"duration\":\"timeline_duration__1I6eB\"};","module.exports = __webpack_public_path__ + \"static/media/icons.174b8195.svg\";","module.exports = __webpack_public_path__ + \"static/media/icons.6b9d14e4.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"findBox\":\"find_findBox__27L7K\",\"inputWrapper\":\"find_inputWrapper__x-hK1\",\"input\":\"find_input__2vjAt\",\"button\":\"find_button__1PxrT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"nav_wrapper__1r4zu\",\"item\":\"nav_item__ElUeo\",\"active\":\"nav_active__PiaCB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1Zq7Y\",\"icon\":\"modal_icon__1gGCi\",\"message\":\"modal_message__1c0cU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__12nIj\",\"container\":\"app_container__6cU4e\",\"modalWrapper\":\"app_modalWrapper__pg4fn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"music_wrapper__1_yq0\",\"container\":\"music_container__2azq9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"main_container__1bOBs\"};","module.exports = __webpack_public_path__ + \"static/media/bg.983361a2.jpg\";","const action = token => ({\n  type: 'SET_TOKEN',\n  payload: token,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport action from '../../actions/login';\n\nimport styles from './header.module.css';\n\nclass Header extends React.Component {\n  logout() {\n    return (e) => {\n      e.preventDefault();\n\n      const { setToken, history } = this.props;\n\n      setToken('');\n      window.localStorage.removeItem('token');\n      history.push('/login');\n    };\n  }\n\n  render() {\n    const { token } = this.props;\n\n    return (\n      <header className={styles.wrapper}>\n        <div className={styles.inner}>\n          <div className={styles.left}>\n            <Link className={styles.logoLink} to=\"/\">\n              <svg className={styles.logo} viewBox=\"0 0 24 24\">\n                <path d=\"M12,1C7,1 3,5 3,10V17A3,3 0 0,0 6,20H9V12H5V10A7,7 0 0,1 12,3A7,7 0 0,1 19,10V12H15V20H18A3,3 0 0,0 21,17V10C21,5 16.97,1 12,1Z\" />\n              </svg>\n            </Link>\n            {token && (\n              <nav className={styles.navWrapper}>\n                <Link className={styles.link} to=\"/music\">Music</Link>\n                <Link className={styles.link} to=\"/upload\">Upload</Link>\n              </nav>\n            )}\n          </div>\n          <div className={styles.right}>\n            {!token && <Link className={styles.link} to=\"/login\">Login</Link>}\n            {token && <Link className={styles.link} to=\"?logout\" onClick={this.logout()}>Logout</Link>}\n          </div>\n        </div>\n      </header>\n    );\n  }\n}\n\nHeader.propTypes = {\n  token: PropTypes.string.isRequired,\n  setToken: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setToken: token => dispatch(action(token)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header));\n","const action = message => ({\n  type: 'SET_ERROR_MESSAGE',\n  payload: message,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport filesize from 'filesize';\nimport errAction from '../../../../actions/error';\n\nimport styles from './status.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Status extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      disk: null,\n    };\n  }\n\n  async componentDidMount() {\n    await this.updateStatus();\n    this.interval = setInterval(async () => {\n      await this.updateStatus();\n    }, 300000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  async updateStatus() {\n    const { setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/status`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, disk } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!disk) {\n        throw new Error(message);\n      }\n\n      this.setState({ disk });\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { disk } = this.state;\n\n    return (\n      <section className={styles.status}>\n        <h1 className={styles.title}>Storage Status</h1>\n        {disk && (\n          <div className={styles.body}>\n            <p className={styles.item}>\n              Total Space:&ensp;\n              <span>{filesize(disk.totalSpace)}</span>\n            </p>\n            <p className={styles.item}>\n              Used Space:&ensp;\n              <span>{filesize(disk.usedSpace)}</span>\n            </p>\n            <p className={styles.item}>\n              Max File Size:&ensp;\n              <span>{filesize(disk.maxFileSize)}</span>\n            </p>\n          </div>\n        )}\n      </section>\n    );\n  }\n}\n\nStatus.propTypes = {\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(null, mapDispatchToProps)(Status);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport action from '../../../../actions/login';\nimport errAction from '../../../../actions/error';\n\nimport styles from './login.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '', password: '',\n    };\n\n    this.uuids = {\n      username: uuidv4(), password: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  onInput(e) {\n    e.preventDefault();\n\n    const { username, password } = this.uuids;\n\n    const { id, value } = e.target;\n    switch (id) {\n      case username:\n        this.setState({ username: value });\n        break;\n      case password:\n        this.setState({ password: value });\n        break;\n      default:\n    }\n  }\n\n  async login(e) {\n    e.preventDefault();\n\n    const { setToken, history, setError } = this.props;\n\n    const { username, password } = this.state;\n\n    const uri = `${REACT_APP_API_URL}/api/login`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, token } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ username, password }),\n      }).then(r => r.json());\n\n      if (!token) {\n        throw new Error(message);\n      }\n\n      setToken(token);\n      window.localStorage.setItem('token', token);\n      history.push('/');\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.login}>\n        <h1 className={styles.title}>Login</h1>\n        <form className={styles.main}>\n          <label htmlFor={uuids.username} className={styles.inputWrapper}>\n            <input\n              id={uuids.username}\n              className={styles.input}\n              type=\"text\"\n              placeholder=\"Username / Email\"\n              onChange={this.onInput.bind(this)}\n            />\n          </label>\n          <label htmlFor={uuids.password} className={styles.inputWrapper}>\n            <input\n              id={uuids.password}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={this.onInput.bind(this)}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <Link className={styles.link} to=\"/forgot\">Forgot your password?</Link>\n            <div className={styles.right}>\n              <Link className={styles.link} to=\"/register\">Need an account?</Link>\n              <input\n                className={styles.submit}\n                type=\"submit\"\n                value=\"Login\"\n                onClick={this.login.bind(this)}\n              />\n            </div>\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nLogin.propTypes = {\n  token: PropTypes.string.isRequired,\n  setToken: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setToken: token => dispatch(action(token)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Login));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\n\nimport styles from './register.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '', email: '', password: '', retry: '',\n    };\n\n    this.uuids = {\n      username: uuidv4(), email: uuidv4(), password: uuidv4(), retry: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  onInput(e) {\n    e.preventDefault();\n\n    const {\n      username, email, password, retry,\n    } = this.uuids;\n\n    const { id, value } = e.target;\n    switch (id) {\n      case username:\n        this.setState({ username: value });\n        break;\n      case email:\n        this.setState({ email: value });\n        break;\n      case password:\n        this.setState({ password: value });\n        break;\n      case retry:\n        this.setState({ retry: value });\n        break;\n      default:\n    }\n  }\n\n  async register(e) {\n    e.preventDefault();\n\n    const { history, setError } = this.props;\n\n    const {\n      username, email, password, retry,\n    } = this.state;\n\n    if (!/^\\w+[\\w-.]*@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$/.test(email)) {\n      setError('Invalid email.');\n      return;\n    }\n\n    if (password !== retry) {\n      setError('Passwords don\\'t match.');\n      return;\n    }\n\n    const uri = `${REACT_APP_API_URL}/api/register`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, uuid } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ username, email, password }),\n      }).then(r => r.json());\n\n      if (!uuid) {\n        throw new Error(message);\n      }\n\n      history.push('/login');\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.register}>\n        <h1 className={styles.title}>Register</h1>\n        <form className={styles.body}>\n          <label htmlFor={uuids.username} className={styles.inputWrapper}>\n            <input\n              ref={this.username}\n              id={uuids.username}\n              className={styles.input}\n              type=\"text\"\n              placeholder=\"Username\"\n              onChange={this.onInput.bind(this)}\n            />\n          </label>\n          <label htmlFor={uuids.email} className={styles.inputWrapper}>\n            <input\n              ref={this.email}\n              id={uuids.email}\n              className={styles.input}\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={this.onInput.bind(this)}\n            />\n          </label>\n          <label htmlFor={uuids.password} className={styles.inputWrapper}>\n            <input\n              ref={this.password}\n              id={uuids.password}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={this.onInput.bind(this)}\n            />\n          </label>\n          <label htmlFor={uuids.retry} className={styles.inputWrapper}>\n            <input\n              ref={this.retry}\n              id={uuids.retry}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Re-type Password\"\n              onChange={this.onInput.bind(this)}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <Link className={styles.link} to=\"/login\">Already have account?</Link>\n            <input\n              className={styles.submit}\n              type=\"submit\"\n              value=\"Register\"\n              onClick={this.register.bind(this)}\n            />\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nRegister.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Register));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\n\nimport styles from './forgot.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Forgot extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n    };\n\n    this.uuids = {\n      email: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  onInput(e) {\n    e.preventDefault();\n\n    this.setState({ email: e.target.value });\n  }\n\n  async requestPasswordChange(e) {\n    e.preventDefault();\n\n    const { setError } = this.props;\n\n    const { email } = this.state;\n\n    if (!/^\\w+[\\w-.]*@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$/.test(email)) {\n      setError('Invalid email.');\n      return;\n    }\n\n    const uri = `${REACT_APP_API_URL}/api/forgot`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ email }),\n      }).then(r => r.json());\n\n      setError(message);\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.forgot}>\n        <h1 className={styles.title}>Forgot</h1>\n        <form className={styles.main}>\n          <div className={styles.note}>\n            <p>To request a new password please enter your account email in the box below.</p>\n            <p>We will send you an email with further instructions.</p>\n          </div>\n          <label htmlFor={uuids.email} className={styles.inputWrapper}>\n            <input\n              ref={this.email}\n              id={uuids.email}\n              className={styles.input}\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={this.onInput.bind(this)}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <input\n              className={styles.submit}\n              type=\"submit\"\n              value=\"Request Password Change\"\n              onClick={this.requestPasswordChange.bind(this)}\n            />\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nForgot.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Forgot));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nimport styles from './nav.module.css';\n\nconst Nav = ({ items }) => (\n  <div className={styles.wrapper}>\n    {items && items.map(item => (\n      <Link\n        key={item.title.toLowerCase()}\n        className={`${styles.item} ${window.location.pathname === item.path ? styles.active : ''}`}\n        to={item.path}\n      >\n        {item.title}\n      </Link>\n    ))}\n  </div>\n);\n\nNav.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string,\n    path: PropTypes.string,\n  })).isRequired,\n};\n\nexport default Nav;\n","export const actions = {\n  SET_SONGS: 'SET_SONGS',\n  SET_NOW_PLAYING: 'SET_NP',\n  SET_PAUSE: 'SET_PAUSE',\n};\n\nconst action = (type, value) => ({\n  type,\n  payload: value,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\n\nimport styles from './song.module.css';\n\nimport icons from './icons.svg';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Song extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      favorite: props.favorite,\n    };\n  }\n\n  onPlayClick() {\n    const {\n      index, np, setNP, pause, setPause,\n    } = this.props;\n\n    if (index === np) {\n      setPause(!pause);\n      return;\n    }\n\n    setNP(index);\n  }\n\n  async onLikeClick() {\n    const { favorite } = this.state;\n\n    if (favorite) {\n      await this.deleteFromFavorite();\n      return;\n    }\n\n    await this.addToFavorite();\n  }\n\n  async addToFavorite() {\n    const { uuid, token, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/favorites/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message } = await fetch(uri, {\n        method: 'POST',\n        headers,\n      }).then(r => r.json());\n\n      this.setState({ favorite: true });\n      setError(message);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  async deleteFromFavorite() {\n    const { uuid, token, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/favorites/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { status } = await fetch(uri, {\n        method: 'DELETE',\n        headers,\n      });\n\n      if (status !== 204) {\n        throw new Error('Unexpected error.');\n      }\n\n      this.setState({ favorite: false });\n      setError('Successfully removed song from favorites.');\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const {\n      author, title, cover, edit, index, np, pause,\n    } = this.props;\n\n    const { favorite } = this.state;\n\n    const play = `${icons}#${((index === np) && !pause) ? 'pause' : 'play'}`;\n\n    return (\n      <div className={styles.track}>\n        <div className={styles.cover} style={{ backgroundImage: cover ? `url(${cover})` : '' }}>\n          {!cover && (\n            <svg className={styles.defaultCover}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#cover`} />\n            </svg>\n          )}\n          <button\n            className={`${styles.button} ${styles.play}`}\n            type=\"button\"\n            onClick={this.onPlayClick.bind(this)}\n          >\n            <svg className={styles.icon}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={play} />\n            </svg>\n          </button>\n        </div>\n        <div className={styles.content}>\n          <div className={styles.title}>{decodeURI(title)}</div>\n          <div className={styles.author}>{decodeURI(author)}</div>\n        </div>\n        <div className={styles.actions}>\n          <button\n            className={`${styles.button}\n            ${styles.action}`}\n            type=\"button\"\n            onClick={this.onLikeClick.bind(this)}\n          >\n            <svg className={styles.icon} style={{ fill: favorite ? 'var(--red)' : '' }}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#like`} />\n            </svg>\n          </button>\n          {edit && (\n            <button className={`${styles.button} ${styles.action}`} type=\"button\">\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#edit`} />\n              </svg>\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nSong.defaultProps = {\n  cover: null,\n  edit: false,\n  favorite: true,\n};\n\nSong.propTypes = {\n  token: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n  author: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  cover: PropTypes.string,\n  favorite: PropTypes.bool,\n  index: PropTypes.number.isRequired,\n  edit: PropTypes.bool,\n  np: PropTypes.number.isRequired,\n  setNP: PropTypes.func.isRequired,\n  pause: PropTypes.bool.isRequired,\n  setPause: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  np: store.player.nowPlaying,\n  pause: store.player.paused,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setNP: np => dispatch(action(actions.SET_NOW_PLAYING, np)),\n  setPause: paused => dispatch(action(actions.SET_PAUSE, paused)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Song);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\nimport Song from '../Song';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass All extends React.Component {\n  async componentDidMount() {\n    const { token, setSongs, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/songs`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, songs } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!songs) {\n        throw new Error(message);\n      }\n\n      setSongs(songs);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { songs } = this.props;\n\n    return (\n      <>\n        {songs.map((song, i) => (\n          <Song\n            key={song.uuid}\n            uuid={song.uuid}\n            author={song.author}\n            title={song.title}\n            cover={song.cover}\n            favorite={song.favorite}\n            index={i}\n          />\n        ))}\n      </>\n    );\n  }\n}\n\nAll.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n    favorite: PropTypes.bool,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(All);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\nimport Song from '../Song';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Favorites extends React.Component {\n  async componentDidMount() {\n    const { token, setSongs, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/favorites`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    const { message, songs } = await fetch(uri, {\n      method: 'GET',\n      headers,\n    }).then(r => r.json());\n\n    if (!songs) {\n      setError(message);\n      return;\n    }\n\n    setSongs(songs);\n  }\n\n  render() {\n    const { songs } = this.props;\n\n    return (\n      <>\n        {songs.map((song, i) => (\n          <Song\n            key={song.uuid}\n            uuid={song.uuid}\n            author={song.author}\n            title={song.title}\n            cover={song.cover}\n            index={i}\n          />\n        ))}\n      </>\n    );\n  }\n}\n\nFavorites.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n    favorite: PropTypes.bool,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Favorites);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\nimport Song from '../Song';\n\nimport styles from './find.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Find extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      query: '',\n    };\n  }\n\n  async componentDidMount() {\n    const { setSongs } = this.props;\n\n    setSongs([]);\n  }\n\n  onInput(e) {\n    this.setState({ query: e.target.value });\n  }\n\n  async findSongs() {\n    const { token, setSongs, setError } = this.props;\n\n    const { query } = this.state;\n\n    const uri = `${REACT_APP_API_URL}/api/songs/find?query=${query}`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, songs } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!songs) {\n        throw new Error(message);\n      }\n\n      setSongs(songs);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { songs } = this.props;\n\n    return (\n      <>\n        <div className={styles.findBox}>\n          <div className={styles.inputWrapper}>\n            <input\n              className={styles.input}\n              type=\"text\"\n              placeholder=\"Search music\"\n              onChange={this.onInput.bind(this)}\n            />\n          </div>\n          <button\n            className={styles.button}\n            type=\"button\"\n            onClick={this.findSongs.bind(this)}\n          >\n            Find\n          </button>\n        </div>\n        <div>\n          {songs.map((song, i) => (\n            <Song\n              key={song.uuid}\n              uuid={song.uuid}\n              author={song.author}\n              title={song.title}\n              cover={song.cover}\n              favorite={song.favorite}\n              index={i}\n            />\n          ))}\n        </div>\n      </>\n    );\n  }\n}\n\nFind.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n    favorite: PropTypes.bool,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Find);\n","import React from 'react';\nimport All from './components/All';\nimport Fav from './components/Favorites';\nimport Find from './components/Find';\n\nconst routes = [\n  {\n    path: '/music',\n    component: () => <All />,\n    exact: true,\n  },\n  {\n    path: '/music/favorites',\n    component: () => <Fav />,\n  },\n  {\n    path: '/music/find',\n    component: () => <Find />,\n  },\n];\n\nexport default routes;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Nav from './components/Nav';\n\nimport routes from './routes';\n\nimport styles from './music.module.css';\n\nconst navItems = [\n  {\n    title: 'All',\n    path: '/music',\n  },\n  {\n    title: 'Search',\n    path: '/music/find',\n  },\n  {\n    title: 'Likes',\n    path: '/music/favorites',\n  },\n];\n\nconst Music = () => (\n  <section className={styles.wrapper}>\n    <Nav items={navItems} />\n    <div className={styles.container}>\n      {routes.map(route => (\n        <Route\n          key={route.path.slice(1)}\n          path={route.path}\n          component={route.component}\n          exact={route.exact}\n        />\n      ))}\n    </div>\n  </section>\n);\n\nexport default Music;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../../../actions/error';\n\nimport styles from './songEdit.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.uuids = {\n      author: uuidv4(),\n      title: uuidv4(),\n    };\n\n    this.state = {\n      author: '',\n      title: '',\n    };\n  }\n\n  onChange(e) {\n    const { author, title } = this.uuids;\n\n    const { id, value } = e.target;\n\n    switch (id) {\n      case author:\n        this.setState({ author: value });\n        break;\n      case title:\n        this.setState({ title: value });\n        break;\n      default:\n    }\n  }\n\n  async update() {\n    const { token, uuid, setError } = this.props;\n\n    const { author, title } = this.state;\n\n    const uri = `${REACT_APP_API_URL}/api/songs/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    const body = {};\n\n    if (author) {\n      body.author = encodeURI(author);\n    }\n\n    if (title) {\n      body.title = encodeURI(title);\n    }\n\n    try {\n      const { message, song } = await fetch(uri, {\n        method: 'PATCH',\n        headers,\n        body: JSON.stringify(body),\n      }).then(r => r.json());\n\n      if (!song) {\n        setError(message);\n        return;\n      }\n\n      setError(message);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { author, title } = this.uuids;\n\n    return (\n      <div className={styles.songEdit}>\n        <label htmlFor={author} className={styles.inputWrapper}>\n          <input\n            id={author}\n            className={styles.input}\n            type=\"text\"\n            placeholder=\"Author\"\n            onChange={this.onChange.bind(this)}\n          />\n        </label>\n        <label htmlFor={title} className={styles.inputWrapper}>\n          <input\n            id={title}\n            className={styles.input}\n            type=\"text\"\n            placeholder=\"Title\"\n            onChange={this.onChange.bind(this)}\n          />\n        </label>\n        <div className={styles.inputWrapper}>\n          <button\n            className={styles.submit}\n            type=\"submit\"\n            onClick={this.update.bind(this)}\n          >\n            Update\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nUpload.propTypes = {\n  token: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Upload));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\nimport SongEdit from './components/SongEdit';\n\nimport styles from './upload.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.uuids = {\n      file: uuidv4(),\n    };\n\n    this.state = {\n      fileName: '',\n      progress: 0,\n      dragOver: false,\n      songUuid: '',\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (!token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  onChange(e) {\n    const file = e.target.files[0];\n\n    this.setState({ fileName: file.name });\n    this.upload(file);\n  }\n\n  onDrop(e) {\n    e.preventDefault();\n\n    if (e.dataTransfer.files) {\n      const file = e.dataTransfer.files[0];\n\n      this.setState({ fileName: file.name, dragOver: false });\n      this.upload(file);\n    }\n  }\n\n  onDragOver(e) {\n    e.preventDefault();\n\n    this.setState({ dragOver: true });\n  }\n\n  onDragLeave(e) {\n    e.preventDefault();\n\n    this.setState({ dragOver: false });\n  }\n\n  upload(file) {\n    const { token, setError } = this.props;\n\n    if (file.size > 10 * 1024 * 1024) {\n      setError('File too large. Your audio file may not exceed 10 MB.');\n      return;\n    }\n\n    if (file.type !== 'audio/mp3') {\n      setError('Unsupported type. Your audio file has to be in MP3 format.');\n      return;\n    }\n\n    const xhr = new XMLHttpRequest();\n\n    xhr.open('POST', `${REACT_APP_API_URL}/api/songs`);\n\n    xhr.setRequestHeader('accept', 'application/vnd.moosik.v1+json');\n    xhr.setRequestHeader('content-type', 'audio/mpeg');\n    xhr.setRequestHeader('authorization', `Bearer ${token}`);\n\n    xhr.onload = () => {\n      const { message, uuid } = JSON.parse(xhr.response);\n\n      if (xhr.status === 201) {\n        this.setState({ songUuid: uuid });\n        return;\n      }\n\n      setError(message);\n    };\n\n    xhr.onerror = () => setError('Error while uploading.');\n\n    xhr.upload.onprogress = (e) => {\n      const { loaded, total, type } = e;\n\n      if (type === 'error') {\n        setError('error');\n        return;\n      }\n\n      this.setState({ progress: loaded / total });\n    };\n    xhr.send(file);\n  }\n\n  render() {\n    const {\n      fileName, songUuid, dragOver, progress,\n    } = this.state;\n\n    const { file } = this.uuids;\n\n    return (\n      <section\n        className={`${styles.container} ${dragOver ? styles.dragOver : ''}`}\n        onDrop={this.onDrop.bind(this)}\n        onDragOver={this.onDragOver.bind(this)}\n        onDragLeave={this.onDragLeave.bind(this)}\n      >\n        <div className={styles.progressWrapper}>\n          <div className={styles.progressBar} style={{ width: `${progress * 100}%` }} />\n        </div>\n        <h1 className={styles.title}>Drag and drop your track here</h1>\n        <div className={styles.uploader}>\n          <label className={styles.file} htmlFor={file}>\n            <input\n              className={styles.fileInput}\n              id={file}\n              type=\"file\"\n              accept=\"audio/mpeg\"\n              onChange={this.onChange.bind(this)}\n            />\n            <span>or choose file to upload</span>\n          </label>\n          {fileName && <p className={styles.fileName}>{fileName}</p>}\n          <div className={styles.note}>\n            <p>Your audio file may not exceed 10 MB and has to be in MP3 format.</p>\n          </div>\n        </div>\n        {progress === 1 && songUuid && <SongEdit uuid={songUuid} />}\n      </section>\n    );\n  }\n}\n\nUpload.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Upload));\n","import React from 'react';\nimport Status from './components/Status';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Forgot from './components/Forgot';\nimport Music from './components/Music';\nimport Upload from './components/Upload';\n\nconst routes = [\n  {\n    path: '/',\n    component: () => <Status />,\n    exact: true,\n  },\n  {\n    path: '/music',\n    component: () => <Music />,\n  },\n  {\n    path: '/upload',\n    component: () => <Upload />,\n  },\n  {\n    path: '/login',\n    component: () => <Login />,\n  },\n  {\n    path: '/register',\n    component: () => <Register />,\n  },\n  {\n    path: '/forgot',\n    component: () => <Forgot />,\n  },\n];\n\nexport default routes;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport routes from './routes';\n\nimport styles from './main.module.css';\n\nconst Main = () => (\n  <div className={styles.container}>\n    {routes.map(route => (\n      <Route\n        key={route.path.slice(1)}\n        path={route.path}\n        component={route.component}\n        exact={route.exact}\n      />\n    ))}\n  </div>\n);\n\nexport default Main;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport styles from './timeline.module.css';\n\nconst Timeline = ({ timePassed, duration }) => (\n  <div className={styles.timeline}>\n    <div className={styles.timePassed}>{moment(timePassed * 1000).format('mm:ss')}</div>\n    <div className={styles.progressWrapper}>\n      <div className={styles.progressBackground}>\n        <div className={styles.progressBar} style={{ width: `${timePassed / duration * 100}%` }} />\n      </div>\n    </div>\n    <div className={styles.duration}>{moment(duration * 1000).format('mm:ss')}</div>\n  </div>\n);\n\nTimeline.propTypes = {\n  timePassed: PropTypes.number.isRequired,\n  duration: PropTypes.number.isRequired,\n};\n\nexport default Timeline;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './soundBadge.module.css';\n\nconst SoundBadge = ({ author, title, cover }) => (\n  <div className={styles.soundBadge}>\n    <div className={styles.cover} style={{ backgroundImage: `url(${cover})` }} />\n    <div className={styles.titleContextContainer}>\n      <span className={`${styles.title} ${styles.truncate}`}>{title}</span>\n      <span className={`${styles.author} ${styles.truncate}`}>{author}</span>\n    </div>\n  </div>\n);\n\nSoundBadge.defaultProps = {\n  author: 'No Author',\n  title: 'No Title',\n  cover: '',\n};\n\nSoundBadge.propTypes = {\n  author: PropTypes.string,\n  title: PropTypes.string,\n  cover: PropTypes.string,\n};\n\nexport default SoundBadge;\n","import React, { createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../actions/player';\nimport errAction from '../../actions/error';\nimport Timeline from './components/Timeline';\nimport SoundBadge from './components/SoundBadge';\n\nimport styles from './player.module.css';\n\nimport icons from './icons.svg';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Player extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      song: {},\n      currentTime: 0,\n      duration: 0,\n      loop: false,\n      shuffle: false,\n      muted: false,\n      volume: 1,\n    };\n\n    this.audio = createRef();\n  }\n\n  async componentDidUpdate(prev) {\n    const { songs, np, pause } = this.props;\n\n    const { song } = this.state;\n\n    if (!songs.length) {\n      return;\n    }\n\n    if (prev.np !== np) {\n      await this.loadSong(songs[np].uuid);\n      return;\n    }\n\n    if (prev.pause !== pause) {\n      const audio = this.audio.current;\n\n      if (pause) {\n        audio.pause();\n        document.title = 'Moosik';\n        return;\n      }\n\n      audio.play();\n      document.title = `${song.author} - ${song.title}`;\n    }\n  }\n\n  onLoadedMetadata(e) {\n    this.setState({ duration: e.target.duration });\n  }\n\n  onCanPlay(e) {\n    const { setPause } = this.props;\n\n    const { song } = this.state;\n\n    e.target.play();\n\n    setPause(false);\n    document.title = `${song.author} - ${song.title}`;\n  }\n\n  onTimeUpdate(e) {\n    this.setState({ currentTime: e.target.currentTime });\n  }\n\n  onVolumeChange(e) {\n    this.setState({ volume: e.target.volume });\n  }\n\n  onEnded() {\n    const { songs, np, setNP } = this.props;\n    const { shuffle } = this.state;\n\n    if (shuffle) {\n      setNP(Math.round(Math.random() * (songs.length - 1)));\n      return;\n    }\n\n    if (np < songs.length - 1) {\n      setNP(np + 1);\n    }\n  }\n\n  onClickControl(e) {\n    const type = e.currentTarget.attributes['data-t'].nodeValue;\n\n    const {\n      songs, np, setNP, pause, setPause,\n    } = this.props;\n\n    switch (type) {\n      case 'prev': {\n        if (np > 0) {\n          setNP(np - 1);\n        }\n        break;\n      }\n      case 'play': {\n        if (np === -1) {\n          setNP(np === -1 ? 0 : np);\n          return;\n        }\n\n        setPause(!pause);\n        break;\n      }\n      case 'next': {\n        if (np < songs.length - 1) {\n          setNP(np + 1);\n        }\n        break;\n      }\n      case 'loop': {\n        this.setState(prev => ({ loop: !prev.loop }));\n        break;\n      }\n      case 'shuf': {\n        this.setState(prev => ({ shuffle: !prev.shuffle }));\n        break;\n      }\n      case 'mute': {\n        this.setState(prev => ({ muted: !prev.muted }));\n        break;\n      }\n      default:\n    }\n  }\n\n  onClickVolumeSlider(e) {\n    const r = e.currentTarget.getBoundingClientRect();\n    this.audio.current.volume = 1 - (e.clientY - r.top) / r.height;\n  }\n\n  async loadSong(uuid) {\n    const { token, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/songs/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosik.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, song } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!song) {\n        throw new Error(message);\n      }\n\n      this.setState({ song });\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { pause } = this.props;\n    const {\n      song, currentTime, duration, muted, loop, volume, shuffle,\n    } = this.state;\n\n    return (\n      <div className={styles.player}>\n        <section className={styles.wrapper}>\n          <div className={styles.controls}>\n            <button type=\"button\" className={styles.control} data-t=\"prev\" onClick={this.onClickControl.bind(this)}>\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#prev`} />\n              </svg>\n            </button>\n            <button type=\"button\" className={styles.control} data-t=\"play\" onClick={this.onClickControl.bind(this)}>\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#${pause ? 'play' : 'pause'}`} />\n              </svg>\n            </button>\n            <button type=\"button\" className={styles.control} data-t=\"next\" onClick={this.onClickControl.bind(this)}>\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#next`} />\n              </svg>\n            </button>\n            <button type=\"button\" className={styles.control} data-t=\"loop\" onClick={this.onClickControl.bind(this)}>\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#repeat`} style={{ fill: loop ? 'var(--red-dark)' : '' }} />\n              </svg>\n            </button>\n            <button type=\"button\" className={styles.control} data-t=\"shuf\" onClick={this.onClickControl.bind(this)}>\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#shuffle`} style={{ fill: shuffle ? 'var(--red-dark)' : '' }} />\n              </svg>\n            </button>\n          </div>\n          <Timeline timePassed={currentTime} duration={duration || 0} />\n          <div className={`${styles.controls} ${styles.volume}`}>\n            <button type=\"button\" className={styles.control} data-t=\"mute\" onClick={this.onClickControl.bind(this)}>\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#${muted ? 'mute' : 'volume'}`} />\n              </svg>\n            </button>\n            <div className={styles.volumeWrapper}>\n              <div className={styles.volumeSlider} role=\"presentation\" onClick={this.onClickVolumeSlider.bind(this)}>\n                <div className={styles.volumeBackground} />\n                <div className={styles.volumeBar} style={{ height: `${100 * volume}%` }} />\n              </div>\n            </div>\n          </div>\n          <SoundBadge author={song.author} title={song.title} cover={song.cover} />\n          <audio\n            ref={this.audio}\n            src={song.url}\n            muted={muted}\n            loop={loop}\n            onLoadedMetadata={this.onLoadedMetadata.bind(this)}\n            onCanPlay={this.onCanPlay.bind(this)}\n            onTimeUpdate={this.onTimeUpdate.bind(this)}\n            onVolumeChange={this.onVolumeChange.bind(this)}\n            onEnded={this.onEnded.bind(this)}\n          />\n        </section>\n      </div>\n    );\n  }\n}\n\nPlayer.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n  })).isRequired,\n  np: PropTypes.number.isRequired,\n  setNP: PropTypes.func.isRequired,\n  pause: PropTypes.bool.isRequired,\n  setPause: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n  np: store.player.nowPlaying,\n  pause: store.player.paused,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setNP: np => dispatch(action(actions.SET_NOW_PLAYING, np)),\n  setPause: pause => dispatch(action(actions.SET_PAUSE, pause)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Player);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action from '../../actions/error';\n\nimport styles from './modal.module.css';\n\nclass Modal extends React.Component {\n  componentDidMount() {\n    const { clearError } = this.props;\n\n    setTimeout(() => {\n      clearError();\n    }, 5000);\n  }\n\n  render() {\n    const { error } = this.props;\n\n    return (\n      <div className={styles.modal}>\n        <svg className={styles.icon} viewBox=\"0 0 24 24\">\n          <path d=\"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\" />\n        </svg>\n        <div className={styles.message}>\n          <span>{error}</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  error: PropTypes.string.isRequired,\n  clearError: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => ({\n  clearError: () => dispatch(action('')),\n});\n\nexport default connect(null, mapDispatchToProps)(Modal);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport Header from '../Header';\nimport Main from '../Main';\nimport Player from '../Player';\nimport Modal from '../Modal';\n\nimport styles from './app.module.css';\n\nimport bg from './bg.jpg';\n\nconst App = ({ token, error }) => (\n  <div className={styles.app} style={{ backgroundImage: `url(${bg})` }}>\n    <main className={styles.container}>\n      <BrowserRouter>\n        <Header />\n        <Main />\n      </BrowserRouter>\n      {token && <Player />}\n    </main>\n    <div className={styles.modalWrapper}>\n      {error && <Modal error={error} />}\n    </div>\n  </div>\n);\n\nApp.propTypes = {\n  token: PropTypes.string.isRequired,\n  error: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  error: store.error.message,\n});\n\nexport default connect(mapStateToProps)(App);\n","const initialState = {\n  token: window.localStorage.getItem('token') || '',\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_TOKEN':\n      return { ...state, token: action.payload };\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  songs: [],\n  nowPlaying: -1,\n  paused: true,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_SONGS':\n      return { ...state, songs: action.payload };\n    case 'SET_NP':\n      return { ...state, nowPlaying: action.payload };\n    case 'SET_PAUSE':\n      return { ...state, paused: action.payload };\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  message: '',\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_ERROR_MESSAGE':\n      return { ...state, message: action.payload };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport login from './login';\nimport player from './player';\nimport error from './error';\n\nconst rootReducer = combineReducers({\n  login, player, error,\n});\n\nexport default rootReducer;\n","import { createStore } from 'redux';\nimport rootReducer from '../reducers/root';\n\nconst store = createStore(rootReducer);\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/App';\nimport store from './store';\nimport * as serviceWorker from './serviceWorker';\n\nimport './layouts/default.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}