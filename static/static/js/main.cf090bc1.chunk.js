(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports={input:"Input_input__23Mse",button:"Input_button__33mHf"}},function(e,t,a){e.exports={wrapper:"Player_wrapper__2kxCQ",inner:"Player_inner__YUYFJ",controls:"Player_controls__3ftYh",button:"Player_button__3ZTam",icon:"Player_icon__3C_3t",active:"Player_active__2vihY",volume:"Player_volume__1qZe7"}},function(e,t,a){e.exports={container:"Song_container__1vOrn",cover:"Song_cover__2Q42N",play:"Song_play__2Vyfe",titleAndAuthor:"Song_titleAndAuthor___QFud",title:"Song_title__aIUpy",author:"Song_author__2r3yD",actions:"Song_actions__M80bL",button:"Song_button__3i8Nw",action:"Song_action__lxBfN",icon:"Song_icon__3pZGB",on:"Song_on__eqkpK"}},,,,,,,function(e,t,a){e.exports={wrapper:"Header_wrapper__FqtDM",inner:"Header_inner__1ucLz",group:"Header_group__3Crzu",logo:"Header_logo__2mR3t",nav:"Header_nav__2a6nj",item:"Header_item__3A8a8",active:"Header_active__1OuCw",mobileNavToggle:"Header_mobileNavToggle__1ZTI_",login:"Header_login__GB4Jx"}},,function(e,t,a){e.exports={wrapper:"SongList_wrapper__36sgX",findBox:"SongList_findBox__hbLIY",findInput:"SongList_findInput__3-MNY",songList:"SongList_songList__DX6ne",text:"SongList_text__3VwhO"}},,function(e,t,a){e.exports={container:"Article_container__1dZce",header:"Article_header__3hYWp",meta:"Article_meta__15Toy",title:"Article_title__FgUnZ",date:"Article_date__1Yoap",author:"Article_author__3XxuL",username:"Article_username__2yaTM",avatar:"Article_avatar__fE6wD",content:"Article_content__1mCVH",image:"Article_image__3ydtE"}},function(e,t,a){e.exports={register:"Register_register__3rf_j",title:"Register_title__3S71p",main:"Register_main__xIeRI",inputWrapper:"Register_inputWrapper__1WSTN",footer:"Register_footer__1FkmU",marginRight:"Register_marginRight__20S3r"}},function(e,t,a){e.exports={basicInfo:"BasicSongInfo_basicInfo__3PH3F",image:"BasicSongInfo_image__3GW7F",hover:"BasicSongInfo_hover__2JMxM",picker:"BasicSongInfo_picker__LHVIn",input:"BasicSongInfo_input__27qRl",titleAndAuthor:"BasicSongInfo_titleAndAuthor__HLjxd",label:"BasicSongInfo_label__SIxmj",save:"BasicSongInfo_save__2g38W",imageContainer:"BasicSongInfo_imageContainer__s9ptD"}},,function(e,t,a){e.exports={login:"Login_login__38v1U",title:"Login_title__g-wQC",main:"Login_main__2GCFh",inputWrapper:"Login_inputWrapper__1HjiJ",footer:"Login_footer__1tVfz",right:"Login_right__2IAIg",marginRight:"Login_marginRight__2LUOX"}},function(e,t,a){e.exports={container:"Upload_container__1jHzN",form:"Upload_form__1CTiF",drop:"Upload_drop__1GpYI",title:"Upload_title__17WQD",file:"Upload_file__1meVh",input:"Upload_input__1-Kak",note:"Upload_note__QwN6w",files:"Upload_files__2WQJQ"}},,function(e,t,a){e.exports={soundBadge:"SoundBadge_soundBadge__2xahz",cover:"SoundBadge_cover__3rC_I",titleContextContainer:"SoundBadge_titleContextContainer__1bR-R",title:"SoundBadge_title__2WuQa",author:"SoundBadge_author__2PFqX",truncate:"SoundBadge_truncate__1HHvR"}},,function(e,t,a){e.exports={timeline:"Timeline_timeline__Ql_jr",progressWrapper:"Timeline_progressWrapper__1KUvM",progressBackground:"Timeline_progressBackground__kfNFJ",progressBar:"Timeline_progressBar__35VCS",timePassed:"Timeline_timePassed__SxgMt",duration:"Timeline_duration__3u_zQ"}},function(e,t,a){e.exports=a.p+"static/media/IconPack.174b8195.svg"},function(e,t,a){e.exports={forgot:"Forgot_forgot__1flON",title:"Forgot_title__1KECB",note:"Forgot_note__3a8fb",main:"Forgot_main__2vEwM",inputWrapper:"Forgot_inputWrapper__1QcpE",footer:"Forgot_footer__SJ3KM"}},function(e,t,a){e.exports={wrapper:"Sidebar_wrapper__15BT5",container:"Sidebar_container__h-IwK",list:"Sidebar_list__28eHC",link:"Sidebar_link__3ngrc"}},function(e,t,a){e.exports={upload:"FileUploader_upload__1UcZO",filename:"FileUploader_filename__9lrVe",body:"FileUploader_body__3NsPj",progress:"FileUploader_progress__YB5po",passed:"FileUploader_passed__2DlnJ"}},function(e,t,a){e.exports={app:"App_app__2qXki",backgroundWrapper:"App_backgroundWrapper__1Hiy3",background:"App_background__i7GI8",container:"App_container__3ATok",content:"App_content__1Fjiq"}},,,function(e,t,a){e.exports={link:"Link_link__3mSDa"}},,function(e,t,a){e.exports={wrapper:"VolumeSlider_wrapper__3Cpih",slider:"VolumeSlider_slider__1ozYr",background:"VolumeSlider_background__A9akr",bar:"VolumeSlider_bar__3-OKG"}},,,function(e,t,a){e.exports={nav:"Nav_nav__3jrwj",item:"Nav_item__YBWBn",active:"Nav_active__3gxB5",link:"Nav_link__1GkPT"}},,,,,,function(e,t,a){e.exports={wrapper:"Modal_wrapper__A8cY0",modal:"Modal_modal__2UZjz"}},,,,,,,,,,,,,function(e,t,a){e.exports={container:"Main_container__3Oovr"}},function(e,t,a){e.exports={container:"Music_container__v6crW"}},function(e,t,a){e.exports=a.p+"static/media/bg.d36aebff.webp"},function(e,t,a){e.exports=a.p+"static/media/bg.003204dc.jpg"},function(e,t,a){e.exports=a(101)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(44),c=a.n(o),i=a(5),s=a(4),l=a(32),u=a(63),p=a(27),m={visible:!1},d={loading:!1,token:window.localStorage.getItem("token")||"",error:!1},_={loading:!1,songs:[],error:!1},g=Object(l.c)({mobile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MOBILE_NAV":return Object(p.a)({},e,{visible:t.payload});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGING_IN":return Object(p.a)({},e,{loading:!0});case"LOGIN_SUCCEEDED":return Object(p.a)({},e,{loading:!1,token:t.payload});case"LOGIN_ERROR":return Object(p.a)({},e,{loading:!1,error:t.payload});case"LOGOUT":return Object(p.a)({},e,{loading:!1,token:""});default:return e}},music:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_SONGS":case"REQUEST__FAVORITE_SONGS":case"FIND_SONGS":return Object(p.a)({},e,{loading:!0,error:!1});case"RETREIVE_SONGS_SUCCESSED":return{loading:!1,songs:t.payload,error:!1};case"RETRIEVE_SONGS_ERROR":return{loading:!1,songs:[],error:t.payload};case"CLEAR_SONGS":return{loading:!1,songs:[],error:!1};default:return e}}}),f=Object(l.d)(g,Object(l.a)(u.a)),v=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var E=a(30),b=a(3),N=a.n(b),k=a(14),y=a(17),w=a.n(y),O=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,S=void 0===O?"":O,j=function(e){return{type:"LOGIN_SUCCEEDED",payload:e}},x=a(20),C=a.n(x),L=Object(E.e)(Object(s.b)(function(e){return{token:e.login.token}},function(e){return{show:function(){return e({type:"SHOW_MOBILE_NAV",payload:!0})},logout:function(){return e({type:"LOGOUT"})}}})(function(e){var t=e.token,a=e.show,n=e.logout,o=e.history;return r.a.createElement("div",{className:C.a.wrapper},r.a.createElement("header",{className:C.a.inner},r.a.createElement("div",{className:C.a.group},r.a.createElement(i.b,{className:C.a.logo,to:"/",title:"Moosik App"},r.a.createElement("svg",{viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M12,1C7,1 3,5 3,10V17A3,3 0 0,0 6,20H9V12H5V10A7,7 0 0,1 12,3A7,7 0 0,1 19,10V12H15V20H18A3,3 0 0,0 21,17V10C21,5 16.97,1 12,1Z"}))),t&&r.a.createElement("nav",{className:C.a.nav},r.a.createElement(i.b,{className:C.a.item,to:"/music"},"Music"),r.a.createElement(i.b,{className:C.a.item,to:"/upload"},"Upload"))),r.a.createElement("div",{className:"".concat(C.a.group," ").concat(C.a.login)},!t&&r.a.createElement(i.b,{className:C.a.item,to:"/login"},"Login"),t&&r.a.createElement(i.b,{className:C.a.item,to:"?logout",onClick:function(e){e.preventDefault(),n(),window.localStorage.removeItem("token"),o.push("/")}},"Logout")),r.a.createElement("button",{className:C.a.mobileNavToggle,type:"button","aria-label":"Toggle Mobile Navigation",onClick:a},r.a.createElement("svg",{viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"})))))})),A=a(6),I=a(7),R=a(9),B=a(8),T=a(10),U=a(40),P=a.n(U),F=a(33),H=a.n(F),D=function(e){function t(){return Object(A.a)(this,t),Object(R.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(I.a)(t,[{key:"onClick",value:function(e){var t=this.props,a=t.duration,n=t.onChange,r=e.currentTarget.getBoundingClientRect();n(a*((e.clientX-r.left)/r.width))}},{key:"render",value:function(){var e=this.props,t=e.currentTime,a=e.duration;return r.a.createElement("div",{className:H.a.timeline},r.a.createElement("div",{className:H.a.timePassed},P()(1e3*t).format("mm:ss")),r.a.createElement("div",{className:H.a.progressWrapper,role:"slider","aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":t,tabIndex:-1,onKeyDown:null,onClick:this.onClick.bind(this)},r.a.createElement("div",{className:H.a.progressBackground},r.a.createElement("div",{className:H.a.progressBar,style:{width:"".concat(t/a*100,"%")}}))),r.a.createElement("div",{className:H.a.duration},P()(1e3*a).format("mm:ss")))}}]),t}(n.PureComponent),V=a(43),G=a.n(V),M=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(R.a)(this,Object(B.a)(t).call(this,e))).state={value:e.value},a}return Object(T.a)(t,e),Object(I.a)(t,[{key:"onClick",value:function(e){var t=this.props.onChange,a=e.currentTarget.getBoundingClientRect(),n=1-(e.clientY-a.top)/a.height;this.setState({value:n}),t(n)}},{key:"render",value:function(){var e=this.state.value;return r.a.createElement("div",{className:G.a.wrapper},r.a.createElement("div",{className:G.a.slider,role:"slider","aria-valuemax":1,"aria-valuemin":0,"aria-valuenow":e,tabIndex:-1,onKeyDown:null,onClick:this.onClick.bind(this)},r.a.createElement("div",{className:G.a.background}),r.a.createElement("div",{className:G.a.bar,style:{height:"".concat(100*e,"%")}})))}}]),t}(n.PureComponent),W=a(31),q=a.n(W),z=function(e){var t=e.author,a=e.title,n=e.cover;return r.a.createElement("div",{className:q.a.soundBadge},r.a.createElement("div",{className:q.a.cover,style:{backgroundImage:n?"url(".concat(n,")"):""}}),r.a.createElement("div",{className:q.a.titleContextContainer},r.a.createElement("span",{className:"".concat(q.a.title," ").concat(q.a.truncate)},a),r.a.createElement("span",{className:"".concat(q.a.author," ").concat(q.a.truncate)},t)))};z.defaultProps={author:"No Author",title:"No Title",cover:""};var Y=z,Q=a(12),J=a.n(Q),Z=a(34),X=a.n(Z),K=function(){return r.a.createElement("div",{className:J.a.wrapper},r.a.createElement("section",{className:J.a.inner},r.a.createElement("div",{className:J.a.controls},r.a.createElement("button",{type:"button",className:J.a.button,onClick:function(){}},r.a.createElement("svg",{className:J.a.icon},r.a.createElement("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"".concat(X.a,"#prev")}))),r.a.createElement("button",{type:"button",className:J.a.button,onClick:function(){}},r.a.createElement("svg",{className:J.a.icon},r.a.createElement("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"".concat(X.a,"#").concat("play")}))),r.a.createElement("button",{type:"button",className:J.a.button,onClick:function(){}},r.a.createElement("svg",{className:J.a.icon},r.a.createElement("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"".concat(X.a,"#next")}))),r.a.createElement("button",{type:"button",className:J.a.button,onClick:function(){}},r.a.createElement("svg",{className:"".concat(J.a.icon," ").concat(J.a.active)},r.a.createElement("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"".concat(X.a,"#repeat")}))),r.a.createElement("button",{type:"button",className:J.a.button,onClick:function(){}},r.a.createElement("svg",{className:"".concat(J.a.icon," ").concat(J.a.active)},r.a.createElement("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"".concat(X.a,"#shuffle")})))),r.a.createElement(D,{currentTime:0,duration:0,onChange:function(){}}),r.a.createElement("div",{className:"".concat(J.a.controls," ").concat(J.a.volume)},r.a.createElement("button",{type:"button",className:J.a.button,onClick:function(){}},r.a.createElement("svg",{className:J.a.icon},r.a.createElement("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"".concat(X.a,"#").concat("mute")}))),r.a.createElement(M,{value:1,onChange:function(){}})),r.a.createElement(Y,{author:"Author",title:"Title",cover:null}),r.a.createElement("audio",null)))},$=a(1),ee=a.n($),te=a(24),ae=a.n(te),ne=function(e){var t=e.title,a=e.content,n=e.author,o=e.date;return r.a.createElement("article",{className:ae.a.container},r.a.createElement("div",{className:ae.a.header},r.a.createElement("div",{className:ae.a.meta},r.a.createElement("h2",{className:ae.a.title},t),r.a.createElement("span",{className:ae.a.date},P()(o).fromNow())),r.a.createElement("div",{className:ae.a.author},r.a.createElement("span",{className:ae.a.username},n.username),r.a.createElement("img",{className:ae.a.avatar,src:n.image,alt:n.username}))),r.a.createElement("div",{className:ae.a.content},a.map(function(e){var t=ee()();return/^https?:\/\/(\S+\.)+\w{2,4}\/.*/.test(e)?r.a.createElement("p",{key:t,style:{textAlign:"center"}},r.a.createElement("img",{className:ae.a.image,src:e,alt:e})):r.a.createElement("p",{key:t},e)})))},re=a(65),oe=a.n(re),ce={title:"Lorem ipsum dolor sit, amet consectetur adipisicing elit.",content:["https://sun1-16.userapi.com/c848124/u476882832/docs/d12/039811b6e945/giphy.gif","Lorem ipsum dolor sit, amet consectetur adipisicing elit. Temporibus hic rem illum.","Consequatur nihil rem laboriosam at excepturi impedit, itaque quam nemo libero eum.","https://pp.userapi.com/c858328/v858328601/2dce7/PTZSqKR2eg8.jpg","Omnis cum ipsam quod voluptatibus! Cum."],author:{username:"Hibikaze",image:"https://pp.userapi.com/c850120/v850120001/1ad28c/F35G1gFJG24.jpg"},date:Date.now()},ie={title:"Lorem ipsum.",content:["https://sun9-6.userapi.com/c850220/v850220268/19d5f8/RIJmY1ish6g.jpg","Lorem ipsum dolor sit, amet consectetur adipisicing elit. Temporibus hic rem illum.","Consequatur nihil rem laboriosam at excepturi impedit, itaque quam nemo libero eum.","Omnis cum ipsam quod voluptatibus! Cum."],author:{username:"Hibikaze",image:"https://pp.userapi.com/c850120/v850120001/1ad28c/F35G1gFJG24.jpg"},date:Date.now()},se=function(){return r.a.createElement("div",{className:oe.a.container},r.a.createElement(ne,ce),r.a.createElement(ne,ie))},le=a(28),ue=a.n(le),pe=a(11),me=a.n(pe),de=a(41),_e=a.n(de),ge=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(R.a)(this,Object(B.a)(t).call(this,e))).state={username:"",password:""},a}return Object(T.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.token,a=e.history;t&&a.push("/")}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.token,a=e.history;t&&a.push("/")}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,o=this.props.login;return r.a.createElement("div",{className:ue.a.login},r.a.createElement("h1",{className:ue.a.title},"Login"),r.a.createElement("form",{className:ue.a.main},r.a.createElement("label",{htmlFor:"username",className:ue.a.inputWrapper},r.a.createElement("input",{id:"username",className:me.a.input,type:"text",placeholder:"Username / Email",autoComplete:"off",onChange:function(t){return e.setState({username:t.target.value})}})),r.a.createElement("label",{htmlFor:"password",className:ue.a.inputWrapper},r.a.createElement("input",{id:"password",className:me.a.input,type:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("div",{className:ue.a.footer},r.a.createElement(i.b,{className:_e.a.link,to:"/forgot"},"Forgot your password?"),r.a.createElement("div",{className:ue.a.right},r.a.createElement(i.b,{className:"".concat(_e.a.link," ").concat(ue.a.marginRight),to:"/register"},"Need an account?"),r.a.createElement("input",{className:me.a.button,type:"submit",value:"Login",onClick:function(e){e.preventDefault(),o(a,n)}})))))}}]),t}(n.PureComponent),fe=Object(E.e)(Object(s.b)(function(e){return{token:e.login.token}},function(e){return{login:function(t,a){return e(function(e,t){return function(){var a=Object(k.a)(N.a.mark(function a(n){var r,o;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"LOGGING_IN"}),a.prev=1,a.next=4,w()("".concat(S,"/api/login"),{method:"POST",headers:{accept:"application/vnd.moosikapp.v1+json","content-type":"application/json"},data:JSON.stringify({username:e,password:t})}).then(function(e){return e.data});case 4:r=a.sent,o=r.token,n(j(o)),window.localStorage.setItem("token",o),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n({type:"LOGIN_ERROR",payload:a.t0.message});case 13:case"end":return a.stop()}},a,null,[[1,10]])}));return function(e){return a.apply(this,arguments)}}()}(t,a))}}})(ge)),ve=a(25),he=a.n(ve),Ee=function(){return r.a.createElement("div",{className:he.a.register},r.a.createElement("h1",{className:he.a.title},"Register"),r.a.createElement("form",{className:he.a.main},r.a.createElement("label",{htmlFor:"username",className:he.a.inputWrapper},r.a.createElement("input",{id:"username",className:me.a.input,type:"text",placeholder:"Username",autoComplete:"off"})),r.a.createElement("label",{htmlFor:"email",className:he.a.inputWrapper},r.a.createElement("input",{id:"email",className:me.a.input,type:"email",placeholder:"Email",autoComplete:"off"})),r.a.createElement("label",{htmlFor:"password",className:he.a.inputWrapper},r.a.createElement("input",{id:"password",className:me.a.input,type:"password",placeholder:"Password"})),r.a.createElement("label",{htmlFor:"retry",className:he.a.inputWrapper},r.a.createElement("input",{id:"retry",className:me.a.input,type:"password",placeholder:"Re-type password"})),r.a.createElement("div",{className:he.a.footer},r.a.createElement(i.b,{className:"".concat(_e.a.link," ").concat(he.a.marginRight),to:"/login"},"Already have account?"),r.a.createElement("input",{className:me.a.button,type:"submit",value:"Register"}))))},be=a(35),Ne=a.n(be),ke=function(){return r.a.createElement("div",{className:Ne.a.forgot},r.a.createElement("h1",{className:Ne.a.title},"Forgot"),r.a.createElement("div",{className:Ne.a.note},r.a.createElement("p",null,"To request a new password please enter your account email in the box below."),r.a.createElement("p",null,"We will send you an email with further instructions.")),r.a.createElement("form",{className:Ne.a.main},r.a.createElement("label",{htmlFor:"email",className:Ne.a.inputWrapper},r.a.createElement("input",{id:"email",className:me.a.input,type:"email",placeholder:"Email",autoComplete:"off"})),r.a.createElement("div",{className:Ne.a.footer},r.a.createElement("input",{className:me.a.button,type:"submit",value:"Request Password Change"}))))},ye=a(46),we=a.n(ye),Oe=function(){return r.a.createElement("nav",{className:we.a.nav},[{uuid:ee()(),path:"/music",name:"All"},{uuid:ee()(),path:"/music/favorites",name:"Likes"},{uuid:ee()(),path:"/music/search",name:"Search"}].map(function(e){var t=e.uuid,a=e.path,n=e.name,o=window.location.pathname===a;return r.a.createElement(i.b,{key:t,className:"".concat(we.a.item," ").concat(o?we.a.active:"").trim(),to:a},n)}))},Se=a(13),je=a.n(Se),xe=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,Ce=void 0===xe?"":xe,Le=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(R.a)(this,Object(B.a)(t).call(this,e))).state={favorite:e.favorite},a}return Object(T.a)(t,e),Object(I.a)(t,[{key:"addToFav",value:function(){var e=Object(k.a)(N.a.mark(function e(){var t,a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.uuid,n=t.token,e.prev=1,e.next=4,w()("".concat(Ce,"/api/favorites/").concat(a),{method:"POST",headers:{accept:"application/vnd.moosikapp.v1+json","content-type":"application/json",authorization:"Bearer ".concat(n)}}).then(function(e){return e.data});case 4:this.setState({favorite:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"removeFromFav",value:function(){var e=Object(k.a)(N.a.mark(function e(){var t,a,n;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.uuid,n=t.token,e.prev=1,e.next=4,w()("".concat(Ce,"/api/favorites/").concat(a),{method:"DELETE",headers:{accept:"application/vnd.moosikapp.v1+json","content-type":"application/json",authorization:"Bearer ".concat(n)}}).then(function(e){return e.data});case 4:this.setState({favorite:!1}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.author,n=t.title,o=t.cover,c=t.edit,i=this.state.favorite;return r.a.createElement("div",{className:je.a.container},r.a.createElement("div",{className:je.a.cover,style:{backgroundImage:o?"url(".concat(o,")"):""}},r.a.createElement("button",{className:"".concat(je.a.button," ").concat(je.a.play),type:"button"},r.a.createElement("svg",{viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M10,16.5V7.5L16,12M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}),!1)),!o&&r.a.createElement("svg",{viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M12,3V12.26C11.5,12.09 11,12 10.5,12C8,12 6,14 6,16.5C6,19 8,21 10.5,21C13,21 15,19 15,16.5V6H19V3H12Z"}))),r.a.createElement("div",{className:je.a.titleAndAuthor},r.a.createElement("span",{className:je.a.title},n),r.a.createElement("span",{className:je.a.author},a)),r.a.createElement("div",{className:je.a.actions},c&&r.a.createElement("button",{className:"".concat(je.a.button," ").concat(je.a.action),type:"button"},r.a.createElement("svg",{className:je.a.icon,viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}))),r.a.createElement("button",{className:"".concat(je.a.button," ").concat(je.a.action),type:"button",onClick:Object(k.a)(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=4;break}return t.next=3,e.removeFromFav();case 3:return t.abrupt("return");case 4:return t.next=6,e.addToFav();case 6:case"end":return t.stop()}},t)}))},r.a.createElement("svg",{className:"".concat(je.a.icon).concat(i?" ".concat(je.a.on):""),viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"})))))}}]),t}(n.PureComponent);Le.defaultProps={cover:"",edit:!1,favorite:!0};var Ae=Object(s.b)(function(e){return{token:e.login.token}})(Le),Ie=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,Re=void 0===Ie?"":Ie,Be=function(e){return{type:"RETREIVE_SONGS_SUCCESSED",payload:e}},Te=function(e){return{type:"RETRIEVE_SONGS_ERROR",payload:e}},Ue=a(22),Pe=a.n(Ue),Fe=function(e){function t(){return Object(A.a)(this,t),Object(R.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.token;(0,e.getSongs)(t,0,100)}},{key:"render",value:function(){var e=this.props,t=e.songs,a=e.loading,n=e.error;return r.a.createElement("div",{className:Pe.a.songList},t&&t.map(function(e){return r.a.createElement(Ae,Object.assign({key:e.uuid},e))}),0===t.length&&r.a.createElement("span",{className:Pe.a.text},a&&"Loading ...",n&&"Nothing to show :("))}}]),t}(n.PureComponent),He=Object(s.b)(function(e){return{songs:e.music.songs,loading:e.music.loading,error:e.music.error,token:e.login.token}},function(e){return{getSongs:function(t,a,n){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return function(){var n=Object(k.a)(N.a.mark(function n(r){var o,c;return N.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"REQUEST_SONGS"}),n.prev=1,n.next=4,w()("".concat(Re,"/api/songs?skip=").concat(t,"&limit=").concat(a,"&scope=3"),{method:"GET",headers:{accept:"application/vnd.moosikapp.v1+json","content-type":"application/json",authorization:"Bearer ".concat(e)}}).then(function(e){return e.data});case 4:o=n.sent,c=o.songs,r(Be(c)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r(Te(n.t0.message));case 12:case"end":return n.stop()}},n,null,[[1,9]])}));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}})(Fe),De=function(e){function t(){return Object(A.a)(this,t),Object(R.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.token;(0,e.getFavoriteSongs)(t,0,100)}},{key:"render",value:function(){var e=this.props,t=e.songs,a=e.loading,n=e.error;return r.a.createElement("div",{className:Pe.a.songList},t&&t.map(function(e){return r.a.createElement(Ae,Object.assign({key:e.uuid},e))}),0===t.length&&r.a.createElement("span",{className:Pe.a.text},a&&"Loading ...",n&&"Nothing to show :("))}}]),t}(n.PureComponent),Ve=Object(s.b)(function(e){return{songs:e.music.songs,loading:e.music.loading,error:e.music.error,token:e.login.token}},function(e){return{getFavoriteSongs:function(t,a,n){return e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return function(){var n=Object(k.a)(N.a.mark(function n(r){var o,c;return N.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"REQUEST__FAVORITE_SONGS"}),n.prev=1,n.next=4,w()("".concat(Re,"/api/favorites?skip=").concat(t,"&limit=").concat(a,"&scope=2"),{method:"GET",headers:{accept:"application/vnd.moosikapp.v1+json","content-type":"application/json",authorization:"Bearer ".concat(e)}}).then(function(e){return e.data});case 4:o=n.sent,c=o.songs,r(Be(c)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),r(Te(n.t0.message));case 12:case"end":return n.stop()}},n,null,[[1,9]])}));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}})(De),Ge=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(R.a)(this,Object(B.a)(t).call(this,e))).state={searchString:""},a}return Object(T.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.clearSongs)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.songs,n=t.loading,o=t.error;return r.a.createElement("div",{className:Pe.a.wrapper},r.a.createElement("form",{className:Pe.a.findBox},r.a.createElement("input",{className:"".concat(me.a.input," ").concat(Pe.a.findInput),type:"text",placeholder:"Search",onChange:function(t){return e.setState({searchString:t.currentTarget.value})}}),r.a.createElement("input",{className:me.a.button,type:"submit",value:"Search",onClick:function(t){t.preventDefault();var a=e.props,n=a.token;(0,a.searchSongs)(n,e.state.searchString,0,100)}})),r.a.createElement("div",{className:Pe.a.songList},a&&a.map(function(e){return r.a.createElement(Ae,Object.assign({key:e.uuid},e))}),0===a.length&&r.a.createElement("span",{className:Pe.a.text},!o&&!n&&"Enter your request in the input field ...",n&&"Searching ...",o&&"No songs found.")))}}]),t}(n.PureComponent),Me=Object(s.b)(function(e){return{songs:e.music.songs,loading:e.music.loading,error:e.music.error,token:e.login.token}},function(e){return{searchSongs:function(t,a,n){return e(function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return function(){var r=Object(k.a)(N.a.mark(function r(o){var c,i;return N.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o({type:"FIND_SONGS"}),r.prev=1,r.next=4,w()("".concat(Re,"/api/songs/find?query=").concat(t,"&skip=").concat(a,"&limit=").concat(n,"&scope=3"),{method:"GET",headers:{accept:"application/vnd.moosikapp.v1+json","content-type":"application/json",authorization:"Bearer ".concat(e)}}).then(function(e){return e.data});case 4:c=r.sent,i=c.songs,o(Be(i)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),o(Te(r.t0.message));case 12:case"end":return r.stop()}},r,null,[[1,9]])}));return function(e){return r.apply(this,arguments)}}()}(t,a,n))},clearSongs:function(){return e(function(e){e({type:"CLEAR_SONGS"})})}}})(Ge),We=[{uuid:ee()(),path:"/music",component:function(){return r.a.createElement(He,null)},exact:!0},{uuid:ee()(),path:"/music/favorites",component:function(){return r.a.createElement(Ve,null)}},{uuid:ee()(),path:"/music/search",component:function(){return r.a.createElement(Me,null)}}],qe=a(66),ze=a.n(qe),Ye=function(){return r.a.createElement("div",{className:ze.a.container},r.a.createElement(Oe,null),We.map(function(e){var t=e.uuid,a=e.path,n=e.component,o=e.exact;return r.a.createElement(E.a,{key:t,path:a,component:n,exact:o})}))},Qe=a(26),Je=a.n(Qe),Ze=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,Xe=void 0===Ze?"":Ze,Ke=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(R.a)(this,Object(B.a)(t).call(this,e))).state={author:"",title:"",imageUrl:""},a.uuids={author:ee()(),title:ee()(),image:ee()()},a}return Object(T.a)(t,e),Object(I.a)(t,[{key:"updateSongInfo",value:function(){var e=Object(k.a)(N.a.mark(function e(){var t,a,n,r,o,c,i,s;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.author,n=t.title,r=t.imageUrl,o=this.props,c=o.uuid,i=o.token,e.prev=2,e.next=5,w()("".concat(Xe,"/api/songs/").concat(c),{method:"PATCH",headers:{accept:"application/vnd.moosikapp.v1+json","content-type":"application/json",authorization:"Bearer ".concat(i)},data:JSON.stringify({author:a,title:n,image:r})}).then(function(e){return e.data});case 5:s=e.sent,console.log(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.imageUrl,a=this.uuids,n=a.author,o=a.title,c=a.image;return r.a.createElement("div",{className:Je.a.basicInfo},r.a.createElement("div",{className:Je.a.image,style:{backgroundImage:t?"url(".concat(t,")"):""}},r.a.createElement("div",{className:Je.a.hover}),r.a.createElement("label",{htmlFor:c,className:Je.a.picker},r.a.createElement("span",null,"Choose image"),r.a.createElement("input",{id:c,className:Je.a.input,type:"file",accept:"image/*"}))),r.a.createElement("div",{className:Je.a.titleAndAuthor},r.a.createElement("label",{htmlFor:n,className:Je.a.label},r.a.createElement("span",null,"Author:"),r.a.createElement("input",{id:n,className:me.a.input,type:"text",onChange:function(t){return e.setState({author:t.target.value})}})),r.a.createElement("label",{htmlFor:o,className:Je.a.label},r.a.createElement("span",null,"Title:"),r.a.createElement("input",{id:o,className:me.a.input,type:"text",onChange:function(t){return e.setState({title:t.target.value})}})),r.a.createElement("div",{className:Je.a.save},r.a.createElement("button",{className:me.a.button,type:"button",onClick:function(){return e.updateSongInfo()}},"Save"))))}}]),t}(n.PureComponent),$e=Object(s.b)(function(e){return{token:e.login.token}})(Ke),et=a(37),tt=a.n(et),at=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,nt=void 0===at?"":at,rt=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(R.a)(this,Object(B.a)(t).call(this,e))).state={progress:0,uuid:""},a}return Object(T.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=Object(k.a)(N.a.mark(function e(){var t;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.file,e.next=3,this.uploadFile(t);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"uploadFile",value:function(){var e=Object(k.a)(N.a.mark(function e(t){var a,n,r,o=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.token,e.prev=1,e.next=4,w()("".concat(nt,"/api/songs"),{method:"POST",headers:{accept:"application/vnd.moosikapp.v1+json","content-type":"audio/mpeg",authorization:"Bearer ".concat(a)},data:t,onUploadProgress:function(e){var t=e.loaded,a=e.total;o.setState({progress:t/a})}}).then(function(e){return e.data});case 4:n=e.sent,r=n.uuid,this.setState({uuid:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.progress,a=e.uuid,n=this.props.file;return r.a.createElement("div",{className:tt.a.upload},r.a.createElement("div",{className:tt.a.filename},r.a.createElement("span",null,n.name)),r.a.createElement("div",{className:tt.a.body},r.a.createElement("div",{className:tt.a.progress},r.a.createElement("div",{className:tt.a.passed,style:{width:"".concat(100*t,"%")}})),a&&r.a.createElement($e,{uuid:a})))}}]),t}(n.PureComponent),ot=Object(s.b)(function(e){return{token:e.login.token}})(rt),ct=a(29),it=a.n(ct),st=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(R.a)(this,Object(B.a)(t).call(this,e))).state={drag:!1,files:[]},a.uuids={input:ee()()},a}return Object(T.a)(t,e),Object(I.a)(t,[{key:"uploadFiles",value:function(e){try{e.map(function(e){var t=e.type,a=e.size;if("audio/mp3"!==t)throw new Error("Unsupported file type.");if(a>10485760)throw new Error("File too large.");return!0}),this.setState(function(t){return{drag:!1,files:t.files.concat(e)}})}catch(t){}}},{key:"render",value:function(){var e=this,t=this.state,a=t.drag,n=t.files,o=this.uuids.input;return r.a.createElement("div",{className:it.a.container},r.a.createElement("div",{className:"".concat(it.a.form).concat(a?" ".concat(it.a.drop):""),onDrop:function(t){t.preventDefault();var a=Object.values(t.dataTransfer.files);e.uploadFiles(a)},onDragOver:function(t){t.preventDefault(),e.setState({drag:!0})},onDragLeave:function(t){t.preventDefault(),e.setState({drag:!1})}},r.a.createElement("h1",{className:it.a.title},"Drag and drop your tracks here"),r.a.createElement("label",{htmlFor:o,className:it.a.file},r.a.createElement("input",{id:o,className:it.a.input,type:"file",accept:"audio/mpeg",multiple:!0,onChange:function(t){var a=Object.values(t.target.files);e.uploadFiles(a)}}),r.a.createElement("span",null,"or choose files to upload")),r.a.createElement("div",{className:it.a.note},r.a.createElement("p",null,"Your audio file may not exceed 10 MB and has to be in MP3 format."))),n&&n.length>0&&r.a.createElement("div",{className:it.a.files},Object.values(n).map(function(e){return r.a.createElement(ot,{key:ee()(),file:e})})))}}]),t}(n.PureComponent),lt=[{uuid:ee()(),path:"/",component:function(){return r.a.createElement(se,null)},exact:!0},{uuid:ee()(),path:"/login",component:function(){return r.a.createElement(fe,null)}},{uuid:ee()(),path:"/register",component:function(){return r.a.createElement(Ee,null)}},{uuid:ee()(),path:"/forgot",component:function(){return r.a.createElement(ke,null)}},{uuid:ee()(),path:"/music",component:function(){return r.a.createElement(Ye,null)}},{uuid:ee()(),path:"/upload",component:function(){return r.a.createElement(st,null)}}],ut=a(38),pt=a.n(ut),mt=a(67),dt=a.n(mt),_t=a(68),gt=a.n(_t),ft=Object(s.b)(function(e){return{token:e.login.token}})(function(e){var t=e.token;return r.a.createElement("div",{className:pt.a.app},r.a.createElement("div",{className:pt.a.backgroundWrapper},r.a.createElement("picture",null,r.a.createElement("source",{srcSet:dt.a,type:"image/webp"}),r.a.createElement("img",{className:pt.a.background,alt:"background",src:gt.a}))),r.a.createElement("div",{className:pt.a.container},r.a.createElement(L,null),r.a.createElement("section",{className:pt.a.content,style:{marginBottom:t?"":"0"}},lt.map(function(e){var t=e.uuid,a=e.path,n=e.component,o=e.exact;return r.a.createElement(E.a,{key:t,path:a,component:n,exact:o})})),t&&r.a.createElement(K,null)))}),vt=a(36),ht=a.n(vt),Et=[{uuid:ee()(),name:"Your profile",to:"/profile"},{uuid:ee()(),name:"Music",to:"/music"},{uuid:ee()(),name:"Upload",to:"/upload"}],bt=Object(E.e)(Object(s.b)(function(e){return{visible:e.mobile.visible,token:e.login.token}},function(e){return{hide:function(){return e({type:"SHOW_MOBILE_NAV",payload:!1})},logout:function(){return e({type:"LOGOUT"})}}})(function(e){var t=e.token,a=e.visible,n=e.hide,o=e.logout,c=e.history;return r.a.createElement("div",{className:ht.a.wrapper,style:{display:a?"":"none"},onClick:function(e){e.target===e.currentTarget&&n()},role:"presentation"},a&&r.a.createElement("div",{className:ht.a.container},r.a.createElement("ul",{className:ht.a.list},t&&Et.map(function(e){var t=e.uuid,a=e.name,o=e.to;return r.a.createElement("li",{key:t},r.a.createElement(i.b,{className:ht.a.link,to:o,onClick:n},a))})),!t&&r.a.createElement(i.b,{className:ht.a.link,to:"/login",onClick:n},"Login"),t&&r.a.createElement(i.b,{className:ht.a.link,to:"?logout",onClick:function(e){e.preventDefault(),o(),window.localStorage.removeItem("token"),c.push("/"),n()}},"Logout")))})),Nt=a(52),kt=a.n(Nt),yt=function(e){var t=e.show,a=void 0!==t&&t;return r.a.createElement("div",{className:kt.a.wrapper,style:{display:a?"":"none"}},r.a.createElement("div",{className:kt.a.modal},"MESSAGE"))};a(100);c.a.render(r.a.createElement(i.a,null,r.a.createElement(s.a,{store:f},r.a.createElement(bt,null),r.a.createElement(ft,null),r.a.createElement(yt,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");v?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):h(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):h(t,e)})}}()}],[[69,1,2]]]);
//# sourceMappingURL=main.cf090bc1.chunk.js.map