{"version":3,"sources":["components/Player/player.module.css","components/Main/components/Upload/upload.module.css","components/Main/components/Register/register.module.css","components/Main/components/Login/login.module.css","components/Main/components/Music/components/Song/song.module.css","components/Header/header.module.css","components/Main/components/Forgot/forgot.module.css","components/Main/components/Status/status.module.css","components/Player/components/SoundBadge/soundBadge.module.css","components/Player/components/Timeline/timeline.module.css","components/Player/icons.svg","components/Main/components/Music/components/Song/icons.svg","components/Main/components/Music/music.module.css","components/App/app.module.css","components/Main/main.module.css","components/App/bg.jpg","actions/login.js","components/Header/index.jsx","components/Main/components/Status/index.jsx","components/Main/components/Login/index.jsx","components/Main/components/Register/index.jsx","components/Main/components/Forgot/index.jsx","actions/player.js","components/Main/components/Music/components/Song/index.jsx","components/Main/components/Music/index.jsx","components/Main/components/Upload/index.jsx","components/Main/routes.jsx","components/Main/index.jsx","components/Player/components/Timeline/index.jsx","components/Player/components/SoundBadge/index.jsx","components/Player/index.jsx","components/App/index.jsx","reducers/login.js","reducers/player.js","reducers/root.js","store/index.js","serviceWorker.js","index.jsx"],"names":["module","exports","playControls","wrapper","controls","control","controlIcon","volume","volumeWrapper","volumeBackground","volumeBar","upload","head","body","instruction","field","additionalInfo","title","fileInput","textInput","submitButton","selectedFile","error","register","link","login","right","song","cover","defaultCover","play","container","actions","button","info","author","box","left","logo","nav","forgot","status","prop","soundBadge","titleContextContainer","truncate","timeline","progressWrapper","progressBackground","progressBar","timePassed","duration","__webpack_require__","p","music","songList","warn","app","background","main","action","token","type","payload","Header","_this","this","e","preventDefault","_this$props","props","setToken","history","window","localStorage","removeItem","push","react_default","a","createElement","className","styles","react_router_dom","to","viewBox","d","onClick","logout","React","Component","connect","store","dispatch","withRouter","process","REACT_APP_API_URL","Status","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","storage","_this2","updateStatus","interval","setInterval","clearInterval","_this3","fetch","concat","method","headers","accept","content-type","then","res","json","setState","catch","toString","_this$state","filesize","totalSpace","usedSpace","maxFileSize","Login","username","password","uuids","uuidv4","_this$props2","JSON","stringify","message","setItem","_this$uuids","_e$target","target","id","value","htmlFor","placeholder","onChange","input","bind","reset","Register","email","retry","test","length","uuid","ref","Forgot","requestPasswordChange","Song","index","nowPlaying","setNowPlaying","paused","setPause","editable","playing","style","backgroundImage","role","click","xmlnsXlink","xlinkHref","icons","defaultProps","player","Music","setSongs","authorization","songs","map","components_Song","key","Upload","file","artist","fileName","x-uploaded-filename","name","files","_this$state2","routes","path","component","components_Status","exact","components_Music","components_Upload","components_Login","components_Register","components_Forgot","Main","route","react_router","slice","Timeline","_ref","moment","format","width","SoundBadge","Player","currentTime","muted","loop","audio","createRef","console","prev","current","pause","_this$props3","_this$props4","classList","contains","parentNode","r","getBoundingClientRect","v","clientY","top","height","_this$props5","_this$props6","next","repeat","fill","components_Timeline","mute","changeVolume","components_SoundBadge","autoPlay","src","url","onCanPlay","onTimeUpdate","onVolumeChange","onEnded","bg","components_Header","components_Main","components_Player","initialState","getItem","rootReducer","combineReducers","arguments","undefined","objectSpread","createStore","Boolean","location","hostname","match","ReactDOM","render","es","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e9ce895d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"playControls\":\"player_playControls__3zSMS\",\"wrapper\":\"player_wrapper__2pvXA\",\"controls\":\"player_controls__yrmwU\",\"control\":\"player_control__1GAJR\",\"controlIcon\":\"player_controlIcon__2enCG\",\"volume\":\"player_volume__3Swwg\",\"volumeWrapper\":\"player_volumeWrapper__1fz4y\",\"volumeBackground\":\"player_volumeBackground__1nr9H\",\"volumeBar\":\"player_volumeBar__64T8Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"upload\":\"upload_upload__2gDVd\",\"head\":\"upload_head__2A3iY\",\"body\":\"upload_body__1ran0\",\"instruction\":\"upload_instruction__2mNHY\",\"field\":\"upload_field__1SmGY\",\"additionalInfo\":\"upload_additionalInfo__2XUOw\",\"title\":\"upload_title__26joS\",\"fileInput\":\"upload_fileInput__3OG6N\",\"textInput\":\"upload_textInput__3_Gii\",\"submitButton\":\"upload_submitButton__eey2a\",\"selectedFile\":\"upload_selectedFile__29FyA\",\"error\":\"upload_error__2VbC4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"register\":\"register_register__3K1Qz\",\"head\":\"register_head__1AMVY\",\"body\":\"register_body__1iskS\",\"field\":\"register_field__3uUA2\",\"textInput\":\"register_textInput__BhK6k\",\"submitButton\":\"register_submitButton__1XgYC\",\"link\":\"register_link__KC47u\",\"error\":\"register_error__SYCt0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__KNSyK\",\"head\":\"login_head__2qiIv\",\"body\":\"login_body__3wG4D\",\"field\":\"login_field__21SYK\",\"right\":\"login_right__2EU-W\",\"textInput\":\"login_textInput__2Kmaj\",\"submitButton\":\"login_submitButton__3uEsL\",\"link\":\"login_link__QwjVM\",\"error\":\"login_error__37faC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"song\":\"song_song__1MoGw\",\"cover\":\"song_cover__1Z4fR\",\"defaultCover\":\"song_defaultCover__1Scdp\",\"play\":\"song_play__3MQc2\",\"container\":\"song_container__16ZNc\",\"actions\":\"song_actions__2A91g\",\"button\":\"song_button__sSeHU\",\"info\":\"song_info__jIaQd\",\"title\":\"song_title__2OYyJ\",\"author\":\"song_author__2GBdg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"header_box__1usNr\",\"container\":\"header_container__lX8hc\",\"left\":\"header_left__oqI23\",\"logo\":\"header_logo__2Sn9n\",\"nav\":\"header_nav__29j8I\",\"link\":\"header_link__3JPaZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forgot\":\"forgot_forgot__6N7KH\",\"head\":\"forgot_head__3pS99\",\"body\":\"forgot_body__3AacY\",\"instruction\":\"forgot_instruction__PGYWn\",\"field\":\"forgot_field__3U1Yy\",\"textInput\":\"forgot_textInput__3O7zC\",\"submitButton\":\"forgot_submitButton__3CaVw\",\"error\":\"forgot_error__FFRMY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"status_status__1dbQM\",\"head\":\"status_head__dMJh8\",\"body\":\"status_body__3W00t\",\"prop\":\"status_prop__2iTYX\",\"error\":\"status_error__9tzak\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"soundBadge\":\"soundBadge_soundBadge__hUvOb\",\"cover\":\"soundBadge_cover__3DUfa\",\"titleContextContainer\":\"soundBadge_titleContextContainer__8tE46\",\"title\":\"soundBadge_title__3Wt33\",\"author\":\"soundBadge_author__2z1MH\",\"truncate\":\"soundBadge_truncate__3U-6n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeline\":\"timeline_timeline__3ng4V\",\"progressWrapper\":\"timeline_progressWrapper__2Mxxn\",\"progressBackground\":\"timeline_progressBackground__VsvSl\",\"progressBar\":\"timeline_progressBar__2sPc6\",\"timePassed\":\"timeline_timePassed__pmNyr\",\"duration\":\"timeline_duration__1I6eB\"};","module.exports = __webpack_public_path__ + \"static/media/icons.229871f7.svg\";","module.exports = __webpack_public_path__ + \"static/media/icons.1ac17924.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"music\":\"music_music__2H0ii\",\"head\":\"music_head__15ijt\",\"songList\":\"music_songList__1p17f\",\"error\":\"music_error__3-l_i\",\"warn\":\"music_warn__1ax-M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__12nIj\",\"background\":\"app_background__2Zzp2\",\"container\":\"app_container__6cU4e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"main_main__3rTl_\"};","module.exports = __webpack_public_path__ + \"static/media/bg.35f444d6.jpg\";","const action = token => ({\n  type: 'SET_TOKEN',\n  payload: token,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport action from '../../actions/login';\n\nimport styles from './header.module.css';\n\nclass Header extends React.Component {\n  logout() {\n    return (e) => {\n      e.preventDefault();\n\n      const { setToken, history } = this.props;\n\n      setToken('');\n      window.localStorage.removeItem('token');\n      history.push('/login');\n    };\n  }\n\n  render() {\n    const { token } = this.props;\n\n    return (\n      <header className={styles.box}>\n        <div className={styles.container}>\n          <div className={styles.left}>\n            <Link className={styles.logo} to=\"/\">\n              <svg viewBox=\"0 0 48 48\">\n                <path d=\"M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h8v2H24v4h12c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z\" />\n              </svg>\n            </Link>\n            {token && (\n              <nav className={styles.nav}>\n                <Link className={styles.link} to=\"/music\">Music</Link>\n                <Link className={styles.link} to=\"/upload\">Upload</Link>\n              </nav>\n            )}\n          </div>\n          {!token && <Link className={styles.link} to=\"/login\">Login</Link>}\n          {token && <Link className={styles.link} to=\"?logout\" onClick={this.logout()}>Logout</Link>}\n        </div>\n      </header>\n    );\n  }\n}\n\nHeader.propTypes = {\n  token: PropTypes.string.isRequired,\n  setToken: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setToken: token => dispatch(action(token)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header));\n","import React from 'react';\nimport filesize from 'filesize';\n\nimport styles from './status.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Status extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      storage: null, error: null,\n    };\n  }\n\n  componentDidMount() {\n    this.updateStatus();\n    this.interval = setInterval(() => this.updateStatus(), 300000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  updateStatus() {\n    fetch(`${REACT_APP_API_URL}/api/status`, {\n      method: 'GET',\n      headers: {\n        accept: 'application/vnd.moosik.v1+json',\n        'content-type': 'application/json',\n      },\n    })\n      .then(res => res.json())\n      .then((res) => {\n        const { storage } = res;\n\n        this.setState({ storage });\n      })\n      .catch(error => this.setState({ error: error.toString() }));\n  }\n\n  render() {\n    const { storage, error } = this.state;\n\n    return (\n      <section className={styles.status}>\n        <h1 className={styles.head}>Storage Status</h1>\n        {storage && (\n          <div className={styles.body}>\n            <p className={styles.prop}>\n              Total Space:&ensp;\n              <span>{filesize(storage.totalSpace)}</span>\n            </p>\n            <p className={styles.prop}>\n              Used Space:&ensp;\n              <span>{filesize(storage.usedSpace)}</span>\n            </p>\n            <p className={styles.prop}>\n              Max File Size:&ensp;\n              <span>{filesize(storage.maxFileSize)}</span>\n            </p>\n          </div>\n        )}\n        {error && <p className={styles.error}>{error}</p>}\n      </section>\n    );\n  }\n}\n\nexport default Status;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport action from '../../../../actions/login';\n\nimport styles from './login.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: null, password: null, error: null,\n    };\n\n    this.uuids = {\n      username: uuidv4(), password: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  login(e) {\n    e.preventDefault();\n\n    const { setToken, history } = this.props;\n\n    const { username, password } = this.state;\n\n    fetch(`${REACT_APP_API_URL}/api/login`, {\n      method: 'POST',\n      headers: {\n        accept: 'application/vnd.moosik.v1+json',\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify({ username, password }),\n    })\n      .then(res => res.json())\n      .then((res) => {\n        const { token, message } = res;\n\n        if (!token) {\n          this.setState({ error: message });\n          return;\n        }\n\n        setToken(token);\n        window.localStorage.setItem('token', token);\n        history.push('/');\n      })\n      .catch(error => this.setState({ error: error.toString() }));\n  }\n\n  input(e) {\n    e.preventDefault();\n\n    const { username, password } = this.uuids;\n\n    const { id, value } = e.target;\n    switch (id) {\n      case username:\n        this.setState({ username: value });\n        break;\n      case password:\n        this.setState({ password: value });\n        break;\n      default:\n    }\n  }\n\n  reset() {\n    this.setState({ error: null });\n  }\n\n  render() {\n    const { error } = this.state;\n\n    const { uuids } = this;\n\n    return (\n      <section className={styles.login}>\n        <h1 className={styles.head}>Login</h1>\n        <form className={styles.body}>\n          <label htmlFor={uuids.username} className={styles.field}>\n            <input\n              id={uuids.username}\n              className={styles.textInput}\n              type=\"text\"\n              placeholder=\"Username / Email\"\n              onChange={this.input.bind(this)}\n              onClick={this.reset.bind(this)}\n            />\n          </label>\n          <label htmlFor={uuids.password} className={styles.field}>\n            <input\n              id={uuids.password}\n              className={styles.textInput}\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={this.input.bind(this)}\n              onClick={this.reset.bind(this)}\n            />\n          </label>\n          <div className={styles.field}>\n            <Link className={styles.link} to=\"/forgot\">Forgot your password?</Link>\n            <div className={styles.right}>\n              <Link className={styles.link} to=\"/register\">Need an account?</Link>\n              <input\n                className={styles.submitButton}\n                type=\"submit\"\n                value=\"Login\"\n                onClick={this.login.bind(this)}\n              />\n            </div>\n          </div>\n        </form>\n        {error && <p className={styles.error}>{error}</p>}\n      </section>\n    );\n  }\n}\n\nLogin.propTypes = {\n  token: PropTypes.string.isRequired,\n  setToken: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setToken: token => dispatch(action(token)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Login));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\n\nimport styles from './register.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: null, email: null, password: null, retry: null, error: null,\n    };\n\n    this.uuids = {\n      username: uuidv4(), email: uuidv4(), password: uuidv4(), retry: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  register(e) {\n    e.preventDefault();\n\n    const { history } = this.props;\n\n    const {\n      username, email, password, retry,\n    } = this.state;\n\n    if (!/[a-zA-Z0-9\\-_]/.test(username)) {\n      this.setState({\n        error: 'Username must contain only English characters, numbers, dot, dash or underline.',\n      });\n      return;\n    }\n\n    if (password.length < 8) {\n      this.setState({\n        error: 'Password too short. Use 8 or more characters.',\n      });\n      return;\n    }\n\n    if (password !== retry) {\n      this.setState({ error: 'Passwords don\\'t match.' });\n      return;\n    }\n\n    fetch(`${REACT_APP_API_URL}/api/register`, {\n      method: 'POST',\n      headers: {\n        accept: 'application/vnd.moosik.v1+json',\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify({ username, email, password }),\n    })\n      .then(res => res.json())\n      .then((res) => {\n        const { uuid, message } = res;\n\n        if (!uuid) {\n          this.setState({ error: message });\n          return;\n        }\n\n        history.push('/login');\n      })\n      .catch(error => this.setState({ error: error.toString() }));\n  }\n\n  input(e) {\n    e.preventDefault();\n\n    const {\n      username, email, password, retry,\n    } = this.uuids;\n\n    const { id, value } = e.target;\n    switch (id) {\n      case username:\n        this.setState({ username: value });\n        break;\n      case email:\n        this.setState({ email: value });\n        break;\n      case password:\n        this.setState({ password: value });\n        break;\n      case retry:\n        this.setState({ retry: value });\n        break;\n      default:\n    }\n  }\n\n  reset() {\n    this.setState({ error: null });\n  }\n\n  render() {\n    const { error } = this.state;\n\n    const { uuids } = this;\n\n    return (\n      <section className={styles.register}>\n        <h1 className={styles.head}>Register</h1>\n        <form className={styles.body}>\n          <label htmlFor={uuids.username} className={styles.field}>\n            <input\n              ref={this.username}\n              id={uuids.username}\n              className={styles.textInput}\n              type=\"text\"\n              placeholder=\"Username\"\n              onChange={this.input.bind(this)}\n              onClick={this.reset.bind(this)}\n            />\n          </label>\n          <label htmlFor={uuids.email} className={styles.field}>\n            <input\n              ref={this.email}\n              id={uuids.email}\n              className={styles.textInput}\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={this.input.bind(this)}\n              onClick={this.reset.bind(this)}\n            />\n          </label>\n          <label htmlFor={uuids.password} className={styles.field}>\n            <input\n              ref={this.password}\n              id={uuids.password}\n              className={styles.textInput}\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={this.input.bind(this)}\n              onClick={this.reset.bind(this)}\n            />\n          </label>\n          <label htmlFor={uuids.retry} className={styles.field}>\n            <input\n              ref={this.retry}\n              id={uuids.retry}\n              className={styles.textInput}\n              type=\"password\"\n              placeholder=\"Re-type Password\"\n              onChange={this.input.bind(this)}\n              onClick={this.reset.bind(this)}\n            />\n          </label>\n          <div className={styles.field}>\n            <Link className={styles.link} to=\"/login\">Already have account?</Link>\n            <input\n              className={styles.submitButton}\n              type=\"submit\"\n              value=\"Register\"\n              onClick={this.register.bind(this)}\n            />\n          </div>\n        </form>\n        {error && <p className={styles.error}>{error}</p>}\n      </section>\n    );\n  }\n}\n\nRegister.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nexport default connect(mapStateToProps)(withRouter(Register));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\n\nimport styles from './forgot.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Forgot extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: null, error: null,\n    };\n\n    this.uuids = {\n      email: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  requestPasswordChange(e) {\n    e.preventDefault();\n\n    const { email } = this.state;\n\n    if (!/^\\w+[\\w-.]*@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$/.test(email)) {\n      this.setState({ error: 'Invalid email.' });\n      return;\n    }\n\n    fetch(`${REACT_APP_API_URL}/api/forgot`, {\n      method: 'POST',\n      headers: {\n        accept: 'application/vnd.moosik.v1+json',\n        'content-type': 'application/json',\n      },\n      body: JSON.stringify({ email }),\n    })\n      .then(res => res.json())\n      .then((res) => {\n        this.setState({ error: res.message });\n      })\n      .catch(error => this.setState({ error: error.toString() }));\n  }\n\n  input(e) {\n    e.preventDefault();\n\n    this.setState({ email: e.target.value });\n  }\n\n  reset() {\n    this.setState({ error: null });\n  }\n\n  render() {\n    const { error } = this.state;\n\n    const { uuids } = this;\n\n    return (\n      <section className={styles.forgot}>\n        <h1 className={styles.head}>Forgot</h1>\n        <form className={styles.body}>\n          <div className={styles.instruction}>\n            <p>To request a new password please enter your account email in the box below.</p>\n            <p>We will send you an email with further instructions.</p>\n          </div>\n          <label htmlFor={uuids.email} className={styles.field}>\n            <input\n              ref={this.email}\n              id={uuids.email}\n              className={styles.textInput}\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={this.input.bind(this)}\n              onClick={this.reset.bind(this)}\n            />\n          </label>\n          <div className={styles.field}>\n            <input\n              className={styles.submitButton}\n              type=\"submit\"\n              value=\"Request Password Change\"\n              onClick={this.requestPasswordChange.bind(this)}\n            />\n          </div>\n        </form>\n        {error && <p className={styles.error}>{error}</p>}\n      </section>\n    );\n  }\n}\n\nForgot.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nexport default connect(mapStateToProps)(withRouter(Forgot));\n","export const actions = {\n  SET_SONGS: 'SET_SONGS',\n  SET_NOW_PLAYING: 'SET_NP',\n  SET_PAUSE: 'SET_PAUSE',\n};\n\nconst action = (type, value) => ({\n  type,\n  payload: value,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\n\nimport styles from './song.module.css';\n\nimport icons from './icons.svg';\n\nclass Song extends React.Component {\n  click() {\n    const {\n      index, nowPlaying, setNowPlaying, paused, setPause,\n    } = this.props;\n\n    if (index !== nowPlaying) {\n      setNowPlaying(index);\n      return;\n    }\n\n    setPause(!paused);\n  }\n\n  render() {\n    const {\n      author, title, cover, editable, index, nowPlaying, paused,\n    } = this.props;\n\n    const playing = (index === nowPlaying) && !paused;\n\n    return (\n      <div className={styles.song}>\n        <div\n          className={styles.cover}\n          style={{ backgroundImage: `url(${cover})` }}\n          role=\"presentation\"\n          onClick={this.click.bind(this)}\n        >\n          {!cover && (\n            <svg className={styles.defaultCover}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#defaultCover`} />\n            </svg>\n          )}\n          <svg className={styles.play}>\n            <use\n              xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n              xlinkHref={`${icons}#${playing ? 'pause' : 'play'}`}\n            />\n          </svg>\n        </div>\n        <div className={styles.container}>\n          <div className={styles.info}>\n            <div className={styles.title}>{title}</div>\n            <div className={styles.author}>{author}</div>\n          </div>\n          <div className={styles.actions}>\n            <svg className={styles.button}>\n              <use\n                xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n                xlinkHref={`${icons}#${true ? 'select' : 'deselect'}`}\n              />\n            </svg>\n            {editable && (\n              <svg className={styles.button}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#edit`} />\n              </svg>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSong.defaultProps = {\n  cover: null,\n  editable: false,\n};\n\nSong.propTypes = {\n  author: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  cover: PropTypes.string,\n  index: PropTypes.number.isRequired,\n  editable: PropTypes.bool,\n  nowPlaying: PropTypes.number.isRequired,\n  setNowPlaying: PropTypes.func.isRequired,\n  paused: PropTypes.bool.isRequired,\n  setPause: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  nowPlaying: store.player.nowPlaying,\n  paused: store.player.paused,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setNowPlaying: nowPlaying => dispatch(action(actions.SET_NOW_PLAYING, nowPlaying)),\n  setPause: paused => dispatch(action(actions.SET_PAUSE, paused)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Song);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../actions/player';\nimport Song from './components/Song';\n\nimport styles from './music.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Music extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: null,\n    };\n  }\n\n  componentDidMount() {\n    const { token, setSongs } = this.props;\n\n    fetch(`${REACT_APP_API_URL}/api/songs`, {\n      method: 'GET',\n      headers: {\n        accept: 'application/vnd.moosik.v1+json',\n        'content-type': 'application/json',\n        authorization: `Bearer ${token}`,\n      },\n    })\n      .then(res => res.json())\n      .then((res) => {\n        const { message, songs } = res;\n\n        if (!songs) {\n          this.setState({ error: message });\n          return;\n        }\n\n        setSongs(songs);\n      })\n      .catch(error => this.setState({ error: error.toString() }));\n  }\n\n  render() {\n    const { songs } = this.props;\n    const { error } = this.state;\n\n    return (\n      <section className={styles.music}>\n        <h1 className={styles.head}>All Music</h1>\n        <div className={styles.songList}>\n          {songs.map((song, index) => (\n            <Song\n              key={song.uuid}\n              author={song.author}\n              title={song.title}\n              cover={song.cover}\n              index={index}\n            />\n          ))}\n        </div>\n        {error && <p className={styles.error}>{error}</p>}\n      </section>\n    );\n  }\n}\n\nMusic.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Music);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\n\nimport styles from './upload.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      file: null, artist: null, title: null, fileName: null, error: null,\n    };\n\n    this.uuids = {\n      file: uuidv4(), artist: uuidv4(), title: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (!token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  upload(e) {\n    e.preventDefault();\n\n    const { token } = this.props;\n\n    const { file, artist, title } = this.state;\n\n    fetch(`${REACT_APP_API_URL}/api/songs`, {\n      method: 'PUT',\n      headers: {\n        accept: 'application/vnd.moosik.v1+json',\n        'content-type': 'audio/mpeg',\n        authorization: `Bearer ${token}`,\n        'x-uploaded-filename': artist && title ? `${artist} - ${title}` : file.name,\n      },\n      body: file,\n    })\n      .then(res => res.json())\n      .then((res) => {\n        const { uuid, message } = res;\n\n        if (!uuid) {\n          this.setState({ error: message });\n          return;\n        }\n\n        this.setState({ error: message });\n      })\n      .catch(error => this.setState({ error: error.toString() }));\n  }\n\n  input(e) {\n    e.preventDefault();\n\n    const { file, artist, title } = this.uuids;\n\n    const { id, value, files } = e.target;\n    switch (id) {\n      case file: {\n        const { name } = files[0];\n        this.setState({ fileName: name });\n\n        this.setState({ file: files[0] });\n        break;\n      }\n      case artist:\n        this.setState({ artist: value });\n        break;\n      case title:\n        this.setState({ title: value });\n        break;\n      default:\n    }\n  }\n\n  render() {\n    const { fileName, error } = this.state;\n\n    const { uuids } = this;\n\n    return (\n      <section className={styles.upload}>\n        <h1 className={styles.head}>Upload</h1>\n        <div className={styles.instruction}>\n          <p>Your audio file may not exceed 10 MB and has to be in MP3 format.</p>\n        </div>\n        <form className={styles.body}>\n          <div className={styles.field}>\n            {fileName && <span className={styles.selectedFile}>{fileName}</span>}\n            <label className={styles.fileInput} htmlFor={uuids.file}>\n              <input\n                ref={this.file}\n                id={uuids.file}\n                type=\"file\"\n                accept=\"audio/mpeg\"\n                onChange={this.input.bind(this)}\n              />\n              <span>Choose File</span>\n            </label>\n          </div>\n          <div className={styles.additionalInfo}>\n            <h3 className={styles.title}>Additional Information</h3>\n            <label htmlFor={uuids.artist} className={styles.field}>\n              <input\n                ref={this.artist}\n                id={uuids.artist}\n                className={styles.textInput}\n                type=\"text\"\n                placeholder=\"Artist (Optional)\"\n                onChange={this.input.bind(this)}\n              />\n            </label>\n            <label htmlFor={uuids.title} className={styles.field}>\n              <input\n                ref={this.title}\n                id={uuids.title}\n                className={styles.textInput}\n                type=\"text\"\n                placeholder=\"Name (Optional)\"\n                onChange={this.input.bind(this)}\n              />\n            </label>\n          </div>\n          <div className={styles.field}>\n            <input\n              className={styles.submitButton}\n              type=\"submit\"\n              value=\"Upload\"\n              onClick={this.upload.bind(this)}\n            />\n          </div>\n        </form>\n        {error && <p className={styles.error}>{error}</p>}\n      </section>\n    );\n  }\n}\n\nUpload.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nexport default connect(mapStateToProps)(withRouter(Upload));\n","import React from 'react';\nimport Status from './components/Status';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Forgot from './components/Forgot';\nimport Music from './components/Music';\nimport Upload from './components/Upload';\n\nconst routes = [\n  {\n    path: '/',\n    component: () => <Status />,\n    exact: true,\n  },\n  {\n    path: '/music',\n    component: () => <Music />,\n  },\n  {\n    path: '/upload',\n    component: () => <Upload />,\n  },\n  {\n    path: '/login',\n    component: () => <Login />,\n  },\n  {\n    path: '/register',\n    component: () => <Register />,\n  },\n  {\n    path: '/forgot',\n    component: () => <Forgot />,\n  },\n];\n\nexport default routes;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport routes from './routes';\n\nimport styles from './main.module.css';\n\nconst Main = () => (\n  <div className={styles.main}>\n    {routes.map(route => (\n      <Route\n        key={route.path.slice(1)}\n        path={route.path}\n        component={route.component}\n        exact={route.exact}\n      />\n    ))}\n  </div>\n);\n\nexport default Main;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport styles from './timeline.module.css';\n\nconst Timeline = ({ timePassed, duration }) => (\n  <div className={styles.timeline}>\n    <div className={styles.timePassed}>{moment(timePassed * 1000).format('mm:ss')}</div>\n    <div className={styles.progressWrapper}>\n      <div className={styles.progressBackground}>\n        <div className={styles.progressBar} style={{ width: `${timePassed / duration * 100}%` }} />\n      </div>\n    </div>\n    <div className={styles.duration}>{moment(duration * 1000).format('mm:ss')}</div>\n  </div>\n);\n\nTimeline.propTypes = {\n  timePassed: PropTypes.number.isRequired,\n  duration: PropTypes.number.isRequired,\n};\n\nexport default Timeline;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './soundBadge.module.css';\n\nconst SoundBadge = ({ author, title, cover }) => (\n  <div className={styles.soundBadge}>\n    <div className={styles.cover} style={{ backgroundImage: `url(${cover})` }} />\n    <div className={styles.titleContextContainer}>\n      <span className={`${styles.title} ${styles.truncate}`}>{title}</span>\n      <span className={`${styles.author} ${styles.truncate}`}>{author}</span>\n    </div>\n  </div>\n);\n\nSoundBadge.defaultProps = {\n  author: 'No Author',\n  title: 'No Title',\n  cover: '',\n};\n\nSoundBadge.propTypes = {\n  author: PropTypes.string,\n  title: PropTypes.string,\n  cover: PropTypes.string,\n};\n\nexport default SoundBadge;\n","import React, { createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../actions/player';\nimport Timeline from './components/Timeline';\nimport SoundBadge from './components/SoundBadge';\n\nimport styles from './player.module.css';\n\nimport icons from './icons.svg';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Player extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      song: {}, currentTime: 0, duration: 0, volume: 1, muted: false, loop: false,\n    };\n\n    this.audio = createRef();\n  }\n\n  componentDidMount() {\n    const { token, setSongs } = this.props;\n\n    fetch(`${REACT_APP_API_URL}/api/songs`, {\n      method: 'GET',\n      headers: {\n        accept: 'application/vnd.moosik.v1+json',\n        'content-type': 'application/json',\n        authorization: `Bearer ${token}`,\n      },\n    })\n      .then(res => res.json())\n      .then((res) => {\n        const { message, songs } = res;\n\n        if (!songs) {\n          console.error(message);\n          return;\n        }\n\n        setSongs(songs);\n      })\n      .catch(console.error);\n  }\n\n  componentDidUpdate(prev) {\n    const {\n      token, songs, nowPlaying, paused,\n    } = this.props;\n\n    if (!songs.length) {\n      return;\n    }\n\n    if (prev.nowPlaying !== nowPlaying) {\n      fetch(`${REACT_APP_API_URL}/api/songs/${songs[nowPlaying].uuid}`, {\n        method: 'GET',\n        headers: {\n          accept: 'application/vnd.moosik.v1+json',\n          'content-type': 'application/json',\n          authorization: `Bearer ${token}`,\n        },\n      })\n        .then(res => res.json())\n        .then((res) => {\n          const { message, song } = res;\n\n          if (!song) {\n            console.error(message);\n            return;\n          }\n\n          this.setState({ song });\n        })\n        .catch(console.error);\n\n      return;\n    }\n\n    if (prev.paused !== paused) {\n      const audio = this.audio.current;\n\n      if (paused) {\n        audio.pause();\n      } else {\n        audio.play();\n      }\n    }\n  }\n\n  onCanPlay(e) {\n    const { setPause } = this.props;\n\n    setPause(e.target.paused);\n  }\n\n  onTimeUpdate(e) {\n    const { currentTime, duration } = e.target;\n\n    this.setState({ currentTime, duration });\n  }\n\n  onVolumeChange(e) {\n    const { volume } = e.target;\n\n    this.setState({ volume });\n  }\n\n  onEnded() {\n    const { songs, nowPlaying, setNowPlaying } = this.props;\n\n    if (nowPlaying < songs.length - 1) {\n      setNowPlaying(nowPlaying + 1);\n    }\n  }\n\n  play() {\n    const {\n      nowPlaying, setNowPlaying, paused, setPause,\n    } = this.props;\n\n    if (nowPlaying === -1) {\n      setNowPlaying(nowPlaying === -1 ? 0 : nowPlaying);\n      return;\n    }\n\n    setPause(!paused);\n  }\n\n  mute() {\n    this.setState(prev => ({ muted: !prev.muted }));\n  }\n\n  changeVolume(e) {\n    let { target } = e;\n    if (target.classList.contains(styles.volumeBar)) {\n      target = target.parentNode;\n    }\n\n    const r = target.getBoundingClientRect();\n    const v = (e.clientY - r.top) / r.height;\n\n    if ((v < 0) || (v > 1)) return;\n\n    const audio = this.audio.current;\n    audio.volume = v;\n  }\n\n  repeat() {\n    this.setState(prev => ({ loop: !prev.loop }));\n  }\n\n  prev() {\n    const { nowPlaying, setNowPlaying } = this.props;\n    if (nowPlaying > 0) {\n      setNowPlaying(nowPlaying - 1);\n    }\n  }\n\n  next() {\n    const { songs, nowPlaying, setNowPlaying } = this.props;\n    if (nowPlaying < songs.length - 1) {\n      setNowPlaying(nowPlaying + 1);\n    }\n  }\n\n  render() {\n    const { paused } = this.props;\n    const {\n      song, currentTime, duration, muted, loop, volume,\n    } = this.state;\n\n    return (\n      <div className={styles.playControls}>\n        <section className={styles.wrapper}>\n          <div className={styles.controls}>\n            <button type=\"button\" className={styles.control} onClick={this.prev.bind(this)}>\n              <svg className={styles.controlIcon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#prev`} />\n              </svg>\n            </button>\n            <button type=\"button\" className={styles.control} onClick={this.play.bind(this)}>\n              <svg className={styles.controlIcon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#${paused ? 'play' : 'pause'}`} />\n              </svg>\n            </button>\n            <button type=\"button\" className={styles.control} onClick={this.next.bind(this)}>\n              <svg className={styles.controlIcon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#next`} />\n              </svg>\n            </button>\n            <button type=\"button\" className={styles.control} onClick={this.repeat.bind(this)}>\n              <svg className={styles.controlIcon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#repeat`} style={{ fill: loop ? 'var(--red-dark)' : '' }} />\n              </svg>\n            </button>\n          </div>\n          <Timeline timePassed={currentTime} duration={duration} />\n          <div className={`${styles.controls} ${styles.volume}`}>\n            <button type=\"button\" className={styles.control} onClick={this.mute.bind(this)}>\n              <svg className={styles.controlIcon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#${muted ? 'mute' : 'volume'}`} />\n              </svg>\n            </button>\n            <div className={styles.volumeWrapper} role=\"presentation\" onClick={this.changeVolume.bind(this)}>\n              <div className={styles.volumeBackground}>\n                <div className={styles.volumeBar} style={{ height: `${100 * volume}%` }} />\n              </div>\n            </div>\n          </div>\n          <SoundBadge author={song.author} title={song.title} cover={song.cover} />\n          <audio\n            ref={this.audio}\n            autoPlay\n            src={song.url}\n            muted={muted}\n            loop={loop}\n            onCanPlay={this.onCanPlay.bind(this)}\n            onTimeUpdate={this.onTimeUpdate.bind(this)}\n            onVolumeChange={this.onVolumeChange.bind(this)}\n            onEnded={this.onEnded.bind(this)}\n          />\n        </section>\n      </div>\n    );\n  }\n}\n\nPlayer.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n  nowPlaying: PropTypes.number.isRequired,\n  setNowPlaying: PropTypes.func.isRequired,\n  paused: PropTypes.bool.isRequired,\n  setPause: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n  nowPlaying: store.player.nowPlaying,\n  paused: store.player.paused,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n  setNowPlaying: nowPlaying => dispatch(action(actions.SET_NOW_PLAYING, nowPlaying)),\n  setPause: paused => dispatch(action(actions.SET_PAUSE, paused)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Player);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport Header from '../Header';\nimport Main from '../Main';\nimport Player from '../Player';\n\nimport styles from './app.module.css';\n\nimport bg from './bg.jpg';\n\nconst App = ({ token }) => (\n  <div className={styles.app}>\n    <div className={styles.background} style={{ backgroundImage: `url(${bg})` }} />\n    <main className={styles.container}>\n      <BrowserRouter>\n        <Header />\n        <Main />\n      </BrowserRouter>\n      {token && <Player />}\n    </main>\n  </div>\n);\n\nApp.propTypes = {\n  token: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nexport default connect(mapStateToProps)(App);\n","const initialState = {\n  token: window.localStorage.getItem('token') || '',\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_TOKEN':\n      return { ...state, token: action.payload };\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  songs: [],\n  nowPlaying: -1,\n  paused: true,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_SONGS':\n      return { ...state, songs: action.payload };\n    case 'SET_NP':\n      return { ...state, nowPlaying: action.payload };\n    case 'SET_PAUSE':\n      return { ...state, paused: action.payload };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport login from './login';\nimport player from './player';\n\nconst rootReducer = combineReducers({\n  login, player,\n});\n\nexport default rootReducer;\n","import { createStore } from 'redux';\nimport rootReducer from '../reducers/root';\n\nconst store = createStore(rootReducer);\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/App';\nimport store from './store';\nimport * as serviceWorker from './serviceWorker';\n\nimport './layouts/default.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}