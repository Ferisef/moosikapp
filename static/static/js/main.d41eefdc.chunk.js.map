{"version":3,"sources":["components/Player/player.module.css","components/Main/components/Music/components/Song/song.module.css","components/Main/components/Register/register.module.css","components/Main/components/Login/login.module.css","components/Header/header.module.css","components/Main/components/Upload/upload.module.css","components/Main/components/Forgot/forgot.module.css","components/Main/components/Upload/components/SongEdit/songEdit.module.css","components/Player/components/SoundBadge/soundBadge.module.css","components/Main/components/Status/status.module.css","components/Player/components/Timeline/timeline.module.css","components/Player/icons.svg","components/Main/components/Music/components/Song/icons.svg","components/Main/components/Music/components/Find/find.module.css","components/Player/components/VolumeSlider/volumeSlider.module.css","components/Main/components/Music/components/Nav/nav.module.css","components/Modal/modal.module.css","components/App/app.module.css","components/Main/components/Music/music.module.css","components/Main/main.module.css","components/App/bg.jpg","actions/login.js","components/Header/index.jsx","actions/error.js","components/Main/components/Status/index.jsx","components/Main/components/Login/index.jsx","components/Main/components/Register/index.jsx","components/Main/components/Forgot/index.jsx","components/Main/components/Music/components/Nav/index.jsx","actions/player.js","components/Main/components/Music/components/Song/index.jsx","components/Main/components/Music/components/All/index.jsx","components/Main/components/Music/components/Favorites/index.jsx","components/Main/components/Music/components/Find/index.jsx","components/Main/components/Music/routes.jsx","components/Main/components/Music/index.jsx","components/Main/components/Upload/components/SongEdit/index.jsx","components/Main/components/Upload/index.jsx","components/Main/routes.jsx","components/Main/index.jsx","components/Player/components/Timeline/index.jsx","components/Player/components/VolumeSlider/index.jsx","components/Player/components/SoundBadge/index.jsx","components/Player/index.jsx","components/Modal/index.jsx","components/App/index.jsx","reducers/login.js","reducers/player.js","reducers/error.js","reducers/root.js","store/index.js","serviceWorker.js","index.jsx"],"names":["module","exports","player","wrapper","controls","control","icon","active","volume","track","cover","defaultCover","button","play","content","actions","action","info","title","author","register","main","inputWrapper","right","input","submit","link","login","inner","left","logoLink","logo","navWrapper","container","dragOver","progressWrapper","progressBar","uploader","file","fileInput","note","fileName","forgot","songEdit","soundBadge","titleContextContainer","truncate","status","body","item","timeline","progressBackground","timePassed","duration","__webpack_require__","p","findBox","slider","background","bar","modal","message","app","modalWrapper","token","type","payload","Header","_this","this","e","preventDefault","_this$props","props","setToken","history","window","localStorage","removeItem","push","react_default","a","createElement","className","styles","react_router_dom","to","viewBox","d","onClick","logout","React","Component","connect","store","dispatch","withRouter","process","REACT_APP_API_URL","Status","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","disk","updateStatus","interval","setInterval","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","_this2","stop","clearInterval","setError","uri","headers","accept","content-type","fetch","method","then","r","json","Error","setState","_context3","t0","filesize","totalSpace","usedSpace","maxFileSize","errAction","Login","username","password","uuids","uuidv4","JSON","stringify","setItem","htmlFor","id","placeholder","onChange","target","value","bind","Register","email","retry","test","uuid","ref","Forgot","requestPasswordChange","Nav","_ref","items","map","key","toLowerCase","concat","location","pathname","path","Song","favorite","index","np","setNP","pause","setPause","deleteFromFavorite","addToFavorite","authorization","_context2","_this$props4","edit","icons","style","backgroundImage","xmlnsXlink","xlinkHref","onPlayClick","decodeURI","onLikeClick","fill","defaultProps","nowPlaying","paused","All","setSongs","songs","Fragment","song","i","components_Song","Favorites","Find","query","findSongs","routes","component","components_All","exact","components_Favorites","components_Find","navItems","Music","components_Nav","route","react_router","slice","Upload","_this$uuids","update","progress","songUuid","files","name","upload","dataTransfer","_this$props2","size","xhr","XMLHttpRequest","open","setRequestHeader","onload","_JSON$parse","parse","response","onerror","onprogress","loaded","total","send","_this$state","onDrop","onDragOver","onDragLeave","width","SongEdit","components_Status","components_Music","components_Upload","components_Login","components_Register","components_Forgot","Main","Timeline","currentTarget","getBoundingClientRect","clientX","currentTime","moment","format","role","aria-valuemax","aria-valuemin","aria-valuenow","tabIndex","onKeyDown","VolumeSlider","clientY","top","height","SoundBadge","Player","loop","shuffle","muted","audio","createRef","length","loadSong","current","document","Math","round","random","_this$props3","onClickControl","components_Timeline","components_VolumeSlider","components_SoundBadge","src","url","onLoadedMetadata","onCanPlay","onTimeUpdate","onVolumeChange","onEnded","Modal","clearError","setTimeout","error","bg","components_Header","components_Main","components_Player","components_Modal","initialState","getItem","rootReducer","combineReducers","arguments","undefined","objectSpread","createStore","Boolean","hostname","match","ReactDOM","render","es","components_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d41eefdc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"player_player__35Gch\",\"wrapper\":\"player_wrapper__2pvXA\",\"controls\":\"player_controls__yrmwU\",\"control\":\"player_control__1GAJR\",\"icon\":\"player_icon__2LOrm\",\"active\":\"player_active__2CM14\",\"volume\":\"player_volume__3Swwg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"track\":\"song_track__RX6bx\",\"cover\":\"song_cover__1Z4fR\",\"defaultCover\":\"song_defaultCover__1Scdp\",\"button\":\"song_button__sSeHU\",\"play\":\"song_play__3MQc2\",\"icon\":\"song_icon__3i7ba\",\"content\":\"song_content__TWzaj\",\"actions\":\"song_actions__2A91g\",\"action\":\"song_action__Dd0CG\",\"info\":\"song_info__jIaQd\",\"title\":\"song_title__2OYyJ\",\"author\":\"song_author__2GBdg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"register\":\"register_register__3K1Qz\",\"title\":\"register_title__1qn8q\",\"main\":\"register_main__wdjIV\",\"inputWrapper\":\"register_inputWrapper__3hxjc\",\"right\":\"register_right__6B6O5\",\"input\":\"register_input__285Xz\",\"submit\":\"register_submit__pfce4\",\"link\":\"register_link__KC47u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__KNSyK\",\"title\":\"login_title__2BrJb\",\"main\":\"login_main__3gDUL\",\"inputWrapper\":\"login_inputWrapper__PxK70\",\"right\":\"login_right__2EU-W\",\"input\":\"login_input__3Z4uP\",\"submit\":\"login_submit__3z0zh\",\"link\":\"login_link__QwjVM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"header_wrapper__2srQ8\",\"inner\":\"header_inner__ueAE6\",\"left\":\"header_left__oqI23\",\"right\":\"header_right__2pdo2\",\"logoLink\":\"header_logoLink__MRkg5\",\"logo\":\"header_logo__2Sn9n\",\"navWrapper\":\"header_navWrapper__32fBU\",\"link\":\"header_link__3JPaZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"upload_container__YcEjX\",\"dragOver\":\"upload_dragOver__wH7zX\",\"progressWrapper\":\"upload_progressWrapper__3k9Tq\",\"progressBar\":\"upload_progressBar__2tvxH\",\"title\":\"upload_title__26joS\",\"uploader\":\"upload_uploader__3OEAH\",\"inputWrapper\":\"upload_inputWrapper__2faF0\",\"file\":\"upload_file__HK228\",\"fileInput\":\"upload_fileInput__3OG6N\",\"note\":\"upload_note__1Kiz-\",\"fileName\":\"upload_fileName__3XDdK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forgot\":\"forgot_forgot__6N7KH\",\"title\":\"forgot_title__3VwzE\",\"main\":\"forgot_main__3wV8l\",\"note\":\"forgot_note__1WMHf\",\"inputWrapper\":\"forgot_inputWrapper__3NOri\",\"right\":\"forgot_right__gOi91\",\"input\":\"forgot_input__2hnXW\",\"submit\":\"forgot_submit__mizzt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"songEdit\":\"songEdit_songEdit__3tT4a\",\"inputWrapper\":\"songEdit_inputWrapper__aeef0\",\"input\":\"songEdit_input__3VVXi\",\"submit\":\"songEdit_submit__3Px4L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"soundBadge\":\"soundBadge_soundBadge__hUvOb\",\"cover\":\"soundBadge_cover__3DUfa\",\"titleContextContainer\":\"soundBadge_titleContextContainer__8tE46\",\"title\":\"soundBadge_title__3Wt33\",\"author\":\"soundBadge_author__2z1MH\",\"truncate\":\"soundBadge_truncate__3U-6n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"status_status__1dbQM\",\"title\":\"status_title__2RHYm\",\"body\":\"status_body__3W00t\",\"item\":\"status_item__2fj3D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeline\":\"timeline_timeline__3ng4V\",\"progressWrapper\":\"timeline_progressWrapper__2Mxxn\",\"progressBackground\":\"timeline_progressBackground__VsvSl\",\"progressBar\":\"timeline_progressBar__2sPc6\",\"timePassed\":\"timeline_timePassed__pmNyr\",\"duration\":\"timeline_duration__1I6eB\"};","module.exports = __webpack_public_path__ + \"static/media/icons.174b8195.svg\";","module.exports = __webpack_public_path__ + \"static/media/icons.6b9d14e4.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"findBox\":\"find_findBox__27L7K\",\"inputWrapper\":\"find_inputWrapper__x-hK1\",\"input\":\"find_input__2vjAt\",\"button\":\"find_button__1PxrT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"volumeSlider_wrapper__3ckV8\",\"slider\":\"volumeSlider_slider__3DIcz\",\"background\":\"volumeSlider_background__1uv08\",\"bar\":\"volumeSlider_bar__MkJFK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"nav_wrapper__1r4zu\",\"item\":\"nav_item__ElUeo\",\"active\":\"nav_active__PiaCB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1Zq7Y\",\"icon\":\"modal_icon__1gGCi\",\"message\":\"modal_message__1c0cU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__12nIj\",\"container\":\"app_container__6cU4e\",\"modalWrapper\":\"app_modalWrapper__pg4fn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"music_wrapper__1_yq0\",\"container\":\"music_container__2azq9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"main_container__1bOBs\"};","module.exports = __webpack_public_path__ + \"static/media/bg.983361a2.jpg\";","const action = token => ({\n  type: 'SET_TOKEN',\n  payload: token,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport action from '../../actions/login';\n\nimport styles from './header.module.css';\n\nclass Header extends React.Component {\n  logout() {\n    return (e) => {\n      e.preventDefault();\n\n      const { setToken, history } = this.props;\n\n      setToken('');\n      window.localStorage.removeItem('token');\n      history.push('/login');\n    };\n  }\n\n  render() {\n    const { token } = this.props;\n\n    return (\n      <header className={styles.wrapper}>\n        <div className={styles.inner}>\n          <div className={styles.left}>\n            <Link className={styles.logoLink} to=\"/\">\n              <svg className={styles.logo} viewBox=\"0 0 24 24\">\n                <path d=\"M12,1C7,1 3,5 3,10V17A3,3 0 0,0 6,20H9V12H5V10A7,7 0 0,1 12,3A7,7 0 0,1 19,10V12H15V20H18A3,3 0 0,0 21,17V10C21,5 16.97,1 12,1Z\" />\n              </svg>\n            </Link>\n            {token && (\n              <nav className={styles.navWrapper}>\n                <Link className={styles.link} to=\"/music\">Music</Link>\n                <Link className={styles.link} to=\"/upload\">Upload</Link>\n              </nav>\n            )}\n          </div>\n          <div className={styles.right}>\n            {!token && <Link className={styles.link} to=\"/login\">Login</Link>}\n            {token && <Link className={styles.link} to=\"?logout\" onClick={this.logout()}>Logout</Link>}\n          </div>\n        </div>\n      </header>\n    );\n  }\n}\n\nHeader.propTypes = {\n  token: PropTypes.string.isRequired,\n  setToken: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setToken: token => dispatch(action(token)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header));\n","const action = message => ({\n  type: 'SET_ERROR_MESSAGE',\n  payload: message,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport filesize from 'filesize';\nimport errAction from '../../../../actions/error';\n\nimport styles from './status.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Status extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      disk: null,\n    };\n  }\n\n  async componentDidMount() {\n    await this.updateStatus();\n    this.interval = setInterval(async () => {\n      await this.updateStatus();\n    }, 300000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  async updateStatus() {\n    const { setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/status`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, disk } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!disk) {\n        throw new Error(message);\n      }\n\n      this.setState({ disk });\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { disk } = this.state;\n\n    return (\n      <section className={styles.status}>\n        <h1 className={styles.title}>Storage Status</h1>\n        {disk && (\n          <div className={styles.body}>\n            <p className={styles.item}>\n              Total Space:&ensp;\n              <span>{filesize(disk.totalSpace)}</span>\n            </p>\n            <p className={styles.item}>\n              Used Space:&ensp;\n              <span>{filesize(disk.usedSpace)}</span>\n            </p>\n            <p className={styles.item}>\n              Max File Size:&ensp;\n              <span>{filesize(disk.maxFileSize)}</span>\n            </p>\n          </div>\n        )}\n      </section>\n    );\n  }\n}\n\nStatus.propTypes = {\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(null, mapDispatchToProps)(Status);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport action from '../../../../actions/login';\nimport errAction from '../../../../actions/error';\n\nimport styles from './login.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '', password: '',\n    };\n\n    this.uuids = {\n      username: uuidv4(), password: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  async login(e) {\n    e.preventDefault();\n\n    const { setToken, history, setError } = this.props;\n\n    const { username, password } = this.state;\n\n    const uri = `${REACT_APP_API_URL}/api/login`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, token } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ username, password }),\n      }).then(r => r.json());\n\n      if (!token) {\n        throw new Error(message);\n      }\n\n      setToken(token);\n      window.localStorage.setItem('token', token);\n      history.push('/');\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.login}>\n        <h1 className={styles.title}>Login</h1>\n        <form className={styles.main}>\n          <label htmlFor={uuids.username} className={styles.inputWrapper}>\n            <input\n              id={uuids.username}\n              className={styles.input}\n              type=\"text\"\n              placeholder=\"Username / Email\"\n              onChange={e => this.setState({ username: e.target.value })}\n            />\n          </label>\n          <label htmlFor={uuids.password} className={styles.inputWrapper}>\n            <input\n              id={uuids.password}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={e => this.setState({ password: e.target.value })}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <Link className={styles.link} to=\"/forgot\">Forgot your password?</Link>\n            <div className={styles.right}>\n              <Link className={styles.link} to=\"/register\">Need an account?</Link>\n              <input\n                className={styles.submit}\n                type=\"submit\"\n                value=\"Login\"\n                onClick={this.login.bind(this)}\n              />\n            </div>\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nLogin.propTypes = {\n  token: PropTypes.string.isRequired,\n  setToken: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setToken: token => dispatch(action(token)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Login));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\n\nimport styles from './register.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '', email: '', password: '', retry: '',\n    };\n\n    this.uuids = {\n      username: uuidv4(), email: uuidv4(), password: uuidv4(), retry: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  async register(e) {\n    e.preventDefault();\n\n    const { history, setError } = this.props;\n\n    const {\n      username, email, password, retry,\n    } = this.state;\n\n    if (!/^\\w+[\\w-.]*@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$/.test(email)) {\n      setError('Invalid email.');\n      return;\n    }\n\n    if (password !== retry) {\n      setError('Passwords don\\'t match.');\n      return;\n    }\n\n    const uri = `${REACT_APP_API_URL}/api/register`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, uuid } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ username, email, password }),\n      }).then(r => r.json());\n\n      if (!uuid) {\n        throw new Error(message);\n      }\n\n      history.push('/login');\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.register}>\n        <h1 className={styles.title}>Register</h1>\n        <form className={styles.body}>\n          <label htmlFor={uuids.username} className={styles.inputWrapper}>\n            <input\n              ref={this.username}\n              id={uuids.username}\n              className={styles.input}\n              type=\"text\"\n              placeholder=\"Username\"\n              onChange={e => this.setState({ username: e.target.value })}\n            />\n          </label>\n          <label htmlFor={uuids.email} className={styles.inputWrapper}>\n            <input\n              ref={this.email}\n              id={uuids.email}\n              className={styles.input}\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={e => this.setState({ email: e.target.value })}\n            />\n          </label>\n          <label htmlFor={uuids.password} className={styles.inputWrapper}>\n            <input\n              ref={this.password}\n              id={uuids.password}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={e => this.setState({ password: e.target.value })}\n            />\n          </label>\n          <label htmlFor={uuids.retry} className={styles.inputWrapper}>\n            <input\n              ref={this.retry}\n              id={uuids.retry}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Re-type Password\"\n              onChange={e => this.setState({ retry: e.target.value })}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <Link className={styles.link} to=\"/login\">Already have account?</Link>\n            <input\n              className={styles.submit}\n              type=\"submit\"\n              value=\"Register\"\n              onClick={this.register.bind(this)}\n            />\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nRegister.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Register));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\n\nimport styles from './forgot.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Forgot extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n    };\n\n    this.uuids = {\n      email: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  async requestPasswordChange(e) {\n    e.preventDefault();\n\n    const { setError } = this.props;\n\n    const { email } = this.state;\n\n    if (!/^\\w+[\\w-.]*@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$/.test(email)) {\n      setError('Invalid email.');\n      return;\n    }\n\n    const uri = `${REACT_APP_API_URL}/api/forgot`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ email }),\n      }).then(r => r.json());\n\n      setError(message);\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.forgot}>\n        <h1 className={styles.title}>Forgot</h1>\n        <form className={styles.main}>\n          <div className={styles.note}>\n            <p>To request a new password please enter your account email in the box below.</p>\n            <p>We will send you an email with further instructions.</p>\n          </div>\n          <label htmlFor={uuids.email} className={styles.inputWrapper}>\n            <input\n              ref={this.email}\n              id={uuids.email}\n              className={styles.input}\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={e => this.setState({ email: e.target.value })}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <input\n              className={styles.submit}\n              type=\"submit\"\n              value=\"Request Password Change\"\n              onClick={this.requestPasswordChange.bind(this)}\n            />\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nForgot.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Forgot));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nimport styles from './nav.module.css';\n\nconst Nav = ({ items }) => (\n  <div className={styles.wrapper}>\n    {items && items.map(item => (\n      <Link\n        key={item.title.toLowerCase()}\n        className={`${styles.item} ${window.location.pathname === item.path ? styles.active : ''}`}\n        to={item.path}\n      >\n        {item.title}\n      </Link>\n    ))}\n  </div>\n);\n\nNav.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string,\n    path: PropTypes.string,\n  })).isRequired,\n};\n\nexport default Nav;\n","export const actions = {\n  SET_SONGS: 'SET_SONGS',\n  SET_NOW_PLAYING: 'SET_NP',\n  SET_PAUSE: 'SET_PAUSE',\n};\n\nconst action = (type, value) => ({\n  type,\n  payload: value,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\n\nimport styles from './song.module.css';\n\nimport icons from './icons.svg';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Song extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      favorite: props.favorite,\n    };\n  }\n\n  onPlayClick() {\n    const {\n      index, np, setNP, pause, setPause,\n    } = this.props;\n\n    if (index === np) {\n      setPause(!pause);\n      return;\n    }\n\n    setNP(index);\n  }\n\n  async onLikeClick() {\n    const { favorite } = this.state;\n\n    if (favorite) {\n      await this.deleteFromFavorite();\n      return;\n    }\n\n    await this.addToFavorite();\n  }\n\n  async addToFavorite() {\n    const { uuid, token, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/favorites/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message } = await fetch(uri, {\n        method: 'POST',\n        headers,\n      }).then(r => r.json());\n\n      this.setState({ favorite: true });\n      setError(message);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  async deleteFromFavorite() {\n    const { uuid, token, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/favorites/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { status } = await fetch(uri, {\n        method: 'DELETE',\n        headers,\n      });\n\n      if (status !== 204) {\n        throw new Error('Unexpected error.');\n      }\n\n      this.setState({ favorite: false });\n      setError('Successfully removed song from favorites.');\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const {\n      author, title, cover, edit, index, np, pause,\n    } = this.props;\n\n    const { favorite } = this.state;\n\n    const play = `${icons}#${((index === np) && !pause) ? 'pause' : 'play'}`;\n\n    return (\n      <div className={styles.track}>\n        <div className={styles.cover} style={{ backgroundImage: cover ? `url(${cover})` : '' }}>\n          {!cover && (\n            <svg className={styles.defaultCover}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#cover`} />\n            </svg>\n          )}\n          <button\n            className={`${styles.button} ${styles.play}`}\n            type=\"button\"\n            onClick={this.onPlayClick.bind(this)}\n          >\n            <svg className={styles.icon}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={play} />\n            </svg>\n          </button>\n        </div>\n        <div className={styles.content}>\n          <div className={styles.title}>{decodeURI(title)}</div>\n          <div className={styles.author}>{decodeURI(author)}</div>\n        </div>\n        <div className={styles.actions}>\n          <button\n            className={`${styles.button}\n            ${styles.action}`}\n            type=\"button\"\n            onClick={this.onLikeClick.bind(this)}\n          >\n            <svg className={styles.icon} style={{ fill: favorite ? 'var(--red)' : '' }}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#like`} />\n            </svg>\n          </button>\n          {edit && (\n            <button className={`${styles.button} ${styles.action}`} type=\"button\">\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#edit`} />\n              </svg>\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nSong.defaultProps = {\n  cover: null,\n  edit: false,\n  favorite: true,\n};\n\nSong.propTypes = {\n  token: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n  author: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  cover: PropTypes.string,\n  favorite: PropTypes.bool,\n  index: PropTypes.number.isRequired,\n  edit: PropTypes.bool,\n  np: PropTypes.number.isRequired,\n  setNP: PropTypes.func.isRequired,\n  pause: PropTypes.bool.isRequired,\n  setPause: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  np: store.player.nowPlaying,\n  pause: store.player.paused,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setNP: np => dispatch(action(actions.SET_NOW_PLAYING, np)),\n  setPause: paused => dispatch(action(actions.SET_PAUSE, paused)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Song);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\nimport Song from '../Song';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass All extends React.Component {\n  async componentDidMount() {\n    const { token, setSongs, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/songs?opts=edit,fav`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, songs } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!songs) {\n        throw new Error(message);\n      }\n\n      setSongs(songs);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { songs } = this.props;\n\n    return (\n      <>\n        {songs.map((song, i) => (\n          <Song\n            key={song.uuid}\n            uuid={song.uuid}\n            author={song.author}\n            title={song.title}\n            cover={song.cover}\n            favorite={song.favorite}\n            index={i}\n          />\n        ))}\n      </>\n    );\n  }\n}\n\nAll.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n    favorite: PropTypes.bool,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(All);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\nimport Song from '../Song';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Favorites extends React.Component {\n  async componentDidMount() {\n    const { token, setSongs, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/favorites?opts=edit`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    const { message, songs } = await fetch(uri, {\n      method: 'GET',\n      headers,\n    }).then(r => r.json());\n\n    if (!songs) {\n      setError(message);\n      return;\n    }\n\n    setSongs(songs);\n  }\n\n  render() {\n    const { songs } = this.props;\n\n    return (\n      <>\n        {songs.map((song, i) => (\n          <Song\n            key={song.uuid}\n            uuid={song.uuid}\n            author={song.author}\n            title={song.title}\n            cover={song.cover}\n            index={i}\n          />\n        ))}\n      </>\n    );\n  }\n}\n\nFavorites.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n    favorite: PropTypes.bool,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Favorites);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\nimport Song from '../Song';\n\nimport styles from './find.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Find extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      query: '',\n    };\n  }\n\n  async componentDidMount() {\n    const { setSongs } = this.props;\n\n    setSongs([]);\n  }\n\n  async findSongs() {\n    const { token, setSongs, setError } = this.props;\n\n    const { query } = this.state;\n\n    const uri = `${REACT_APP_API_URL}/api/songs/find?query=${query}&opts=edit,fav`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, songs } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!songs) {\n        throw new Error(message);\n      }\n\n      setSongs(songs);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { songs } = this.props;\n\n    return (\n      <>\n        <div className={styles.findBox}>\n          <div className={styles.inputWrapper}>\n            <input\n              className={styles.input}\n              type=\"text\"\n              placeholder=\"Search music\"\n              onChange={e => this.setState({ query: e.target.value })}\n            />\n          </div>\n          <button\n            className={styles.button}\n            type=\"button\"\n            onClick={this.findSongs.bind(this)}\n          >\n            Find\n          </button>\n        </div>\n        <div>\n          {songs.map((song, i) => (\n            <Song\n              key={song.uuid}\n              uuid={song.uuid}\n              author={song.author}\n              title={song.title}\n              cover={song.cover}\n              favorite={song.favorite}\n              index={i}\n            />\n          ))}\n        </div>\n      </>\n    );\n  }\n}\n\nFind.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n    favorite: PropTypes.bool,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Find);\n","import React from 'react';\nimport All from './components/All';\nimport Fav from './components/Favorites';\nimport Find from './components/Find';\n\nconst routes = [\n  {\n    path: '/music',\n    component: () => <All />,\n    exact: true,\n  },\n  {\n    path: '/music/favorites',\n    component: () => <Fav />,\n  },\n  {\n    path: '/music/find',\n    component: () => <Find />,\n  },\n];\n\nexport default routes;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Nav from './components/Nav';\n\nimport routes from './routes';\n\nimport styles from './music.module.css';\n\nconst navItems = [\n  {\n    title: 'All',\n    path: '/music',\n  },\n  {\n    title: 'Search',\n    path: '/music/find',\n  },\n  {\n    title: 'Likes',\n    path: '/music/favorites',\n  },\n];\n\nconst Music = () => (\n  <section className={styles.wrapper}>\n    <Nav items={navItems} />\n    <div className={styles.container}>\n      {routes.map(route => (\n        <Route\n          key={route.path.slice(1)}\n          path={route.path}\n          component={route.component}\n          exact={route.exact}\n        />\n      ))}\n    </div>\n  </section>\n);\n\nexport default Music;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../../../actions/error';\n\nimport styles from './songEdit.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.uuids = {\n      author: uuidv4(),\n      title: uuidv4(),\n    };\n\n    this.state = {\n      author: '',\n      title: '',\n    };\n  }\n\n  async update() {\n    const { token, uuid, setError } = this.props;\n\n    const { author, title } = this.state;\n\n    const uri = `${REACT_APP_API_URL}/api/songs/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, song } = await fetch(uri, {\n        method: 'PATCH',\n        headers,\n        body: JSON.stringify({ author, title }),\n      }).then(r => r.json());\n\n      if (!song) {\n        setError(message);\n        return;\n      }\n\n      setError(message);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { author, title } = this.uuids;\n\n    return (\n      <div className={styles.songEdit}>\n        <label htmlFor={author} className={styles.inputWrapper}>\n          <input\n            id={author}\n            className={styles.input}\n            type=\"text\"\n            placeholder=\"Author\"\n            onChange={e => this.setState({ author: e.target.value })}\n          />\n        </label>\n        <label htmlFor={title} className={styles.inputWrapper}>\n          <input\n            id={title}\n            className={styles.input}\n            type=\"text\"\n            placeholder=\"Title\"\n            onChange={e => this.setState({ title: e.target.value })}\n          />\n        </label>\n        <div className={styles.inputWrapper}>\n          <button\n            className={styles.submit}\n            type=\"submit\"\n            onClick={this.update.bind(this)}\n          >\n            Update\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nUpload.propTypes = {\n  token: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Upload));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\nimport SongEdit from './components/SongEdit';\n\nimport styles from './upload.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.uuids = {\n      file: uuidv4(),\n    };\n\n    this.state = {\n      fileName: '',\n      progress: 0,\n      dragOver: false,\n      songUuid: '',\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (!token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  onChange(e) {\n    const file = e.target.files[0];\n\n    this.setState({ fileName: file.name });\n    this.upload(file);\n  }\n\n  onDrop(e) {\n    e.preventDefault();\n\n    if (e.dataTransfer.files) {\n      const file = e.dataTransfer.files[0];\n\n      this.setState({ fileName: file.name, dragOver: false });\n      this.upload(file);\n    }\n  }\n\n  onDragOver(e) {\n    e.preventDefault();\n\n    this.setState({ dragOver: true });\n  }\n\n  onDragLeave(e) {\n    e.preventDefault();\n\n    this.setState({ dragOver: false });\n  }\n\n  upload(file) {\n    const { token, setError } = this.props;\n\n    if (file.size > 10 * 1024 * 1024) {\n      setError('File too large. Your audio file may not exceed 10 MB.');\n      return;\n    }\n\n    if (file.type !== 'audio/mp3') {\n      setError('Unsupported type. Your audio file has to be in MP3 format.');\n      return;\n    }\n\n    const xhr = new XMLHttpRequest();\n\n    xhr.open('POST', `${REACT_APP_API_URL}/api/songs`);\n\n    xhr.setRequestHeader('accept', 'application/vnd.moosikapp.v1+json');\n    xhr.setRequestHeader('content-type', 'audio/mpeg');\n    xhr.setRequestHeader('authorization', `Bearer ${token}`);\n\n    xhr.onload = () => {\n      const { message, uuid } = JSON.parse(xhr.response);\n\n      if (xhr.status === 201) {\n        this.setState({ songUuid: uuid });\n        return;\n      }\n\n      setError(message);\n    };\n\n    xhr.onerror = () => setError('Error while uploading.');\n\n    xhr.upload.onprogress = (e) => {\n      const { loaded, total, type } = e;\n\n      if (type === 'error') {\n        setError('error');\n        return;\n      }\n\n      this.setState({ progress: loaded / total });\n    };\n    xhr.send(file);\n  }\n\n  render() {\n    const {\n      fileName, songUuid, dragOver, progress,\n    } = this.state;\n\n    const { file } = this.uuids;\n\n    return (\n      <section\n        className={`${styles.container} ${dragOver ? styles.dragOver : ''}`}\n        onDrop={this.onDrop.bind(this)}\n        onDragOver={this.onDragOver.bind(this)}\n        onDragLeave={this.onDragLeave.bind(this)}\n      >\n        <div className={styles.progressWrapper}>\n          <div className={styles.progressBar} style={{ width: `${progress * 100}%` }} />\n        </div>\n        <h1 className={styles.title}>Drag and drop your track here</h1>\n        <div className={styles.uploader}>\n          <label className={styles.file} htmlFor={file}>\n            <input\n              className={styles.fileInput}\n              id={file}\n              type=\"file\"\n              accept=\"audio/mpeg\"\n              onChange={this.onChange.bind(this)}\n            />\n            <span>or choose file to upload</span>\n          </label>\n          {fileName && <p className={styles.fileName}>{fileName}</p>}\n          <div className={styles.note}>\n            <p>Your audio file may not exceed 10 MB and has to be in MP3 format.</p>\n          </div>\n        </div>\n        {progress === 1 && songUuid && <SongEdit uuid={songUuid} />}\n      </section>\n    );\n  }\n}\n\nUpload.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Upload));\n","import React from 'react';\nimport Status from './components/Status';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Forgot from './components/Forgot';\nimport Music from './components/Music';\nimport Upload from './components/Upload';\n\nconst routes = [\n  {\n    path: '/',\n    component: () => <Status />,\n    exact: true,\n  },\n  {\n    path: '/music',\n    component: () => <Music />,\n  },\n  {\n    path: '/upload',\n    component: () => <Upload />,\n  },\n  {\n    path: '/login',\n    component: () => <Login />,\n  },\n  {\n    path: '/register',\n    component: () => <Register />,\n  },\n  {\n    path: '/forgot',\n    component: () => <Forgot />,\n  },\n];\n\nexport default routes;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport routes from './routes';\n\nimport styles from './main.module.css';\n\nconst Main = () => (\n  <div className={styles.container}>\n    {routes.map(route => (\n      <Route\n        key={route.path.slice(1)}\n        path={route.path}\n        component={route.component}\n        exact={route.exact}\n      />\n    ))}\n  </div>\n);\n\nexport default Main;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport styles from './timeline.module.css';\n\nclass Timeline extends Component {\n  onClick(e) {\n    const { duration, onChange } = this.props;\n\n    const r = e.currentTarget.getBoundingClientRect();\n    const value = (e.clientX - r.left) / r.width;\n\n    onChange(duration * value);\n  }\n\n  render() {\n    const { currentTime, duration } = this.props;\n\n    return (\n      <div className={styles.timeline}>\n        <div className={styles.timePassed}>{moment(currentTime * 1000).format('mm:ss')}</div>\n        <div\n          className={styles.progressWrapper}\n          role=\"slider\"\n          aria-valuemax={duration}\n          aria-valuemin={0}\n          aria-valuenow={currentTime}\n          tabIndex={-1}\n          onKeyDown={null}\n          onClick={this.onClick.bind(this)}\n        >\n          <div className={styles.progressBackground}>\n            <div className={styles.progressBar} style={{ width: `${currentTime / duration * 100}%` }} />\n          </div>\n        </div>\n        <div className={styles.duration}>{moment(duration * 1000).format('mm:ss')}</div>\n      </div>\n    );\n  }\n}\n\nTimeline.propTypes = {\n  currentTime: PropTypes.number.isRequired,\n  duration: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default Timeline;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './volumeSlider.module.css';\n\nclass VolumeSlider extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { value: props.value };\n  }\n\n  onClick(e) {\n    const { onChange } = this.props;\n\n    const r = e.currentTarget.getBoundingClientRect();\n    const value = 1 - (e.clientY - r.top) / r.height;\n\n    this.setState({ value });\n    onChange(value);\n  }\n\n  render() {\n    const { value } = this.state;\n\n    return (\n      <div className={styles.wrapper}>\n        <div\n          className={styles.slider}\n          role=\"slider\"\n          aria-valuemax={1}\n          aria-valuemin={0}\n          aria-valuenow={value}\n          tabIndex={-1}\n          onKeyDown={null}\n          onClick={this.onClick.bind(this)}\n        >\n          <div className={styles.background} />\n          <div className={styles.bar} style={{ height: `${100 * value}%` }} />\n        </div>\n      </div>\n    );\n  }\n}\n\nVolumeSlider.propTypes = {\n  value: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default VolumeSlider;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './soundBadge.module.css';\n\nconst SoundBadge = ({ author, title, cover }) => (\n  <div className={styles.soundBadge}>\n    <div className={styles.cover} style={{ backgroundImage: cover ? `url(${cover})` : '' }} />\n    <div className={styles.titleContextContainer}>\n      <span className={`${styles.title} ${styles.truncate}`}>{title}</span>\n      <span className={`${styles.author} ${styles.truncate}`}>{author}</span>\n    </div>\n  </div>\n);\n\nSoundBadge.defaultProps = {\n  author: 'No Author',\n  title: 'No Title',\n  cover: '',\n};\n\nSoundBadge.propTypes = {\n  author: PropTypes.string,\n  title: PropTypes.string,\n  cover: PropTypes.string,\n};\n\nexport default SoundBadge;\n","import React, { createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../actions/player';\nimport errAction from '../../actions/error';\nimport Timeline from './components/Timeline';\nimport VolumeSlider from './components/VolumeSlider';\nimport SoundBadge from './components/SoundBadge';\n\nimport styles from './player.module.css';\n\nimport icons from './icons.svg';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Player extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      song: {},\n      currentTime: 0,\n      duration: 0,\n      loop: false,\n      shuffle: false,\n      muted: false,\n      volume: 1,\n    };\n\n    this.audio = createRef();\n  }\n\n  async componentDidUpdate(prev) {\n    const { songs, np, pause } = this.props;\n\n    const { song } = this.state;\n\n    if (!songs.length) {\n      return;\n    }\n\n    if (prev.np !== np) {\n      await this.loadSong(songs[np].uuid);\n      return;\n    }\n\n    if (prev.pause !== pause) {\n      const audio = this.audio.current;\n\n      if (pause) {\n        audio.pause();\n        document.title = 'Moosik';\n        return;\n      }\n\n      audio.play();\n      document.title = `${decodeURI(song.author)} - ${decodeURI(song.title)}`;\n    }\n  }\n\n  onCanPlay(e) {\n    const { setPause } = this.props;\n\n    e.target.play();\n\n    setPause(false);\n  }\n\n  onEnded() {\n    const { songs, np, setNP } = this.props;\n    const { shuffle } = this.state;\n\n    if (shuffle) {\n      setNP(Math.round(Math.random() * (songs.length - 1)));\n      return;\n    }\n\n    setNP(np < songs.length - 1 ? np + 1 : -1);\n  }\n\n  onClickControl(e) {\n    const type = e.currentTarget.name;\n\n    const {\n      songs, np, setNP, pause, setPause,\n    } = this.props;\n\n    switch (type) {\n      case 'prev': {\n        setNP(np > 0 ? np - 1 : songs.length - 1);\n        break;\n      }\n      case 'play': {\n        if (np === -1) {\n          setNP(np === -1 ? 0 : np);\n          return;\n        }\n\n        setPause(!pause);\n        break;\n      }\n      case 'next': {\n        setNP(np < songs.length - 1 ? np + 1 : 0);\n        break;\n      }\n      default:\n    }\n  }\n\n  async loadSong(uuid) {\n    const { token, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/songs/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, song } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!song) {\n        throw new Error(message);\n      }\n\n      this.setState({ song });\n      document.title = `${decodeURI(song.author)} - ${decodeURI(song.title)}`;\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { pause } = this.props;\n    const {\n      song, currentTime, duration, muted, loop, volume, shuffle,\n    } = this.state;\n\n    return (\n      <div className={styles.player}>\n        <section className={styles.wrapper}>\n          <div className={styles.controls}>\n            <button\n              type=\"button\"\n              className={styles.control}\n              name=\"prev\"\n              onClick={this.onClickControl.bind(this)}\n            >\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#prev`} />\n              </svg>\n            </button>\n            <button\n              type=\"button\"\n              className={styles.control}\n              name=\"play\"\n              onClick={this.onClickControl.bind(this)}\n            >\n              <svg className={styles.icon}>\n                <use\n                  xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n                  xlinkHref={`${icons}#${pause ? 'play' : 'pause'}`}\n                />\n              </svg>\n            </button>\n            <button\n              type=\"button\"\n              className={styles.control}\n              name=\"next\"\n              onClick={this.onClickControl.bind(this)}\n            >\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#next`} />\n              </svg>\n            </button>\n            <button\n              type=\"button\"\n              className={styles.control}\n              onClick={() => this.setState(prev => ({ loop: !prev.loop }))}\n            >\n              <svg className={`${styles.icon} ${loop ? styles.active : ''}`}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#repeat`} />\n              </svg>\n            </button>\n            <button\n              type=\"button\"\n              className={styles.control}\n              onClick={() => this.setState(prev => ({ shuffle: !prev.shuffle }))}\n            >\n              <svg className={`${styles.icon} ${shuffle ? styles.active : ''}`}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#shuffle`} />\n              </svg>\n            </button>\n          </div>\n          <Timeline\n            currentTime={currentTime}\n            duration={duration}\n            onChange={(value) => { this.audio.current.currentTime = value; }}\n          />\n          <div className={`${styles.controls} ${styles.volume}`}>\n            <button\n              type=\"button\"\n              className={styles.control}\n              onClick={() => this.setState(prev => ({ muted: !prev.muted }))}\n            >\n              <svg className={styles.icon}>\n                <use\n                  xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n                  xlinkHref={`${icons}#${muted ? 'mute' : 'volume'}`}\n                />\n              </svg>\n            </button>\n            <VolumeSlider\n              value={volume}\n              onChange={(value) => { this.audio.current.volume = value; }}\n            />\n          </div>\n          <SoundBadge author={song.author} title={song.title} cover={song.cover} />\n          <audio\n            ref={this.audio}\n            src={song.url}\n            muted={muted}\n            loop={loop}\n            onLoadedMetadata={e => this.setState({ duration: e.target.duration })}\n            onCanPlay={this.onCanPlay.bind(this)}\n            onTimeUpdate={e => this.setState({ currentTime: e.target.currentTime })}\n            onVolumeChange={e => this.setState({ volume: e.target.volume })}\n            onEnded={this.onEnded.bind(this)}\n          />\n        </section>\n      </div>\n    );\n  }\n}\n\nPlayer.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n  })).isRequired,\n  np: PropTypes.number.isRequired,\n  setNP: PropTypes.func.isRequired,\n  pause: PropTypes.bool.isRequired,\n  setPause: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n  np: store.player.nowPlaying,\n  pause: store.player.paused,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setNP: np => dispatch(action(actions.SET_NOW_PLAYING, np)),\n  setPause: pause => dispatch(action(actions.SET_PAUSE, pause)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Player);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action from '../../actions/error';\n\nimport styles from './modal.module.css';\n\nclass Modal extends React.Component {\n  componentDidMount() {\n    const { clearError } = this.props;\n\n    setTimeout(() => {\n      clearError();\n    }, 5000);\n  }\n\n  render() {\n    const { error } = this.props;\n\n    return (\n      <div className={styles.modal}>\n        <svg className={styles.icon} viewBox=\"0 0 24 24\">\n          <path d=\"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\" />\n        </svg>\n        <div className={styles.message}>\n          <span>{error}</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  error: PropTypes.string.isRequired,\n  clearError: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => ({\n  clearError: () => dispatch(action('')),\n});\n\nexport default connect(null, mapDispatchToProps)(Modal);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport Header from '../Header';\nimport Main from '../Main';\nimport Player from '../Player';\nimport Modal from '../Modal';\n\nimport styles from './app.module.css';\n\nimport bg from './bg.jpg';\n\nconst App = ({ token, error }) => (\n  <div className={styles.app} style={{ backgroundImage: `url(${bg})` }}>\n    <main className={styles.container}>\n      <BrowserRouter>\n        <Header />\n        <Main />\n      </BrowserRouter>\n      {token && <Player />}\n    </main>\n    <div className={styles.modalWrapper}>\n      {error && <Modal error={error} />}\n    </div>\n  </div>\n);\n\nApp.propTypes = {\n  token: PropTypes.string.isRequired,\n  error: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  error: store.error.message,\n});\n\nexport default connect(mapStateToProps)(App);\n","const initialState = {\n  token: window.localStorage.getItem('token') || '',\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_TOKEN':\n      return { ...state, token: action.payload };\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  songs: [],\n  nowPlaying: -1,\n  paused: true,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_SONGS':\n      return { ...state, songs: action.payload };\n    case 'SET_NP':\n      return { ...state, nowPlaying: action.payload };\n    case 'SET_PAUSE':\n      return { ...state, paused: action.payload };\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  message: '',\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_ERROR_MESSAGE':\n      return { ...state, message: action.payload };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport login from './login';\nimport player from './player';\nimport error from './error';\n\nconst rootReducer = combineReducers({\n  login, player, error,\n});\n\nexport default rootReducer;\n","import { createStore } from 'redux';\nimport rootReducer from '../reducers/root';\n\nconst store = createStore(rootReducer);\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/App';\nimport store from './store';\nimport * as serviceWorker from './serviceWorker';\n\nimport './layouts/default.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}