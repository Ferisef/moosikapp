{"version":3,"sources":["components/Player/player.module.css","components/Main/components/Music/components/Song/song.module.css","components/Main/components/Register/register.module.css","components/Main/components/Login/login.module.css","components/Header/header.module.css","components/Main/components/Upload/upload.module.css","components/Main/components/Forgot/forgot.module.css","components/Main/components/Upload/components/SongEdit/songEdit.module.css","components/Player/components/SoundBadge/soundBadge.module.css","components/Main/components/Status/status.module.css","components/Player/components/Timeline/timeline.module.css","components/Player/icons.svg","components/App/app.module.css","components/Main/components/Music/components/Song/icons.svg","components/Main/components/Music/components/Find/find.module.css","components/Player/components/VolumeSlider/volumeSlider.module.css","components/Main/components/Music/components/Nav/nav.module.css","components/Error/error.module.css","components/Main/components/Music/music.module.css","components/Main/main.module.css","components/App/images/bg.webp","components/App/images/bg.jpf","actions/login.js","components/Header/index.jsx","actions/error.js","components/Main/components/Status/index.jsx","components/Main/components/Login/index.jsx","components/Main/components/Register/index.jsx","components/Main/components/Forgot/index.jsx","components/Main/components/Music/components/Nav/index.jsx","actions/player.js","components/Main/components/Music/components/Song/index.jsx","components/Main/components/Music/components/All/index.jsx","components/Main/components/Music/components/Favorites/index.jsx","components/Main/components/Music/components/Find/index.jsx","components/Main/components/Music/routes.jsx","components/Main/components/Music/index.jsx","components/Main/components/Upload/components/SongEdit/index.jsx","components/Main/components/Upload/index.jsx","components/Main/routes.jsx","components/Main/index.jsx","components/Player/components/Timeline/index.jsx","components/Player/components/VolumeSlider/index.jsx","components/Player/components/SoundBadge/index.jsx","components/Player/index.jsx","components/Error/index.jsx","components/App/index.jsx","reducers/login.js","reducers/player.js","reducers/error.js","reducers/root.js","store/index.js","serviceWorker.js","index.jsx"],"names":["module","exports","player","wrapper","controls","control","icon","active","volume","track","cover","defaultCover","button","play","content","actions","action","info","title","author","register","main","inputWrapper","right","input","submit","link","login","inner","left","logoLink","logo","navWrapper","container","dragOver","progressWrapper","progressBar","uploader","file","fileInput","note","fileName","forgot","songEdit","soundBadge","titleContextContainer","truncate","status","body","item","timeline","progressBackground","timePassed","duration","__webpack_require__","p","app","backgroundWrapper","background","modalWrapper","findBox","slider","bar","errorMessage","messageBox","token","type","payload","Header","_this","this","e","preventDefault","_this$props","props","setToken","history","window","localStorage","removeItem","push","react_default","a","createElement","className","styles","react_router_dom","to","viewBox","d","onClick","logout","React","Component","connect","store","dispatch","withRouter","message","process","REACT_APP_API_URL","Status","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","disk","updateStatus","interval","setInterval","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","_this2","stop","clearInterval","setError","uri","headers","accept","content-type","fetch","method","then","r","json","Error","setState","_context3","t0","filesize","totalSpace","usedSpace","maxFileSize","errAction","Login","username","password","uuids","uuidv4","JSON","stringify","setItem","htmlFor","id","placeholder","onChange","target","value","bind","Register","email","retry","test","uuid","ref","Forgot","requestPasswordChange","Nav","_ref","items","map","key","toLowerCase","concat","location","pathname","path","Song","favorite","nowPlaying","setNP","paused","togglePause","delFromFav","addToFav","authorization","_context2","_this$props4","edit","icons","style","backgroundImage","xmlnsXlink","xlinkHref","onPlayClick","onLikeClick","fill","defaultProps","np","All","setSongs","songs","Fragment","song","components_Song","Favorites","Find","query","findSongs","routes","component","components_All","exact","components_Favorites","components_Find","navItems","Music","components_Nav","route","react_router","slice","Upload","_this$uuids","update","progress","songUuid","files","name","upload","dataTransfer","_this$props2","size","xhr","XMLHttpRequest","open","setRequestHeader","onload","_JSON$parse","parse","response","onerror","onprogress","loaded","total","send","_this$state","onDrop","onDragOver","onDragLeave","width","SongEdit","components_Status","components_Music","components_Upload","components_Login","components_Register","components_Forgot","Main","Timeline","currentTarget","getBoundingClientRect","clientX","currentTime","moment","format","role","aria-valuemax","aria-valuemin","aria-valuenow","tabIndex","onKeyDown","VolumeSlider","clientY","top","height","SoundBadge","Player","songIndex","loop","shuffle","muted","audio","createRef","findIndex","v","loadSong","current","pause","document","Math","round","random","length","_this$props3","_this$state2","components_Timeline","components_VolumeSlider","components_SoundBadge","crossOrigin","preload","src","url","autoPlay","onLoadedMetadata","event","onCanPlay","onTimeUpdate","onVolumeChange","onEnded","Modal","opacity","clearError","setTimeout","error","bg","navigator","userAgent","includes","jpf","webp","components_Header","components_Main","components_Player","components_Error","initialState","getItem","rootReducer","combineReducers","arguments","undefined","objectSpread","createStore","Boolean","hostname","match","ReactDOM","render","es","components_App","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.8571ec76.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"player_player__35Gch\",\"wrapper\":\"player_wrapper__2pvXA\",\"controls\":\"player_controls__yrmwU\",\"control\":\"player_control__1GAJR\",\"icon\":\"player_icon__2LOrm\",\"active\":\"player_active__2CM14\",\"volume\":\"player_volume__3Swwg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"track\":\"song_track__RX6bx\",\"cover\":\"song_cover__1Z4fR\",\"defaultCover\":\"song_defaultCover__1Scdp\",\"button\":\"song_button__sSeHU\",\"play\":\"song_play__3MQc2\",\"icon\":\"song_icon__3i7ba\",\"content\":\"song_content__TWzaj\",\"actions\":\"song_actions__2A91g\",\"action\":\"song_action__Dd0CG\",\"info\":\"song_info__jIaQd\",\"title\":\"song_title__2OYyJ\",\"author\":\"song_author__2GBdg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"register\":\"register_register__3K1Qz\",\"title\":\"register_title__1qn8q\",\"main\":\"register_main__wdjIV\",\"inputWrapper\":\"register_inputWrapper__3hxjc\",\"right\":\"register_right__6B6O5\",\"input\":\"register_input__285Xz\",\"submit\":\"register_submit__pfce4\",\"link\":\"register_link__KC47u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__KNSyK\",\"title\":\"login_title__2BrJb\",\"main\":\"login_main__3gDUL\",\"inputWrapper\":\"login_inputWrapper__PxK70\",\"right\":\"login_right__2EU-W\",\"input\":\"login_input__3Z4uP\",\"submit\":\"login_submit__3z0zh\",\"link\":\"login_link__QwjVM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"header_wrapper__2srQ8\",\"inner\":\"header_inner__ueAE6\",\"left\":\"header_left__oqI23\",\"right\":\"header_right__2pdo2\",\"logoLink\":\"header_logoLink__MRkg5\",\"logo\":\"header_logo__2Sn9n\",\"navWrapper\":\"header_navWrapper__32fBU\",\"link\":\"header_link__3JPaZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"upload_container__YcEjX\",\"dragOver\":\"upload_dragOver__wH7zX\",\"progressWrapper\":\"upload_progressWrapper__3k9Tq\",\"progressBar\":\"upload_progressBar__2tvxH\",\"title\":\"upload_title__26joS\",\"uploader\":\"upload_uploader__3OEAH\",\"inputWrapper\":\"upload_inputWrapper__2faF0\",\"file\":\"upload_file__HK228\",\"fileInput\":\"upload_fileInput__3OG6N\",\"note\":\"upload_note__1Kiz-\",\"fileName\":\"upload_fileName__3XDdK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forgot\":\"forgot_forgot__6N7KH\",\"title\":\"forgot_title__3VwzE\",\"main\":\"forgot_main__3wV8l\",\"note\":\"forgot_note__1WMHf\",\"inputWrapper\":\"forgot_inputWrapper__3NOri\",\"right\":\"forgot_right__gOi91\",\"input\":\"forgot_input__2hnXW\",\"submit\":\"forgot_submit__mizzt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"songEdit\":\"songEdit_songEdit__3tT4a\",\"inputWrapper\":\"songEdit_inputWrapper__aeef0\",\"input\":\"songEdit_input__3VVXi\",\"submit\":\"songEdit_submit__3Px4L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"soundBadge\":\"soundBadge_soundBadge__hUvOb\",\"cover\":\"soundBadge_cover__3DUfa\",\"titleContextContainer\":\"soundBadge_titleContextContainer__8tE46\",\"title\":\"soundBadge_title__3Wt33\",\"author\":\"soundBadge_author__2z1MH\",\"truncate\":\"soundBadge_truncate__3U-6n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"status_status__1dbQM\",\"title\":\"status_title__2RHYm\",\"body\":\"status_body__3W00t\",\"item\":\"status_item__2fj3D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeline\":\"timeline_timeline__3ng4V\",\"progressWrapper\":\"timeline_progressWrapper__2Mxxn\",\"progressBackground\":\"timeline_progressBackground__VsvSl\",\"progressBar\":\"timeline_progressBar__2sPc6\",\"timePassed\":\"timeline_timePassed__pmNyr\",\"duration\":\"timeline_duration__1I6eB\"};","module.exports = __webpack_public_path__ + \"static/media/icons.174b8195.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__12nIj\",\"backgroundWrapper\":\"app_backgroundWrapper__pxt_V\",\"background\":\"app_background__2Zzp2\",\"container\":\"app_container__6cU4e\",\"modalWrapper\":\"app_modalWrapper__pg4fn\"};","module.exports = __webpack_public_path__ + \"static/media/icons.6b9d14e4.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"findBox\":\"find_findBox__27L7K\",\"inputWrapper\":\"find_inputWrapper__x-hK1\",\"input\":\"find_input__2vjAt\",\"button\":\"find_button__1PxrT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"volumeSlider_wrapper__3ckV8\",\"slider\":\"volumeSlider_slider__3DIcz\",\"background\":\"volumeSlider_background__1uv08\",\"bar\":\"volumeSlider_bar__MkJFK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"nav_wrapper__1r4zu\",\"item\":\"nav_item__ElUeo\",\"active\":\"nav_active__PiaCB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorMessage\":\"error_errorMessage__-akrm\",\"icon\":\"error_icon__1HLPY\",\"messageBox\":\"error_messageBox__2OEAz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"music_wrapper__1_yq0\",\"container\":\"music_container__2azq9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"main_container__1bOBs\"};","module.exports = __webpack_public_path__ + \"static/media/bg.d36aebff.webp\";","module.exports = __webpack_public_path__ + \"static/media/bg.ef2963a8.jpf\";","const action = token => ({\n  type: 'SET_TOKEN',\n  payload: token,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport action from '../../actions/login';\n\nimport styles from './header.module.css';\n\nclass Header extends React.Component {\n  logout() {\n    return (e) => {\n      e.preventDefault();\n\n      const { setToken, history } = this.props;\n\n      setToken('');\n      window.localStorage.removeItem('token');\n      history.push('/login');\n    };\n  }\n\n  render() {\n    const { token } = this.props;\n\n    return (\n      <header className={styles.wrapper}>\n        <div className={styles.inner}>\n          <div className={styles.left}>\n            <Link className={styles.logoLink} to=\"/\">\n              <svg className={styles.logo} viewBox=\"0 0 24 24\">\n                <path d=\"M12,1C7,1 3,5 3,10V17A3,3 0 0,0 6,20H9V12H5V10A7,7 0 0,1 12,3A7,7 0 0,1 19,10V12H15V20H18A3,3 0 0,0 21,17V10C21,5 16.97,1 12,1Z\" />\n              </svg>\n            </Link>\n            {token && (\n              <nav className={styles.navWrapper}>\n                <Link className={styles.link} to=\"/music\">Music</Link>\n                <Link className={styles.link} to=\"/upload\">Upload</Link>\n              </nav>\n            )}\n          </div>\n          <div className={styles.right}>\n            {!token && <Link className={styles.link} to=\"/login\">Login</Link>}\n            {token && <Link className={styles.link} to=\"?logout\" onClick={this.logout()}>Logout</Link>}\n          </div>\n        </div>\n      </header>\n    );\n  }\n}\n\nHeader.propTypes = {\n  token: PropTypes.string.isRequired,\n  setToken: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setToken: token => dispatch(action(token)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header));\n","const action = message => ({\n  type: 'SET_ERROR_MESSAGE',\n  payload: message,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport filesize from 'filesize';\nimport errAction from '../../../../actions/error';\n\nimport styles from './status.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Status extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      disk: null,\n    };\n  }\n\n  async componentDidMount() {\n    await this.updateStatus();\n    this.interval = setInterval(async () => {\n      await this.updateStatus();\n    }, 300000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  async updateStatus() {\n    const { setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/status`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, disk } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!disk) {\n        throw new Error(message);\n      }\n\n      this.setState({ disk });\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { disk } = this.state;\n\n    return (\n      <section className={styles.status}>\n        <h1 className={styles.title}>Storage Status</h1>\n        {disk && (\n          <div className={styles.body}>\n            <p className={styles.item}>\n              Total Space:&ensp;\n              <span>{filesize(disk.totalSpace)}</span>\n            </p>\n            <p className={styles.item}>\n              Used Space:&ensp;\n              <span>{filesize(disk.usedSpace)}</span>\n            </p>\n            <p className={styles.item}>\n              Max File Size:&ensp;\n              <span>{filesize(disk.maxFileSize)}</span>\n            </p>\n          </div>\n        )}\n      </section>\n    );\n  }\n}\n\nStatus.propTypes = {\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(null, mapDispatchToProps)(Status);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport action from '../../../../actions/login';\nimport errAction from '../../../../actions/error';\n\nimport styles from './login.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '', password: '',\n    };\n\n    this.uuids = {\n      username: uuidv4(), password: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  async login(e) {\n    e.preventDefault();\n\n    const { setToken, history, setError } = this.props;\n\n    const { username, password } = this.state;\n\n    const uri = `${REACT_APP_API_URL}/api/login`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, token } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ username, password }),\n      }).then(r => r.json());\n\n      if (!token) {\n        throw new Error(message);\n      }\n\n      setToken(token);\n      window.localStorage.setItem('token', token);\n      history.push('/');\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.login}>\n        <h1 className={styles.title}>Login</h1>\n        <form className={styles.main}>\n          <label htmlFor={uuids.username} className={styles.inputWrapper}>\n            <input\n              id={uuids.username}\n              className={styles.input}\n              type=\"text\"\n              placeholder=\"Username / Email\"\n              onChange={e => this.setState({ username: e.target.value })}\n            />\n          </label>\n          <label htmlFor={uuids.password} className={styles.inputWrapper}>\n            <input\n              id={uuids.password}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={e => this.setState({ password: e.target.value })}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <Link className={styles.link} to=\"/forgot\">Forgot your password?</Link>\n            <div className={styles.right}>\n              <Link className={styles.link} to=\"/register\">Need an account?</Link>\n              <input\n                className={styles.submit}\n                type=\"submit\"\n                value=\"Login\"\n                onClick={this.login.bind(this)}\n              />\n            </div>\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nLogin.propTypes = {\n  token: PropTypes.string.isRequired,\n  setToken: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setToken: token => dispatch(action(token)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Login));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\n\nimport styles from './register.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '', email: '', password: '', retry: '',\n    };\n\n    this.uuids = {\n      username: uuidv4(), email: uuidv4(), password: uuidv4(), retry: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  async register(e) {\n    e.preventDefault();\n\n    const { history, setError } = this.props;\n\n    const {\n      username, email, password, retry,\n    } = this.state;\n\n    if (!/^\\w+[\\w-.]*@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$/.test(email)) {\n      setError('Invalid email.');\n      return;\n    }\n\n    if (password !== retry) {\n      setError('Passwords don\\'t match.');\n      return;\n    }\n\n    const uri = `${REACT_APP_API_URL}/api/register`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, uuid } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ username, email, password }),\n      }).then(r => r.json());\n\n      if (!uuid) {\n        throw new Error(message);\n      }\n\n      history.push('/login');\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.register}>\n        <h1 className={styles.title}>Register</h1>\n        <form className={styles.body}>\n          <label htmlFor={uuids.username} className={styles.inputWrapper}>\n            <input\n              ref={this.username}\n              id={uuids.username}\n              className={styles.input}\n              type=\"text\"\n              placeholder=\"Username\"\n              onChange={e => this.setState({ username: e.target.value })}\n            />\n          </label>\n          <label htmlFor={uuids.email} className={styles.inputWrapper}>\n            <input\n              ref={this.email}\n              id={uuids.email}\n              className={styles.input}\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={e => this.setState({ email: e.target.value })}\n            />\n          </label>\n          <label htmlFor={uuids.password} className={styles.inputWrapper}>\n            <input\n              ref={this.password}\n              id={uuids.password}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={e => this.setState({ password: e.target.value })}\n            />\n          </label>\n          <label htmlFor={uuids.retry} className={styles.inputWrapper}>\n            <input\n              ref={this.retry}\n              id={uuids.retry}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Re-type Password\"\n              onChange={e => this.setState({ retry: e.target.value })}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <Link className={styles.link} to=\"/login\">Already have account?</Link>\n            <input\n              className={styles.submit}\n              type=\"submit\"\n              value=\"Register\"\n              onClick={this.register.bind(this)}\n            />\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nRegister.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Register));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\n\nimport styles from './forgot.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Forgot extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n    };\n\n    this.uuids = {\n      email: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  async requestPasswordChange(e) {\n    e.preventDefault();\n\n    const { setError } = this.props;\n\n    const { email } = this.state;\n\n    if (!/^\\w+[\\w-.]*@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$/.test(email)) {\n      setError('Invalid email.');\n      return;\n    }\n\n    const uri = `${REACT_APP_API_URL}/api/forgot`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ email }),\n      }).then(r => r.json());\n\n      setError(message);\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.forgot}>\n        <h1 className={styles.title}>Forgot</h1>\n        <form className={styles.main}>\n          <div className={styles.note}>\n            <p>To request a new password please enter your account email in the box below.</p>\n            <p>We will send you an email with further instructions.</p>\n          </div>\n          <label htmlFor={uuids.email} className={styles.inputWrapper}>\n            <input\n              ref={this.email}\n              id={uuids.email}\n              className={styles.input}\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={e => this.setState({ email: e.target.value })}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <input\n              className={styles.submit}\n              type=\"submit\"\n              value=\"Request Password Change\"\n              onClick={this.requestPasswordChange.bind(this)}\n            />\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nForgot.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Forgot));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nimport styles from './nav.module.css';\n\nconst Nav = ({ items }) => (\n  <div className={styles.wrapper}>\n    {items && items.map(item => (\n      <Link\n        key={item.title.toLowerCase()}\n        className={`${styles.item} ${window.location.pathname === item.path ? styles.active : ''}`}\n        to={item.path}\n      >\n        {item.title}\n      </Link>\n    ))}\n  </div>\n);\n\nNav.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string,\n    path: PropTypes.string,\n  })).isRequired,\n};\n\nexport default Nav;\n","export const actions = {\n  SET_SONGS: 'SET_SONGS',\n  SET_NOW_PLAYING: 'SET_NP',\n  SET_PAUSE: 'SET_PAUSE',\n};\n\nconst action = (type, value) => ({\n  type,\n  payload: value,\n});\n\nexport default action;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\n\nimport styles from './song.module.css';\n\nimport icons from './icons.svg';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Song extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      favorite: props.favorite,\n    };\n  }\n\n  onPlayClick() {\n    const {\n      uuid, nowPlaying, setNP, paused, togglePause,\n    } = this.props;\n\n    if (uuid === nowPlaying) {\n      togglePause(!paused);\n      return;\n    }\n\n    setNP(uuid);\n  }\n\n  async onLikeClick() {\n    const { favorite } = this.state;\n\n    if (favorite) {\n      await this.delFromFav();\n      return;\n    }\n\n    await this.addToFav();\n  }\n\n  async addToFav() {\n    const { uuid, token, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/favorites/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message } = await fetch(uri, {\n        method: 'POST',\n        headers,\n      }).then(r => r.json());\n\n      this.setState({ favorite: true });\n      setError(message);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  async delFromFav() {\n    const { uuid, token, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/favorites/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { status } = await fetch(uri, {\n        method: 'DELETE',\n        headers,\n      });\n\n      if (status !== 204) {\n        throw new Error('Unexpected error.');\n      }\n\n      this.setState({ favorite: false });\n      setError('Successfully removed song from favorites.');\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const {\n      uuid, author, title, cover, edit, nowPlaying, paused,\n    } = this.props;\n\n    const { favorite } = this.state;\n\n    const play = `${icons}#${((uuid === nowPlaying) && !paused) ? 'pause' : 'play'}`;\n\n    return (\n      <div className={styles.track}>\n        <div className={styles.cover} style={{ backgroundImage: cover ? `url(${cover})` : '' }}>\n          {!cover && (\n            <svg className={styles.defaultCover}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#cover`} />\n            </svg>\n          )}\n          <button\n            className={`${styles.button} ${styles.play}`}\n            type=\"button\"\n            onClick={this.onPlayClick.bind(this)}\n          >\n            <svg className={styles.icon}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={play} />\n            </svg>\n          </button>\n        </div>\n        <div className={styles.content}>\n          <div className={styles.title}>{title}</div>\n          <div className={styles.author}>{author}</div>\n        </div>\n        <div className={styles.actions}>\n          <button\n            className={`${styles.button}\n            ${styles.action}`}\n            type=\"button\"\n            onClick={this.onLikeClick.bind(this)}\n          >\n            <svg className={styles.icon} style={{ fill: favorite ? 'var(--red)' : '' }}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#like`} />\n            </svg>\n          </button>\n          {edit && (\n            <button className={`${styles.button} ${styles.action}`} type=\"button\">\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#edit`} />\n              </svg>\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nSong.defaultProps = {\n  cover: null,\n  edit: false,\n  favorite: true,\n};\n\nSong.propTypes = {\n  token: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n  author: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  cover: PropTypes.string,\n  favorite: PropTypes.bool,\n  edit: PropTypes.bool,\n  nowPlaying: PropTypes.string.isRequired,\n  setNP: PropTypes.func.isRequired,\n  paused: PropTypes.bool.isRequired,\n  togglePause: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  nowPlaying: store.player.nowPlaying,\n  paused: store.player.paused,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setNP: np => dispatch(action(actions.SET_NOW_PLAYING, np)),\n  togglePause: paused => dispatch(action(actions.SET_PAUSE, paused)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Song);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\nimport Song from '../Song';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass All extends React.Component {\n  async componentDidMount() {\n    const { token, setSongs, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/songs?scope=3`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, songs } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!songs) {\n        throw new Error(message);\n      }\n\n      setSongs(songs);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { songs } = this.props;\n\n    return (\n      <>\n        {songs.map(song => (\n          <Song\n            key={song.uuid}\n            uuid={song.uuid}\n            author={song.author}\n            title={song.title}\n            cover={song.cover}\n            favorite={song.favorite}\n            edit={song.edit}\n          />\n        ))}\n      </>\n    );\n  }\n}\n\nAll.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n    favorite: PropTypes.bool,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(All);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\nimport Song from '../Song';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Favorites extends React.Component {\n  async componentDidMount() {\n    const { token, setSongs, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/favorites?scope=2`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    const { message, songs } = await fetch(uri, {\n      method: 'GET',\n      headers,\n    }).then(r => r.json());\n\n    if (!songs) {\n      setError(message);\n      return;\n    }\n\n    setSongs(songs);\n  }\n\n  render() {\n    const { songs } = this.props;\n\n    return (\n      <>\n        {songs.map(song => (\n          <Song\n            key={song.uuid}\n            uuid={song.uuid}\n            author={song.author}\n            title={song.title}\n            cover={song.cover}\n            edit={song.edit}\n          />\n        ))}\n      </>\n    );\n  }\n}\n\nFavorites.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n    favorite: PropTypes.bool,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Favorites);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\nimport Song from '../Song';\n\nimport styles from './find.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Find extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      query: '',\n    };\n  }\n\n  async componentDidMount() {\n    const { setSongs } = this.props;\n\n    setSongs([]);\n  }\n\n  async findSongs(e) {\n    e.preventDefault();\n\n    const { token, setSongs, setError } = this.props;\n\n    const { query } = this.state;\n\n    const uri = `${REACT_APP_API_URL}/api/songs/find?query=${query}&scope=3`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, songs } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!songs) {\n        throw new Error(message);\n      }\n\n      setSongs(songs);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { songs } = this.props;\n\n    return (\n      <>\n        <form className={styles.findBox}>\n          <div className={styles.inputWrapper}>\n            <input\n              className={styles.input}\n              type=\"text\"\n              placeholder=\"Search music\"\n              onChange={e => this.setState({ query: e.target.value })}\n            />\n          </div>\n          <button\n            className={styles.button}\n            type=\"submit\"\n            onClick={this.findSongs.bind(this)}\n          >\n            Find\n          </button>\n        </form>\n        <div>\n          {songs.map(song => (\n            <Song\n              key={song.uuid}\n              uuid={song.uuid}\n              author={song.author}\n              title={song.title}\n              cover={song.cover}\n              favorite={song.favorite}\n              edit={song.edit}\n            />\n          ))}\n        </div>\n      </>\n    );\n  }\n}\n\nFind.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n    favorite: PropTypes.bool,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Find);\n","import React from 'react';\nimport All from './components/All';\nimport Fav from './components/Favorites';\nimport Find from './components/Find';\n\nconst routes = [\n  {\n    path: '/music',\n    component: () => <All />,\n    exact: true,\n  },\n  {\n    path: '/music/favorites',\n    component: () => <Fav />,\n  },\n  {\n    path: '/music/find',\n    component: () => <Find />,\n  },\n];\n\nexport default routes;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Nav from './components/Nav';\n\nimport routes from './routes';\n\nimport styles from './music.module.css';\n\nconst navItems = [\n  {\n    title: 'All',\n    path: '/music',\n  },\n  {\n    title: 'Search',\n    path: '/music/find',\n  },\n  {\n    title: 'Likes',\n    path: '/music/favorites',\n  },\n];\n\nconst Music = () => (\n  <section className={styles.wrapper}>\n    <Nav items={navItems} />\n    <div className={styles.container}>\n      {routes.map(route => (\n        <Route\n          key={route.path.slice(1)}\n          path={route.path}\n          component={route.component}\n          exact={route.exact}\n        />\n      ))}\n    </div>\n  </section>\n);\n\nexport default Music;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../../../actions/error';\n\nimport styles from './songEdit.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.uuids = {\n      author: uuidv4(),\n      title: uuidv4(),\n    };\n\n    this.state = {\n      author: '',\n      title: '',\n    };\n  }\n\n  async update() {\n    const { token, uuid, setError } = this.props;\n\n    const { author, title } = this.state;\n\n    const uri = `${REACT_APP_API_URL}/api/songs/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, song } = await fetch(uri, {\n        method: 'PATCH',\n        headers,\n        body: JSON.stringify({ author, title }),\n      }).then(r => r.json());\n\n      if (!song) {\n        setError(message);\n        return;\n      }\n\n      setError(message);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { author, title } = this.uuids;\n\n    return (\n      <div className={styles.songEdit}>\n        <label htmlFor={author} className={styles.inputWrapper}>\n          <input\n            id={author}\n            className={styles.input}\n            type=\"text\"\n            placeholder=\"Author\"\n            onChange={e => this.setState({ author: e.target.value })}\n          />\n        </label>\n        <label htmlFor={title} className={styles.inputWrapper}>\n          <input\n            id={title}\n            className={styles.input}\n            type=\"text\"\n            placeholder=\"Title\"\n            onChange={e => this.setState({ title: e.target.value })}\n          />\n        </label>\n        <div className={styles.inputWrapper}>\n          <button\n            className={styles.submit}\n            type=\"submit\"\n            onClick={this.update.bind(this)}\n          >\n            Update\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nUpload.propTypes = {\n  token: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Upload));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\nimport SongEdit from './components/SongEdit';\n\nimport styles from './upload.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.uuids = {\n      file: uuidv4(),\n    };\n\n    this.state = {\n      fileName: '',\n      progress: 0,\n      dragOver: false,\n      songUuid: '',\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (!token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  onChange(e) {\n    const file = e.target.files[0];\n\n    this.setState({ fileName: file.name });\n    this.upload(file);\n  }\n\n  onDrop(e) {\n    e.preventDefault();\n\n    if (e.dataTransfer.files) {\n      const file = e.dataTransfer.files[0];\n\n      this.setState({ fileName: file.name, dragOver: false });\n      this.upload(file);\n    }\n  }\n\n  onDragOver(e) {\n    e.preventDefault();\n\n    this.setState({ dragOver: true });\n  }\n\n  onDragLeave(e) {\n    e.preventDefault();\n\n    this.setState({ dragOver: false });\n  }\n\n  upload(file) {\n    const { token, setError } = this.props;\n\n    if (file.size > 10 * 1024 * 1024) {\n      setError('File too large. Your audio file may not exceed 10 MB.');\n      return;\n    }\n\n    if (file.type !== 'audio/mp3') {\n      setError('Unsupported type. Your audio file has to be in MP3 format.');\n      return;\n    }\n\n    const xhr = new XMLHttpRequest();\n\n    xhr.open('POST', `${REACT_APP_API_URL}/api/songs`);\n\n    xhr.setRequestHeader('accept', 'application/vnd.moosikapp.v1+json');\n    xhr.setRequestHeader('content-type', 'audio/mpeg');\n    xhr.setRequestHeader('authorization', `Bearer ${token}`);\n\n    xhr.onload = () => {\n      const { message, uuid } = JSON.parse(xhr.response);\n\n      if (xhr.status === 201) {\n        this.setState({ songUuid: uuid });\n        return;\n      }\n\n      setError(message);\n    };\n\n    xhr.onerror = () => setError('Error while uploading.');\n\n    xhr.upload.onprogress = (e) => {\n      const { loaded, total, type } = e;\n\n      if (type === 'error') {\n        setError('error');\n        return;\n      }\n\n      this.setState({ progress: loaded / total });\n    };\n    xhr.send(file);\n  }\n\n  render() {\n    const {\n      fileName, songUuid, dragOver, progress,\n    } = this.state;\n\n    const { file } = this.uuids;\n\n    return (\n      <section\n        className={`${styles.container} ${dragOver ? styles.dragOver : ''}`}\n        onDrop={this.onDrop.bind(this)}\n        onDragOver={this.onDragOver.bind(this)}\n        onDragLeave={this.onDragLeave.bind(this)}\n      >\n        <div className={styles.progressWrapper}>\n          <div className={styles.progressBar} style={{ width: `${progress * 100}%` }} />\n        </div>\n        <h1 className={styles.title}>Drag and drop your track here</h1>\n        <div className={styles.uploader}>\n          <label className={styles.file} htmlFor={file}>\n            <input\n              className={styles.fileInput}\n              id={file}\n              type=\"file\"\n              accept=\"audio/mpeg\"\n              onChange={this.onChange.bind(this)}\n            />\n            <span>or choose file to upload</span>\n          </label>\n          {fileName && <p className={styles.fileName}>{fileName}</p>}\n          <div className={styles.note}>\n            <p>Your audio file may not exceed 10 MB and has to be in MP3 format.</p>\n          </div>\n        </div>\n        {progress === 1 && songUuid && <SongEdit uuid={songUuid} />}\n      </section>\n    );\n  }\n}\n\nUpload.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Upload));\n","import React from 'react';\nimport Status from './components/Status';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Forgot from './components/Forgot';\nimport Music from './components/Music';\nimport Upload from './components/Upload';\n\nconst routes = [\n  {\n    path: '/',\n    component: () => <Status />,\n    exact: true,\n  },\n  {\n    path: '/music',\n    component: () => <Music />,\n  },\n  {\n    path: '/upload',\n    component: () => <Upload />,\n  },\n  {\n    path: '/login',\n    component: () => <Login />,\n  },\n  {\n    path: '/register',\n    component: () => <Register />,\n  },\n  {\n    path: '/forgot',\n    component: () => <Forgot />,\n  },\n];\n\nexport default routes;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport routes from './routes';\n\nimport styles from './main.module.css';\n\nconst Main = () => (\n  <div className={styles.container}>\n    {routes.map(route => (\n      <Route\n        key={route.path.slice(1)}\n        path={route.path}\n        component={route.component}\n        exact={route.exact}\n      />\n    ))}\n  </div>\n);\n\nexport default Main;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport styles from './timeline.module.css';\n\nclass Timeline extends Component {\n  onClick(e) {\n    const { duration, onChange } = this.props;\n\n    const r = e.currentTarget.getBoundingClientRect();\n    const value = (e.clientX - r.left) / r.width;\n\n    onChange(duration * value);\n  }\n\n  render() {\n    const { currentTime, duration } = this.props;\n\n    return (\n      <div className={styles.timeline}>\n        <div className={styles.timePassed}>{moment(currentTime * 1000).format('mm:ss')}</div>\n        <div\n          className={styles.progressWrapper}\n          role=\"slider\"\n          aria-valuemax={duration}\n          aria-valuemin={0}\n          aria-valuenow={currentTime}\n          tabIndex={-1}\n          onKeyDown={null}\n          onClick={this.onClick.bind(this)}\n        >\n          <div className={styles.progressBackground}>\n            <div className={styles.progressBar} style={{ width: `${currentTime / duration * 100}%` }} />\n          </div>\n        </div>\n        <div className={styles.duration}>{moment(duration * 1000).format('mm:ss')}</div>\n      </div>\n    );\n  }\n}\n\nTimeline.propTypes = {\n  currentTime: PropTypes.number.isRequired,\n  duration: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default Timeline;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './volumeSlider.module.css';\n\nclass VolumeSlider extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { value: props.value };\n  }\n\n  onClick(e) {\n    const { onChange } = this.props;\n\n    const r = e.currentTarget.getBoundingClientRect();\n    const value = 1 - (e.clientY - r.top) / r.height;\n\n    this.setState({ value });\n    onChange(value);\n  }\n\n  render() {\n    const { value } = this.state;\n\n    return (\n      <div className={styles.wrapper}>\n        <div\n          className={styles.slider}\n          role=\"slider\"\n          aria-valuemax={1}\n          aria-valuemin={0}\n          aria-valuenow={value}\n          tabIndex={-1}\n          onKeyDown={null}\n          onClick={this.onClick.bind(this)}\n        >\n          <div className={styles.background} />\n          <div className={styles.bar} style={{ height: `${100 * value}%` }} />\n        </div>\n      </div>\n    );\n  }\n}\n\nVolumeSlider.propTypes = {\n  value: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default VolumeSlider;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './soundBadge.module.css';\n\nconst SoundBadge = ({ author, title, cover }) => (\n  <div className={styles.soundBadge}>\n    <div className={styles.cover} style={{ backgroundImage: cover ? `url(${cover})` : '' }} />\n    <div className={styles.titleContextContainer}>\n      <span className={`${styles.title} ${styles.truncate}`}>{title}</span>\n      <span className={`${styles.author} ${styles.truncate}`}>{author}</span>\n    </div>\n  </div>\n);\n\nSoundBadge.defaultProps = {\n  author: 'No Author',\n  title: 'No Title',\n  cover: '',\n};\n\nSoundBadge.propTypes = {\n  author: PropTypes.string,\n  title: PropTypes.string,\n  cover: PropTypes.string,\n};\n\nexport default SoundBadge;\n","import React, { createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../actions/player';\nimport errAction from '../../actions/error';\nimport Timeline from './components/Timeline';\nimport VolumeSlider from './components/VolumeSlider';\nimport SoundBadge from './components/SoundBadge';\n\nimport styles from './player.module.css';\n\nimport icons from './icons.svg';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Player extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      song: {},\n      songIndex: -1,\n      currentTime: 0,\n      duration: 0,\n      loop: false,\n      shuffle: false,\n      muted: false,\n      volume: 1,\n    };\n\n    this.audio = createRef();\n  }\n\n  async componentWillReceiveProps({ songs, nowPlaying, paused }) {\n    const { song } = this.state;\n\n    if (nowPlaying !== '' && song.uuid !== nowPlaying) {\n      this.setState({ songIndex: songs.findIndex(v => v.uuid === nowPlaying) });\n\n      await this.loadSong(nowPlaying);\n    }\n\n    const audio = this.audio.current;\n\n    if (paused) {\n      audio.pause();\n      return;\n    }\n\n    audio.play();\n  }\n\n  componentDidUpdate() {\n    const { song } = this.state;\n    const { paused } = this.props;\n\n    if (!song.author || !song.title || paused) {\n      document.title = 'Moosik';\n      return;\n    }\n\n    document.title = `${song.author} - ${song.title}`;\n  }\n\n  onEnded() {\n    const { songs, setNP } = this.props;\n    const { songIndex, shuffle } = this.state;\n\n    if (shuffle) {\n      setNP(songs[Math.round(Math.random() * (songs.length - 1))]);\n      return;\n    }\n\n    setNP(songs[songIndex < songs.length - 1 ? songIndex + 1 : 0].uuid);\n  }\n\n  async loadSong(uuid) {\n    const { token, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/songs/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, song } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!song) {\n        throw new Error(message);\n      }\n\n      this.setState({ song });\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const {\n      songs, setNP, paused, togglePause,\n    } = this.props;\n    const {\n      song, songIndex, currentTime, duration, muted, loop, volume, shuffle,\n    } = this.state;\n\n    return (\n      <div className={styles.player}>\n        <section className={styles.wrapper}>\n          <div className={styles.controls}>\n            <button\n              type=\"button\"\n              className={styles.control}\n              onClick={() => {\n                if (!songs.length) {\n                  return;\n                }\n\n                setNP(songs[songIndex > 0 ? songIndex - 1 : songs.length - 1].uuid);\n              }}\n            >\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#prev`} />\n              </svg>\n            </button>\n            <button\n              type=\"button\"\n              className={styles.control}\n              onClick={() => {\n                if (!songs.length) {\n                  return;\n                }\n\n                if (songIndex === -1) {\n                  setNP(songs[0].uuid);\n                  return;\n                }\n\n                togglePause(!paused);\n              }}\n            >\n              <svg className={styles.icon}>\n                <use\n                  xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n                  xlinkHref={`${icons}#${paused ? 'play' : 'pause'}`}\n                />\n              </svg>\n            </button>\n            <button\n              type=\"button\"\n              className={styles.control}\n              onClick={() => {\n                if (!songs.length) {\n                  return;\n                }\n\n                setNP(songs[songIndex < songs.length - 1 ? songIndex + 1 : 0].uuid);\n              }}\n            >\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#next`} />\n              </svg>\n            </button>\n            <button\n              type=\"button\"\n              className={styles.control}\n              onClick={() => this.setState(prev => ({ loop: !prev.loop }))}\n            >\n              <svg className={`${styles.icon} ${loop ? styles.active : ''}`}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#repeat`} />\n              </svg>\n            </button>\n            <button\n              type=\"button\"\n              className={styles.control}\n              onClick={() => this.setState(prev => ({ shuffle: !prev.shuffle }))}\n            >\n              <svg className={`${styles.icon} ${shuffle ? styles.active : ''}`}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#shuffle`} />\n              </svg>\n            </button>\n          </div>\n          <Timeline\n            currentTime={currentTime}\n            duration={duration}\n            onChange={(value) => { this.audio.current.currentTime = value; }}\n          />\n          <div className={`${styles.controls} ${styles.volume}`}>\n            <button\n              type=\"button\"\n              className={styles.control}\n              onClick={() => this.setState(prev => ({ muted: !prev.muted }))}\n            >\n              <svg className={styles.icon}>\n                <use\n                  xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n                  xlinkHref={`${icons}#${muted ? 'mute' : 'volume'}`}\n                />\n              </svg>\n            </button>\n            <VolumeSlider\n              value={volume}\n              onChange={(value) => { this.audio.current.volume = value; }}\n            />\n          </div>\n          <SoundBadge author={song.author} title={song.title} cover={song.cover} />\n          <audio\n            ref={this.audio}\n            crossOrigin=\"anonymous\"\n            preload=\"auto\"\n            src={song.url}\n            autoPlay\n            loop={loop}\n            muted={muted}\n            onLoadedMetadata={event => this.setState({ duration: event.target.duration })}\n            onCanPlay={() => togglePause(false)}\n            onTimeUpdate={event => this.setState({ currentTime: event.target.currentTime })}\n            onVolumeChange={event => this.setState({ volume: event.target.volume })}\n            onEnded={this.onEnded.bind(this)}\n          />\n        </section>\n      </div>\n    );\n  }\n}\n\nPlayer.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n  })).isRequired,\n  nowPlaying: PropTypes.string.isRequired,\n  setNP: PropTypes.func.isRequired,\n  paused: PropTypes.bool.isRequired,\n  togglePause: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n  nowPlaying: store.player.nowPlaying,\n  paused: store.player.paused,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setNP: nowPlaying => dispatch(action(actions.SET_NOW_PLAYING, nowPlaying)),\n  togglePause: paused => dispatch(action(actions.SET_PAUSE, paused)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Player);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action from '../../actions/error';\n\nimport styles from './error.module.css';\n\nclass Modal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      opacity: 0, right: '-320px',\n    };\n  }\n\n  componentDidMount() {\n    const { clearError } = this.props;\n\n    setTimeout(() => {\n      this.setState({ opacity: 1, right: 0 });\n    }, 200);\n\n    setTimeout(() => {\n      this.setState({ opacity: 0, right: '-320px' });\n    }, 4800);\n\n    setTimeout(() => {\n      clearError();\n    }, 5000);\n  }\n\n  render() {\n    const { error } = this.props;\n\n    const { opacity, right } = this.state;\n\n    return (\n      <div className={styles.errorMessage} style={{ opacity, right }}>\n        <svg className={styles.icon} viewBox=\"0 0 24 24\">\n          <path d=\"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\" />\n        </svg>\n        <div className={styles.messageBox}>\n          <span>{error}</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  error: PropTypes.string.isRequired,\n  clearError: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => ({\n  clearError: () => dispatch(action('')),\n});\n\nexport default connect(null, mapDispatchToProps)(Modal);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport Header from '../Header';\nimport Main from '../Main';\nimport Player from '../Player';\nimport Error from '../Error';\n\nimport styles from './app.module.css';\n\nimport webp from './images/bg.webp';\nimport jpf from './images/bg.jpf';\n\nconst bg = window.navigator.userAgent.includes('iPhone') ? jpf : webp;\n\nconst App = ({ token, error }) => (\n  <div className={styles.app}>\n    <div className={styles.backgroundWrapper}>\n      <div className={styles.background} style={{ backgroundImage: `url(${bg})` }} />\n    </div>\n    <main className={styles.container}>\n      <BrowserRouter>\n        <Header />\n        <Main />\n      </BrowserRouter>\n      {token && <Player />}\n    </main>\n    <div className={styles.modalWrapper}>\n      {error && <Error error={error} />}\n    </div>\n  </div>\n);\n\nApp.propTypes = {\n  token: PropTypes.string.isRequired,\n  error: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  error: store.error.message,\n});\n\nexport default connect(mapStateToProps)(App);\n","const initialState = {\n  token: window.localStorage.getItem('token') || '',\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_TOKEN':\n      return { ...state, token: action.payload };\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  songs: [],\n  nowPlaying: '',\n  paused: true,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_SONGS':\n      return { ...state, songs: action.payload };\n    case 'SET_NP':\n      return { ...state, nowPlaying: action.payload };\n    case 'SET_PAUSE':\n      return { ...state, paused: action.payload };\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  message: '',\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_ERROR_MESSAGE':\n      return { ...state, message: action.payload };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport login from './login';\nimport player from './player';\nimport error from './error';\n\nconst rootReducer = combineReducers({\n  login, player, error,\n});\n\nexport default rootReducer;\n","import { createStore } from 'redux';\nimport rootReducer from '../reducers/root';\n\nconst store = createStore(rootReducer);\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/App';\nimport store from './store';\nimport * as serviceWorker from './serviceWorker';\n\nimport './layouts/default.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}