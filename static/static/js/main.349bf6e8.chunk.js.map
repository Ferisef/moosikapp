{"version":3,"sources":["components/Player/player.module.css","components/Main/components/Music/components/Song/song.module.css","components/Main/components/Register/register.module.css","components/Main/components/Login/login.module.css","components/Header/header.module.css","components/Main/components/Upload/upload.module.css","components/Main/components/Forgot/forgot.module.css","components/Main/components/Upload/components/SongEdit/songEdit.module.css","components/Player/components/SoundBadge/soundBadge.module.css","components/Main/components/Status/status.module.css","components/Player/components/Timeline/timeline.module.css","components/Player/icons.svg","components/App/app.module.css","components/Main/components/Music/components/Song/icons.svg","components/Main/components/Music/components/Find/find.module.css","components/Player/components/VolumeSlider/volumeSlider.module.css","components/Main/components/Music/components/Nav/nav.module.css","components/Modal/modal.module.css","components/Main/components/Music/music.module.css","components/Main/main.module.css","components/App/background.webp","components/App/background.jpf","actions/login.js","components/Header/index.jsx","actions/error.js","components/Main/components/Status/index.jsx","components/Main/components/Login/index.jsx","components/Main/components/Register/index.jsx","components/Main/components/Forgot/index.jsx","components/Main/components/Music/components/Nav/index.jsx","actions/player.js","components/Main/components/Music/components/Song/index.jsx","components/Main/components/Music/components/All/index.jsx","components/Main/components/Music/components/Favorites/index.jsx","components/Main/components/Music/components/Find/index.jsx","components/Main/components/Music/routes.jsx","components/Main/components/Music/index.jsx","components/Main/components/Upload/components/SongEdit/index.jsx","components/Main/components/Upload/index.jsx","components/Main/routes.jsx","components/Main/index.jsx","components/Player/components/Timeline/index.jsx","components/Player/components/VolumeSlider/index.jsx","components/Player/components/SoundBadge/index.jsx","components/Player/index.jsx","components/Modal/index.jsx","components/App/index.jsx","reducers/login.js","reducers/player.js","reducers/error.js","reducers/root.js","store/index.js","serviceWorker.js","index.jsx"],"names":["module","exports","player","wrapper","controls","control","icon","active","volume","track","cover","defaultCover","button","play","content","actions","action","info","title","author","register","main","inputWrapper","right","input","submit","link","login","inner","left","logoLink","logo","navWrapper","container","dragOver","progressWrapper","progressBar","uploader","file","fileInput","note","fileName","forgot","songEdit","soundBadge","titleContextContainer","truncate","status","body","item","timeline","progressBackground","timePassed","duration","__webpack_require__","p","app","backgroundWrapper","background","modalWrapper","findBox","slider","bar","modal","message","token","type","payload","Header","_this","this","e","preventDefault","_this$props","props","setToken","history","window","localStorage","removeItem","push","react_default","a","createElement","className","styles","react_router_dom","to","viewBox","d","onClick","logout","React","Component","connect","store","dispatch","withRouter","process","REACT_APP_API_URL","Status","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","disk","updateStatus","interval","setInterval","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","_this2","stop","clearInterval","setError","uri","headers","accept","content-type","fetch","method","then","r","json","Error","setState","_context3","t0","filesize","totalSpace","usedSpace","maxFileSize","errAction","Login","username","password","uuids","uuidv4","JSON","stringify","setItem","htmlFor","id","placeholder","onChange","target","value","bind","Register","email","retry","test","uuid","ref","Forgot","requestPasswordChange","Nav","_ref","items","map","key","toLowerCase","concat","location","pathname","path","Song","favorite","index","np","setNP","pause","setPause","deleteFromFavorite","addToFavorite","authorization","_context2","_this$props4","edit","icons","style","backgroundImage","xmlnsXlink","xlinkHref","onPlayClick","onLikeClick","fill","defaultProps","nowPlaying","paused","All","setSongs","songs","Fragment","song","i","components_Song","Favorites","Find","query","findSongs","routes","component","components_All","exact","components_Favorites","components_Find","navItems","Music","components_Nav","route","react_router","slice","Upload","_this$uuids","update","progress","songUuid","files","name","upload","dataTransfer","_this$props2","size","xhr","XMLHttpRequest","open","setRequestHeader","onload","_JSON$parse","parse","response","onerror","onprogress","loaded","total","send","_this$state","onDrop","onDragOver","onDragLeave","width","SongEdit","components_Status","components_Music","components_Upload","components_Login","components_Register","components_Forgot","Main","Timeline","currentTarget","getBoundingClientRect","clientX","currentTime","moment","format","role","aria-valuemax","aria-valuemin","aria-valuenow","tabIndex","onKeyDown","VolumeSlider","clientY","top","height","SoundBadge","Player","loop","shuffle","muted","audio","createRef","length","loadSong","current","document","decodeURI","Math","round","random","_this$props3","onClickControl","components_Timeline","components_VolumeSlider","components_SoundBadge","src","url","onLoadedMetadata","onCanPlay","onTimeUpdate","onVolumeChange","onEnded","Modal","clearError","setTimeout","error","bg","navigator","userAgent","includes","bg2","bg1","components_Header","components_Main","components_Player","components_Modal","initialState","getItem","rootReducer","combineReducers","arguments","undefined","objectSpread","createStore","Boolean","hostname","match","ReactDOM","render","es","components_App","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.349bf6e8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"player_player__35Gch\",\"wrapper\":\"player_wrapper__2pvXA\",\"controls\":\"player_controls__yrmwU\",\"control\":\"player_control__1GAJR\",\"icon\":\"player_icon__2LOrm\",\"active\":\"player_active__2CM14\",\"volume\":\"player_volume__3Swwg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"track\":\"song_track__RX6bx\",\"cover\":\"song_cover__1Z4fR\",\"defaultCover\":\"song_defaultCover__1Scdp\",\"button\":\"song_button__sSeHU\",\"play\":\"song_play__3MQc2\",\"icon\":\"song_icon__3i7ba\",\"content\":\"song_content__TWzaj\",\"actions\":\"song_actions__2A91g\",\"action\":\"song_action__Dd0CG\",\"info\":\"song_info__jIaQd\",\"title\":\"song_title__2OYyJ\",\"author\":\"song_author__2GBdg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"register\":\"register_register__3K1Qz\",\"title\":\"register_title__1qn8q\",\"main\":\"register_main__wdjIV\",\"inputWrapper\":\"register_inputWrapper__3hxjc\",\"right\":\"register_right__6B6O5\",\"input\":\"register_input__285Xz\",\"submit\":\"register_submit__pfce4\",\"link\":\"register_link__KC47u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"login_login__KNSyK\",\"title\":\"login_title__2BrJb\",\"main\":\"login_main__3gDUL\",\"inputWrapper\":\"login_inputWrapper__PxK70\",\"right\":\"login_right__2EU-W\",\"input\":\"login_input__3Z4uP\",\"submit\":\"login_submit__3z0zh\",\"link\":\"login_link__QwjVM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"header_wrapper__2srQ8\",\"inner\":\"header_inner__ueAE6\",\"left\":\"header_left__oqI23\",\"right\":\"header_right__2pdo2\",\"logoLink\":\"header_logoLink__MRkg5\",\"logo\":\"header_logo__2Sn9n\",\"navWrapper\":\"header_navWrapper__32fBU\",\"link\":\"header_link__3JPaZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"upload_container__YcEjX\",\"dragOver\":\"upload_dragOver__wH7zX\",\"progressWrapper\":\"upload_progressWrapper__3k9Tq\",\"progressBar\":\"upload_progressBar__2tvxH\",\"title\":\"upload_title__26joS\",\"uploader\":\"upload_uploader__3OEAH\",\"inputWrapper\":\"upload_inputWrapper__2faF0\",\"file\":\"upload_file__HK228\",\"fileInput\":\"upload_fileInput__3OG6N\",\"note\":\"upload_note__1Kiz-\",\"fileName\":\"upload_fileName__3XDdK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forgot\":\"forgot_forgot__6N7KH\",\"title\":\"forgot_title__3VwzE\",\"main\":\"forgot_main__3wV8l\",\"note\":\"forgot_note__1WMHf\",\"inputWrapper\":\"forgot_inputWrapper__3NOri\",\"right\":\"forgot_right__gOi91\",\"input\":\"forgot_input__2hnXW\",\"submit\":\"forgot_submit__mizzt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"songEdit\":\"songEdit_songEdit__3tT4a\",\"inputWrapper\":\"songEdit_inputWrapper__aeef0\",\"input\":\"songEdit_input__3VVXi\",\"submit\":\"songEdit_submit__3Px4L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"soundBadge\":\"soundBadge_soundBadge__hUvOb\",\"cover\":\"soundBadge_cover__3DUfa\",\"titleContextContainer\":\"soundBadge_titleContextContainer__8tE46\",\"title\":\"soundBadge_title__3Wt33\",\"author\":\"soundBadge_author__2z1MH\",\"truncate\":\"soundBadge_truncate__3U-6n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"status_status__1dbQM\",\"title\":\"status_title__2RHYm\",\"body\":\"status_body__3W00t\",\"item\":\"status_item__2fj3D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timeline\":\"timeline_timeline__3ng4V\",\"progressWrapper\":\"timeline_progressWrapper__2Mxxn\",\"progressBackground\":\"timeline_progressBackground__VsvSl\",\"progressBar\":\"timeline_progressBar__2sPc6\",\"timePassed\":\"timeline_timePassed__pmNyr\",\"duration\":\"timeline_duration__1I6eB\"};","module.exports = __webpack_public_path__ + \"static/media/icons.174b8195.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__12nIj\",\"backgroundWrapper\":\"app_backgroundWrapper__pxt_V\",\"background\":\"app_background__2Zzp2\",\"container\":\"app_container__6cU4e\",\"modalWrapper\":\"app_modalWrapper__pg4fn\"};","module.exports = __webpack_public_path__ + \"static/media/icons.6b9d14e4.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"findBox\":\"find_findBox__27L7K\",\"inputWrapper\":\"find_inputWrapper__x-hK1\",\"input\":\"find_input__2vjAt\",\"button\":\"find_button__1PxrT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"volumeSlider_wrapper__3ckV8\",\"slider\":\"volumeSlider_slider__3DIcz\",\"background\":\"volumeSlider_background__1uv08\",\"bar\":\"volumeSlider_bar__MkJFK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"nav_wrapper__1r4zu\",\"item\":\"nav_item__ElUeo\",\"active\":\"nav_active__PiaCB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1Zq7Y\",\"icon\":\"modal_icon__1gGCi\",\"message\":\"modal_message__1c0cU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"music_wrapper__1_yq0\",\"container\":\"music_container__2azq9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"main_container__1bOBs\"};","module.exports = __webpack_public_path__ + \"static/media/background.d36aebff.webp\";","module.exports = __webpack_public_path__ + \"static/media/background.ef2963a8.jpf\";","const action = token => ({\n  type: 'SET_TOKEN',\n  payload: token,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport action from '../../actions/login';\n\nimport styles from './header.module.css';\n\nclass Header extends React.Component {\n  logout() {\n    return (e) => {\n      e.preventDefault();\n\n      const { setToken, history } = this.props;\n\n      setToken('');\n      window.localStorage.removeItem('token');\n      history.push('/login');\n    };\n  }\n\n  render() {\n    const { token } = this.props;\n\n    return (\n      <header className={styles.wrapper}>\n        <div className={styles.inner}>\n          <div className={styles.left}>\n            <Link className={styles.logoLink} to=\"/\">\n              <svg className={styles.logo} viewBox=\"0 0 24 24\">\n                <path d=\"M12,1C7,1 3,5 3,10V17A3,3 0 0,0 6,20H9V12H5V10A7,7 0 0,1 12,3A7,7 0 0,1 19,10V12H15V20H18A3,3 0 0,0 21,17V10C21,5 16.97,1 12,1Z\" />\n              </svg>\n            </Link>\n            {token && (\n              <nav className={styles.navWrapper}>\n                <Link className={styles.link} to=\"/music\">Music</Link>\n                <Link className={styles.link} to=\"/upload\">Upload</Link>\n              </nav>\n            )}\n          </div>\n          <div className={styles.right}>\n            {!token && <Link className={styles.link} to=\"/login\">Login</Link>}\n            {token && <Link className={styles.link} to=\"?logout\" onClick={this.logout()}>Logout</Link>}\n          </div>\n        </div>\n      </header>\n    );\n  }\n}\n\nHeader.propTypes = {\n  token: PropTypes.string.isRequired,\n  setToken: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setToken: token => dispatch(action(token)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Header));\n","const action = message => ({\n  type: 'SET_ERROR_MESSAGE',\n  payload: message,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport filesize from 'filesize';\nimport errAction from '../../../../actions/error';\n\nimport styles from './status.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Status extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      disk: null,\n    };\n  }\n\n  async componentDidMount() {\n    await this.updateStatus();\n    this.interval = setInterval(async () => {\n      await this.updateStatus();\n    }, 300000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  async updateStatus() {\n    const { setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/status`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, disk } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!disk) {\n        throw new Error(message);\n      }\n\n      this.setState({ disk });\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { disk } = this.state;\n\n    return (\n      <section className={styles.status}>\n        <h1 className={styles.title}>Storage Status</h1>\n        {disk && (\n          <div className={styles.body}>\n            <p className={styles.item}>\n              Total Space:&ensp;\n              <span>{filesize(disk.totalSpace)}</span>\n            </p>\n            <p className={styles.item}>\n              Used Space:&ensp;\n              <span>{filesize(disk.usedSpace)}</span>\n            </p>\n            <p className={styles.item}>\n              Max File Size:&ensp;\n              <span>{filesize(disk.maxFileSize)}</span>\n            </p>\n          </div>\n        )}\n      </section>\n    );\n  }\n}\n\nStatus.propTypes = {\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(null, mapDispatchToProps)(Status);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport action from '../../../../actions/login';\nimport errAction from '../../../../actions/error';\n\nimport styles from './login.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '', password: '',\n    };\n\n    this.uuids = {\n      username: uuidv4(), password: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  async login(e) {\n    e.preventDefault();\n\n    const { setToken, history, setError } = this.props;\n\n    const { username, password } = this.state;\n\n    const uri = `${REACT_APP_API_URL}/api/login`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, token } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ username, password }),\n      }).then(r => r.json());\n\n      if (!token) {\n        throw new Error(message);\n      }\n\n      setToken(token);\n      window.localStorage.setItem('token', token);\n      history.push('/');\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.login}>\n        <h1 className={styles.title}>Login</h1>\n        <form className={styles.main}>\n          <label htmlFor={uuids.username} className={styles.inputWrapper}>\n            <input\n              id={uuids.username}\n              className={styles.input}\n              type=\"text\"\n              placeholder=\"Username / Email\"\n              onChange={e => this.setState({ username: e.target.value })}\n            />\n          </label>\n          <label htmlFor={uuids.password} className={styles.inputWrapper}>\n            <input\n              id={uuids.password}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={e => this.setState({ password: e.target.value })}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <Link className={styles.link} to=\"/forgot\">Forgot your password?</Link>\n            <div className={styles.right}>\n              <Link className={styles.link} to=\"/register\">Need an account?</Link>\n              <input\n                className={styles.submit}\n                type=\"submit\"\n                value=\"Login\"\n                onClick={this.login.bind(this)}\n              />\n            </div>\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nLogin.propTypes = {\n  token: PropTypes.string.isRequired,\n  setToken: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setToken: token => dispatch(action(token)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Login));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\n\nimport styles from './register.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '', email: '', password: '', retry: '',\n    };\n\n    this.uuids = {\n      username: uuidv4(), email: uuidv4(), password: uuidv4(), retry: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  async register(e) {\n    e.preventDefault();\n\n    const { history, setError } = this.props;\n\n    const {\n      username, email, password, retry,\n    } = this.state;\n\n    if (!/^\\w+[\\w-.]*@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$/.test(email)) {\n      setError('Invalid email.');\n      return;\n    }\n\n    if (password !== retry) {\n      setError('Passwords don\\'t match.');\n      return;\n    }\n\n    const uri = `${REACT_APP_API_URL}/api/register`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message, uuid } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ username, email, password }),\n      }).then(r => r.json());\n\n      if (!uuid) {\n        throw new Error(message);\n      }\n\n      history.push('/login');\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.register}>\n        <h1 className={styles.title}>Register</h1>\n        <form className={styles.body}>\n          <label htmlFor={uuids.username} className={styles.inputWrapper}>\n            <input\n              ref={this.username}\n              id={uuids.username}\n              className={styles.input}\n              type=\"text\"\n              placeholder=\"Username\"\n              onChange={e => this.setState({ username: e.target.value })}\n            />\n          </label>\n          <label htmlFor={uuids.email} className={styles.inputWrapper}>\n            <input\n              ref={this.email}\n              id={uuids.email}\n              className={styles.input}\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={e => this.setState({ email: e.target.value })}\n            />\n          </label>\n          <label htmlFor={uuids.password} className={styles.inputWrapper}>\n            <input\n              ref={this.password}\n              id={uuids.password}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={e => this.setState({ password: e.target.value })}\n            />\n          </label>\n          <label htmlFor={uuids.retry} className={styles.inputWrapper}>\n            <input\n              ref={this.retry}\n              id={uuids.retry}\n              className={styles.input}\n              type=\"password\"\n              placeholder=\"Re-type Password\"\n              onChange={e => this.setState({ retry: e.target.value })}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <Link className={styles.link} to=\"/login\">Already have account?</Link>\n            <input\n              className={styles.submit}\n              type=\"submit\"\n              value=\"Register\"\n              onClick={this.register.bind(this)}\n            />\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nRegister.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Register));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\n\nimport styles from './forgot.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Forgot extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n    };\n\n    this.uuids = {\n      email: uuidv4(),\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  async requestPasswordChange(e) {\n    e.preventDefault();\n\n    const { setError } = this.props;\n\n    const { email } = this.state;\n\n    if (!/^\\w+[\\w-.]*@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$/.test(email)) {\n      setError('Invalid email.');\n      return;\n    }\n\n    const uri = `${REACT_APP_API_URL}/api/forgot`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n    };\n\n    try {\n      const { message } = await fetch(uri, {\n        method: 'POST',\n        headers,\n        body: JSON.stringify({ email }),\n      }).then(r => r.json());\n\n      setError(message);\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  render() {\n    const { uuids } = this;\n\n    return (\n      <section className={styles.forgot}>\n        <h1 className={styles.title}>Forgot</h1>\n        <form className={styles.main}>\n          <div className={styles.note}>\n            <p>To request a new password please enter your account email in the box below.</p>\n            <p>We will send you an email with further instructions.</p>\n          </div>\n          <label htmlFor={uuids.email} className={styles.inputWrapper}>\n            <input\n              ref={this.email}\n              id={uuids.email}\n              className={styles.input}\n              type=\"email\"\n              placeholder=\"Email\"\n              onChange={e => this.setState({ email: e.target.value })}\n            />\n          </label>\n          <div className={styles.inputWrapper}>\n            <input\n              className={styles.submit}\n              type=\"submit\"\n              value=\"Request Password Change\"\n              onClick={this.requestPasswordChange.bind(this)}\n            />\n          </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nForgot.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Forgot));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nimport styles from './nav.module.css';\n\nconst Nav = ({ items }) => (\n  <div className={styles.wrapper}>\n    {items && items.map(item => (\n      <Link\n        key={item.title.toLowerCase()}\n        className={`${styles.item} ${window.location.pathname === item.path ? styles.active : ''}`}\n        to={item.path}\n      >\n        {item.title}\n      </Link>\n    ))}\n  </div>\n);\n\nNav.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string,\n    path: PropTypes.string,\n  })).isRequired,\n};\n\nexport default Nav;\n","export const actions = {\n  SET_SONGS: 'SET_SONGS',\n  SET_NOW_PLAYING: 'SET_NP',\n  SET_PAUSE: 'SET_PAUSE',\n};\n\nconst action = (type, value) => ({\n  type,\n  payload: value,\n});\n\nexport default action;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\n\nimport styles from './song.module.css';\n\nimport icons from './icons.svg';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Song extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      favorite: props.favorite,\n    };\n  }\n\n  onPlayClick() {\n    const {\n      index, np, setNP, pause, setPause,\n    } = this.props;\n\n    if (index === np) {\n      setPause(!pause);\n      return;\n    }\n\n    setNP(index);\n  }\n\n  async onLikeClick() {\n    const { favorite } = this.state;\n\n    if (favorite) {\n      await this.deleteFromFavorite();\n      return;\n    }\n\n    await this.addToFavorite();\n  }\n\n  async addToFavorite() {\n    const { uuid, token, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/favorites/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message } = await fetch(uri, {\n        method: 'POST',\n        headers,\n      }).then(r => r.json());\n\n      this.setState({ favorite: true });\n      setError(message);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  async deleteFromFavorite() {\n    const { uuid, token, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/favorites/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { status } = await fetch(uri, {\n        method: 'DELETE',\n        headers,\n      });\n\n      if (status !== 204) {\n        throw new Error('Unexpected error.');\n      }\n\n      this.setState({ favorite: false });\n      setError('Successfully removed song from favorites.');\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const {\n      author, title, cover, edit, index, np, pause,\n    } = this.props;\n\n    const { favorite } = this.state;\n\n    const play = `${icons}#${((index === np) && !pause) ? 'pause' : 'play'}`;\n\n    return (\n      <div className={styles.track}>\n        <div className={styles.cover} style={{ backgroundImage: cover ? `url(${cover})` : '' }}>\n          {!cover && (\n            <svg className={styles.defaultCover}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#cover`} />\n            </svg>\n          )}\n          <button\n            className={`${styles.button} ${styles.play}`}\n            type=\"button\"\n            onClick={this.onPlayClick.bind(this)}\n          >\n            <svg className={styles.icon}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={play} />\n            </svg>\n          </button>\n        </div>\n        <div className={styles.content}>\n          <div className={styles.title}>{title}</div>\n          <div className={styles.author}>{author}</div>\n        </div>\n        <div className={styles.actions}>\n          <button\n            className={`${styles.button}\n            ${styles.action}`}\n            type=\"button\"\n            onClick={this.onLikeClick.bind(this)}\n          >\n            <svg className={styles.icon} style={{ fill: favorite ? 'var(--red)' : '' }}>\n              <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#like`} />\n            </svg>\n          </button>\n          {edit && (\n            <button className={`${styles.button} ${styles.action}`} type=\"button\">\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#edit`} />\n              </svg>\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nSong.defaultProps = {\n  cover: null,\n  edit: false,\n  favorite: true,\n};\n\nSong.propTypes = {\n  token: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n  author: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  cover: PropTypes.string,\n  favorite: PropTypes.bool,\n  index: PropTypes.number.isRequired,\n  edit: PropTypes.bool,\n  np: PropTypes.number.isRequired,\n  setNP: PropTypes.func.isRequired,\n  pause: PropTypes.bool.isRequired,\n  setPause: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  np: store.player.nowPlaying,\n  pause: store.player.paused,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setNP: np => dispatch(action(actions.SET_NOW_PLAYING, np)),\n  setPause: paused => dispatch(action(actions.SET_PAUSE, paused)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Song);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\nimport Song from '../Song';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass All extends React.Component {\n  async componentDidMount() {\n    const { token, setSongs, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/songs?opts=edit,fav`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, songs } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!songs) {\n        throw new Error(message);\n      }\n\n      setSongs(songs);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { songs } = this.props;\n\n    return (\n      <>\n        {songs.map((song, i) => (\n          <Song\n            key={song.uuid}\n            uuid={song.uuid}\n            author={song.author}\n            title={song.title}\n            cover={song.cover}\n            favorite={song.favorite}\n            index={i}\n          />\n        ))}\n      </>\n    );\n  }\n}\n\nAll.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n    favorite: PropTypes.bool,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(All);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\nimport Song from '../Song';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Favorites extends React.Component {\n  async componentDidMount() {\n    const { token, setSongs, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/favorites?opts=edit`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    const { message, songs } = await fetch(uri, {\n      method: 'GET',\n      headers,\n    }).then(r => r.json());\n\n    if (!songs) {\n      setError(message);\n      return;\n    }\n\n    setSongs(songs);\n  }\n\n  render() {\n    const { songs } = this.props;\n\n    return (\n      <>\n        {songs.map((song, i) => (\n          <Song\n            key={song.uuid}\n            uuid={song.uuid}\n            author={song.author}\n            title={song.title}\n            cover={song.cover}\n            index={i}\n          />\n        ))}\n      </>\n    );\n  }\n}\n\nFavorites.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n    favorite: PropTypes.bool,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Favorites);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../../../../../actions/player';\nimport errAction from '../../../../../../actions/error';\nimport Song from '../Song';\n\nimport styles from './find.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Find extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      query: '',\n    };\n  }\n\n  async componentDidMount() {\n    const { setSongs } = this.props;\n\n    setSongs([]);\n  }\n\n  async findSongs() {\n    const { token, setSongs, setError } = this.props;\n\n    const { query } = this.state;\n\n    const uri = `${REACT_APP_API_URL}/api/songs/find?query=${query}&opts=edit,fav`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, songs } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!songs) {\n        throw new Error(message);\n      }\n\n      setSongs(songs);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { songs } = this.props;\n\n    return (\n      <>\n        <div className={styles.findBox}>\n          <div className={styles.inputWrapper}>\n            <input\n              className={styles.input}\n              type=\"text\"\n              placeholder=\"Search music\"\n              onChange={e => this.setState({ query: e.target.value })}\n            />\n          </div>\n          <button\n            className={styles.button}\n            type=\"button\"\n            onClick={this.findSongs.bind(this)}\n          >\n            Find\n          </button>\n        </div>\n        <div>\n          {songs.map((song, i) => (\n            <Song\n              key={song.uuid}\n              uuid={song.uuid}\n              author={song.author}\n              title={song.title}\n              cover={song.cover}\n              favorite={song.favorite}\n              index={i}\n            />\n          ))}\n        </div>\n      </>\n    );\n  }\n}\n\nFind.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n    favorite: PropTypes.bool,\n  })).isRequired,\n  setSongs: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setSongs: songs => dispatch(action(actions.SET_SONGS, songs)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Find);\n","import React from 'react';\nimport All from './components/All';\nimport Fav from './components/Favorites';\nimport Find from './components/Find';\n\nconst routes = [\n  {\n    path: '/music',\n    component: () => <All />,\n    exact: true,\n  },\n  {\n    path: '/music/favorites',\n    component: () => <Fav />,\n  },\n  {\n    path: '/music/find',\n    component: () => <Find />,\n  },\n];\n\nexport default routes;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Nav from './components/Nav';\n\nimport routes from './routes';\n\nimport styles from './music.module.css';\n\nconst navItems = [\n  {\n    title: 'All',\n    path: '/music',\n  },\n  {\n    title: 'Search',\n    path: '/music/find',\n  },\n  {\n    title: 'Likes',\n    path: '/music/favorites',\n  },\n];\n\nconst Music = () => (\n  <section className={styles.wrapper}>\n    <Nav items={navItems} />\n    <div className={styles.container}>\n      {routes.map(route => (\n        <Route\n          key={route.path.slice(1)}\n          path={route.path}\n          component={route.component}\n          exact={route.exact}\n        />\n      ))}\n    </div>\n  </section>\n);\n\nexport default Music;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../../../actions/error';\n\nimport styles from './songEdit.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.uuids = {\n      author: uuidv4(),\n      title: uuidv4(),\n    };\n\n    this.state = {\n      author: '',\n      title: '',\n    };\n  }\n\n  async update() {\n    const { token, uuid, setError } = this.props;\n\n    const { author, title } = this.state;\n\n    const uri = `${REACT_APP_API_URL}/api/songs/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, song } = await fetch(uri, {\n        method: 'PATCH',\n        headers,\n        body: JSON.stringify({ author, title }),\n      }).then(r => r.json());\n\n      if (!song) {\n        setError(message);\n        return;\n      }\n\n      setError(message);\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { author, title } = this.uuids;\n\n    return (\n      <div className={styles.songEdit}>\n        <label htmlFor={author} className={styles.inputWrapper}>\n          <input\n            id={author}\n            className={styles.input}\n            type=\"text\"\n            placeholder=\"Author\"\n            onChange={e => this.setState({ author: e.target.value })}\n          />\n        </label>\n        <label htmlFor={title} className={styles.inputWrapper}>\n          <input\n            id={title}\n            className={styles.input}\n            type=\"text\"\n            placeholder=\"Title\"\n            onChange={e => this.setState({ title: e.target.value })}\n          />\n        </label>\n        <div className={styles.inputWrapper}>\n          <button\n            className={styles.submit}\n            type=\"submit\"\n            onClick={this.update.bind(this)}\n          >\n            Update\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nUpload.propTypes = {\n  token: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Upload));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport uuidv4 from 'uuid/v4';\nimport errAction from '../../../../actions/error';\nimport SongEdit from './components/SongEdit';\n\nimport styles from './upload.module.css';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.uuids = {\n      file: uuidv4(),\n    };\n\n    this.state = {\n      fileName: '',\n      progress: 0,\n      dragOver: false,\n      songUuid: '',\n    };\n  }\n\n  componentDidMount() {\n    const { token, history } = this.props;\n\n    if (!token) {\n      history.push('/');\n      return false;\n    }\n\n    return true;\n  }\n\n  onChange(e) {\n    const file = e.target.files[0];\n\n    this.setState({ fileName: file.name });\n    this.upload(file);\n  }\n\n  onDrop(e) {\n    e.preventDefault();\n\n    if (e.dataTransfer.files) {\n      const file = e.dataTransfer.files[0];\n\n      this.setState({ fileName: file.name, dragOver: false });\n      this.upload(file);\n    }\n  }\n\n  onDragOver(e) {\n    e.preventDefault();\n\n    this.setState({ dragOver: true });\n  }\n\n  onDragLeave(e) {\n    e.preventDefault();\n\n    this.setState({ dragOver: false });\n  }\n\n  upload(file) {\n    const { token, setError } = this.props;\n\n    if (file.size > 10 * 1024 * 1024) {\n      setError('File too large. Your audio file may not exceed 10 MB.');\n      return;\n    }\n\n    if (file.type !== 'audio/mp3') {\n      setError('Unsupported type. Your audio file has to be in MP3 format.');\n      return;\n    }\n\n    const xhr = new XMLHttpRequest();\n\n    xhr.open('POST', `${REACT_APP_API_URL}/api/songs`);\n\n    xhr.setRequestHeader('accept', 'application/vnd.moosikapp.v1+json');\n    xhr.setRequestHeader('content-type', 'audio/mpeg');\n    xhr.setRequestHeader('authorization', `Bearer ${token}`);\n\n    xhr.onload = () => {\n      const { message, uuid } = JSON.parse(xhr.response);\n\n      if (xhr.status === 201) {\n        this.setState({ songUuid: uuid });\n        return;\n      }\n\n      setError(message);\n    };\n\n    xhr.onerror = () => setError('Error while uploading.');\n\n    xhr.upload.onprogress = (e) => {\n      const { loaded, total, type } = e;\n\n      if (type === 'error') {\n        setError('error');\n        return;\n      }\n\n      this.setState({ progress: loaded / total });\n    };\n    xhr.send(file);\n  }\n\n  render() {\n    const {\n      fileName, songUuid, dragOver, progress,\n    } = this.state;\n\n    const { file } = this.uuids;\n\n    return (\n      <section\n        className={`${styles.container} ${dragOver ? styles.dragOver : ''}`}\n        onDrop={this.onDrop.bind(this)}\n        onDragOver={this.onDragOver.bind(this)}\n        onDragLeave={this.onDragLeave.bind(this)}\n      >\n        <div className={styles.progressWrapper}>\n          <div className={styles.progressBar} style={{ width: `${progress * 100}%` }} />\n        </div>\n        <h1 className={styles.title}>Drag and drop your track here</h1>\n        <div className={styles.uploader}>\n          <label className={styles.file} htmlFor={file}>\n            <input\n              className={styles.fileInput}\n              id={file}\n              type=\"file\"\n              accept=\"audio/mpeg\"\n              onChange={this.onChange.bind(this)}\n            />\n            <span>or choose file to upload</span>\n          </label>\n          {fileName && <p className={styles.fileName}>{fileName}</p>}\n          <div className={styles.note}>\n            <p>Your audio file may not exceed 10 MB and has to be in MP3 format.</p>\n          </div>\n        </div>\n        {progress === 1 && songUuid && <SongEdit uuid={songUuid} />}\n      </section>\n    );\n  }\n}\n\nUpload.propTypes = {\n  token: PropTypes.string.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Upload));\n","import React from 'react';\nimport Status from './components/Status';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport Forgot from './components/Forgot';\nimport Music from './components/Music';\nimport Upload from './components/Upload';\n\nconst routes = [\n  {\n    path: '/',\n    component: () => <Status />,\n    exact: true,\n  },\n  {\n    path: '/music',\n    component: () => <Music />,\n  },\n  {\n    path: '/upload',\n    component: () => <Upload />,\n  },\n  {\n    path: '/login',\n    component: () => <Login />,\n  },\n  {\n    path: '/register',\n    component: () => <Register />,\n  },\n  {\n    path: '/forgot',\n    component: () => <Forgot />,\n  },\n];\n\nexport default routes;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport routes from './routes';\n\nimport styles from './main.module.css';\n\nconst Main = () => (\n  <div className={styles.container}>\n    {routes.map(route => (\n      <Route\n        key={route.path.slice(1)}\n        path={route.path}\n        component={route.component}\n        exact={route.exact}\n      />\n    ))}\n  </div>\n);\n\nexport default Main;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport styles from './timeline.module.css';\n\nclass Timeline extends Component {\n  onClick(e) {\n    const { duration, onChange } = this.props;\n\n    const r = e.currentTarget.getBoundingClientRect();\n    const value = (e.clientX - r.left) / r.width;\n\n    onChange(duration * value);\n  }\n\n  render() {\n    const { currentTime, duration } = this.props;\n\n    return (\n      <div className={styles.timeline}>\n        <div className={styles.timePassed}>{moment(currentTime * 1000).format('mm:ss')}</div>\n        <div\n          className={styles.progressWrapper}\n          role=\"slider\"\n          aria-valuemax={duration}\n          aria-valuemin={0}\n          aria-valuenow={currentTime}\n          tabIndex={-1}\n          onKeyDown={null}\n          onClick={this.onClick.bind(this)}\n        >\n          <div className={styles.progressBackground}>\n            <div className={styles.progressBar} style={{ width: `${currentTime / duration * 100}%` }} />\n          </div>\n        </div>\n        <div className={styles.duration}>{moment(duration * 1000).format('mm:ss')}</div>\n      </div>\n    );\n  }\n}\n\nTimeline.propTypes = {\n  currentTime: PropTypes.number.isRequired,\n  duration: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default Timeline;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './volumeSlider.module.css';\n\nclass VolumeSlider extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { value: props.value };\n  }\n\n  onClick(e) {\n    const { onChange } = this.props;\n\n    const r = e.currentTarget.getBoundingClientRect();\n    const value = 1 - (e.clientY - r.top) / r.height;\n\n    this.setState({ value });\n    onChange(value);\n  }\n\n  render() {\n    const { value } = this.state;\n\n    return (\n      <div className={styles.wrapper}>\n        <div\n          className={styles.slider}\n          role=\"slider\"\n          aria-valuemax={1}\n          aria-valuemin={0}\n          aria-valuenow={value}\n          tabIndex={-1}\n          onKeyDown={null}\n          onClick={this.onClick.bind(this)}\n        >\n          <div className={styles.background} />\n          <div className={styles.bar} style={{ height: `${100 * value}%` }} />\n        </div>\n      </div>\n    );\n  }\n}\n\nVolumeSlider.propTypes = {\n  value: PropTypes.number.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default VolumeSlider;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './soundBadge.module.css';\n\nconst SoundBadge = ({ author, title, cover }) => (\n  <div className={styles.soundBadge}>\n    <div className={styles.cover} style={{ backgroundImage: cover ? `url(${cover})` : '' }} />\n    <div className={styles.titleContextContainer}>\n      <span className={`${styles.title} ${styles.truncate}`}>{title}</span>\n      <span className={`${styles.author} ${styles.truncate}`}>{author}</span>\n    </div>\n  </div>\n);\n\nSoundBadge.defaultProps = {\n  author: 'No Author',\n  title: 'No Title',\n  cover: '',\n};\n\nSoundBadge.propTypes = {\n  author: PropTypes.string,\n  title: PropTypes.string,\n  cover: PropTypes.string,\n};\n\nexport default SoundBadge;\n","import React, { createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action, { actions } from '../../actions/player';\nimport errAction from '../../actions/error';\nimport Timeline from './components/Timeline';\nimport VolumeSlider from './components/VolumeSlider';\nimport SoundBadge from './components/SoundBadge';\n\nimport styles from './player.module.css';\n\nimport icons from './icons.svg';\n\nconst { REACT_APP_API_URL = '' } = process.env;\n\nclass Player extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      song: {},\n      currentTime: 0,\n      duration: 0,\n      loop: false,\n      shuffle: false,\n      muted: false,\n      volume: 1,\n    };\n\n    this.audio = createRef();\n  }\n\n  async componentDidUpdate(prev) {\n    const { songs, np, pause } = this.props;\n\n    const { song } = this.state;\n\n    if (!songs.length) {\n      return;\n    }\n\n    if (prev.np !== np) {\n      await this.loadSong(songs[np].uuid);\n      return;\n    }\n\n    if (prev.pause !== pause) {\n      const audio = this.audio.current;\n\n      if (pause) {\n        audio.pause();\n        document.title = 'Moosik';\n        return;\n      }\n\n      audio.play();\n      document.title = `${decodeURI(song.author)} - ${decodeURI(song.title)}`;\n    }\n  }\n\n  onCanPlay(e) {\n    const { setPause } = this.props;\n\n    e.target.play();\n\n    setPause(false);\n  }\n\n  onEnded() {\n    const { songs, np, setNP } = this.props;\n    const { shuffle } = this.state;\n\n    if (shuffle) {\n      setNP(Math.round(Math.random() * (songs.length - 1)));\n      return;\n    }\n\n    setNP(np < songs.length - 1 ? np + 1 : -1);\n  }\n\n  onClickControl(e) {\n    const type = e.currentTarget.name;\n\n    const {\n      songs, np, setNP, pause, setPause,\n    } = this.props;\n\n    switch (type) {\n      case 'prev': {\n        setNP(np > 0 ? np - 1 : songs.length - 1);\n        break;\n      }\n      case 'play': {\n        if (np === -1) {\n          setNP(np === -1 ? 0 : np);\n          return;\n        }\n\n        setPause(!pause);\n        break;\n      }\n      case 'next': {\n        setNP(np < songs.length - 1 ? np + 1 : 0);\n        break;\n      }\n      default:\n    }\n  }\n\n  async loadSong(uuid) {\n    const { token, setError } = this.props;\n\n    const uri = `${REACT_APP_API_URL}/api/songs/${uuid}`;\n\n    const headers = {\n      accept: 'application/vnd.moosikapp.v1+json',\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`,\n    };\n\n    try {\n      const { message, song } = await fetch(uri, {\n        method: 'GET',\n        headers,\n      }).then(r => r.json());\n\n      if (!song) {\n        throw new Error(message);\n      }\n\n      this.setState({ song });\n      document.title = `${decodeURI(song.author)} - ${decodeURI(song.title)}`;\n    } catch (e) {\n      setError(e.message);\n    }\n  }\n\n  render() {\n    const { pause } = this.props;\n    const {\n      song, currentTime, duration, muted, loop, volume, shuffle,\n    } = this.state;\n\n    return (\n      <div className={styles.player}>\n        <section className={styles.wrapper}>\n          <div className={styles.controls}>\n            <button\n              type=\"button\"\n              className={styles.control}\n              name=\"prev\"\n              onClick={this.onClickControl.bind(this)}\n            >\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#prev`} />\n              </svg>\n            </button>\n            <button\n              type=\"button\"\n              className={styles.control}\n              name=\"play\"\n              onClick={this.onClickControl.bind(this)}\n            >\n              <svg className={styles.icon}>\n                <use\n                  xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n                  xlinkHref={`${icons}#${pause ? 'play' : 'pause'}`}\n                />\n              </svg>\n            </button>\n            <button\n              type=\"button\"\n              className={styles.control}\n              name=\"next\"\n              onClick={this.onClickControl.bind(this)}\n            >\n              <svg className={styles.icon}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#next`} />\n              </svg>\n            </button>\n            <button\n              type=\"button\"\n              className={styles.control}\n              onClick={() => this.setState(prev => ({ loop: !prev.loop }))}\n            >\n              <svg className={`${styles.icon} ${loop ? styles.active : ''}`}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#repeat`} />\n              </svg>\n            </button>\n            <button\n              type=\"button\"\n              className={styles.control}\n              onClick={() => this.setState(prev => ({ shuffle: !prev.shuffle }))}\n            >\n              <svg className={`${styles.icon} ${shuffle ? styles.active : ''}`}>\n                <use xmlnsXlink=\"http://www.w3.org/1999/xlink\" xlinkHref={`${icons}#shuffle`} />\n              </svg>\n            </button>\n          </div>\n          <Timeline\n            currentTime={currentTime}\n            duration={duration}\n            onChange={(value) => { this.audio.current.currentTime = value; }}\n          />\n          <div className={`${styles.controls} ${styles.volume}`}>\n            <button\n              type=\"button\"\n              className={styles.control}\n              onClick={() => this.setState(prev => ({ muted: !prev.muted }))}\n            >\n              <svg className={styles.icon}>\n                <use\n                  xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n                  xlinkHref={`${icons}#${muted ? 'mute' : 'volume'}`}\n                />\n              </svg>\n            </button>\n            <VolumeSlider\n              value={volume}\n              onChange={(value) => { this.audio.current.volume = value; }}\n            />\n          </div>\n          <SoundBadge author={song.author} title={song.title} cover={song.cover} />\n          <audio\n            ref={this.audio}\n            src={song.url}\n            muted={muted}\n            loop={loop}\n            onLoadedMetadata={e => this.setState({ duration: e.target.duration })}\n            onCanPlay={this.onCanPlay.bind(this)}\n            onTimeUpdate={e => this.setState({ currentTime: e.target.currentTime })}\n            onVolumeChange={e => this.setState({ volume: e.target.volume })}\n            onEnded={this.onEnded.bind(this)}\n          />\n        </section>\n      </div>\n    );\n  }\n}\n\nPlayer.propTypes = {\n  token: PropTypes.string.isRequired,\n  songs: PropTypes.arrayOf(PropTypes.shape({\n    uuid: PropTypes.string,\n    author: PropTypes.string,\n    title: PropTypes.string,\n    cover: PropTypes.string,\n  })).isRequired,\n  np: PropTypes.number.isRequired,\n  setNP: PropTypes.func.isRequired,\n  pause: PropTypes.bool.isRequired,\n  setPause: PropTypes.func.isRequired,\n  setError: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  songs: store.player.songs,\n  np: store.player.nowPlaying,\n  pause: store.player.paused,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setNP: np => dispatch(action(actions.SET_NOW_PLAYING, np)),\n  setPause: pause => dispatch(action(actions.SET_PAUSE, pause)),\n  setError: message => dispatch(errAction(message)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Player);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport action from '../../actions/error';\n\nimport styles from './modal.module.css';\n\nclass Modal extends React.Component {\n  componentDidMount() {\n    const { clearError } = this.props;\n\n    setTimeout(() => {\n      clearError();\n    }, 5000);\n  }\n\n  render() {\n    const { error } = this.props;\n\n    return (\n      <div className={styles.modal}>\n        <svg className={styles.icon} viewBox=\"0 0 24 24\">\n          <path d=\"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z\" />\n        </svg>\n        <div className={styles.message}>\n          <span>{error}</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  error: PropTypes.string.isRequired,\n  clearError: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = dispatch => ({\n  clearError: () => dispatch(action('')),\n});\n\nexport default connect(null, mapDispatchToProps)(Modal);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport Header from '../Header';\nimport Main from '../Main';\nimport Player from '../Player';\nimport Modal from '../Modal';\n\nimport styles from './app.module.css';\n\nimport bg1 from './background.webp';\nimport bg2 from './background.jpf';\n\nconst bg = window.navigator.userAgent.includes('iPhone') ? bg2 : bg1;\n\nconst App = ({ token, error }) => (\n  <div className={styles.app}>\n    <div className={styles.backgroundWrapper}>\n      <div className={styles.background} style={{ backgroundImage: `url(${bg})` }} />\n    </div>\n    <main className={styles.container}>\n      <BrowserRouter>\n        <Header />\n        <Main />\n      </BrowserRouter>\n      {token && <Player />}\n    </main>\n    <div className={styles.modalWrapper}>\n      {error && <Modal error={error} />}\n    </div>\n  </div>\n);\n\nApp.propTypes = {\n  token: PropTypes.string.isRequired,\n  error: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = store => ({\n  token: store.login.token,\n  error: store.error.message,\n});\n\nexport default connect(mapStateToProps)(App);\n","const initialState = {\n  token: window.localStorage.getItem('token') || '',\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_TOKEN':\n      return { ...state, token: action.payload };\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  songs: [],\n  nowPlaying: -1,\n  paused: true,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_SONGS':\n      return { ...state, songs: action.payload };\n    case 'SET_NP':\n      return { ...state, nowPlaying: action.payload };\n    case 'SET_PAUSE':\n      return { ...state, paused: action.payload };\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  message: '',\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case 'SET_ERROR_MESSAGE':\n      return { ...state, message: action.payload };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport login from './login';\nimport player from './player';\nimport error from './error';\n\nconst rootReducer = combineReducers({\n  login, player, error,\n});\n\nexport default rootReducer;\n","import { createStore } from 'redux';\nimport rootReducer from '../reducers/root';\n\nconst store = createStore(rootReducer);\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './components/App';\nimport store from './store';\nimport * as serviceWorker from './serviceWorker';\n\nimport './layouts/default.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}